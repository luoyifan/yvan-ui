{"version":3,"file":"yvan-ui.js","sources":["../src/YvanEvent.ts","../src/DesignHelper.ts","../src/CtlBase.ts","../src/CtlUtils.ts","../src/YvanUIExtend.ts","../src/Service.ts","../src/YvanDataSourceImp.ts","../src/CtlDefaultValue.ts","../src/Utils.ts","../src/CtlTree.ts","../src/CtlTreeTable.ts","../src/CtlContextMenu.ts","../src/CtlTab.ts","../src/CtlDataview.ts","../src/CtlECharts.ts","../src/CtlButton.ts","../src/YvanUIMessage.ts","../src/form/input/CtlInput.ts","../src/form/input/CtlText.ts","../src/form/other/CtlCheckBox.ts","../src/form/select/CtlCombo.ts","../src/form/input/CtlDatePicker.ts","../src/form/input/CtlDateRangePicker.ts","../src/form/CtlForm.ts","../src/form/select/CtlMultiCombo.ts","../src/form/input/CtlSearch.ts","../src/CtlCarousel.ts","../src/CtlGridLocale.ts","../src/CtlGridPage.ts","../src/CtlGridIdRender.ts","../src/CtlGridDefault.ts","../src/CtlGridCellCheckbox.ts","../src/CtlGridHeadCheckbox.ts","../src/YvanDataSourceGridImp.ts","../src/CtlGridCellButton.ts","../src/CtlGridFilterSet.ts","../src/CtlGridEditor.ts","../src/CtlGridEditorText.ts","../src/CtlGridEditorCombo.ts","../src/CtlGrid.ts","../src/form/other/CtlSwitch.ts","../src/form/input/CtlNumber.ts","../src/form/other/CtlRadio.ts","../src/CtlCodeMirror.ts","../src/CtlSidebar.ts","../src/CtlXterm.ts","../src/CtlConsoleLog.ts","../src/YvanRender.ts","../src/YvanUIAjax.ts","../src/YvanUIDb.ts","../src/YvanUIUtils.ts","../src/YvanUIModule.ts","../src/YvanUICode.ts","../src/PropertyDescription.ts","../src/PropertyDescriptionTable.ts","../src/UserComponent.ts"],"sourcesContent":["export type YvEvent<SENDER, T> =\n  | EventBindFunction\n  | EventBindCommon\n  | EventBindSystem\n  | EventBindDialog\n  | EventFunction<SENDER, T>\n\nexport interface EventBindFunction {\n  type: 'function'\n  bind: string\n}\n\nexport interface EventBindCommon {\n  type: 'common'\n  bind: string\n}\n\nexport interface EventBindSystem {\n  type: 'system'\n  bind: string\n}\n\nexport interface EventBindDialog {\n  type: 'dialog'\n  dialogId: string\n}\n\nexport type EventFunction<SENDER, ARGS> = (sender: SENDER, args: ARGS) => void\n\nexport function YvEventDispatch<T, ARGS>(\n  event: YvEvent<T, any> | undefined,\n  sender: T,\n  args: ARGS,\n  scope?: any\n) {\n  if (!event) {\n    // 事件没定义\n    return\n  }\n\n  const ctl: any = sender\n  const vue = _.isUndefined(scope) ? ctl._webix.$scope : scope\n\n  if (typeof event === 'function') {\n    // 事件本身就是方法\n    return event.call(vue, sender, args)\n  }\n\n  if (event.type === 'function') {\n    const targetFunc = _.get(vue, event.bind)\n    if (typeof targetFunc !== 'function') {\n      console.error(`模块没有 ${event.bind} 函数`)\n      return\n    }\n\n    return targetFunc.apply(vue, [sender, args])\n  }\n}\n","let designMode = false;\n\nexport function initDesign(): void {\n    designMode = true;\n}\n\nexport function isDesignMode(): boolean {\n    return designMode;\n}\n","import { YvEvent, YvEventDispatch } from './YvanEvent'\nimport { BaseModule } from './YvanUIModule'\nimport { isDesignMode } from './DesignHelper'\nimport webix from 'webix'\n\nexport abstract class CtlBase<T> {\n  /**\n   * 渲染时触发\n   */\n  public onRender?: YvEvent<CtlBase<T>, void>\n\n  /**\n   * 实体类属性\n   */\n  public entityName?: string\n\n  /**\n   * 控件名\n   */\n  public ctlName?: string\n\n  /**\n   * 最初始时候的 json\n   */\n  public vjson: any\n\n  /**\n   * 定焦时间\n   */\n  public ff: number = 0\n\n  /**\n   * webix API\n   * webix.ui 渲染完毕之后，webix对象就存放在这里\n   */\n  protected _webix: any\n\n  /**\n   * 控件所在的用户模块\n   */\n  protected _module!: BaseModule<any, any, any>\n\n  /**\n   * 为 entityName 进行 watch 的解绑函数\n   */\n  private _entityWatch?: Function\n\n  /**\n   * 在 webix 还没有初始化 (webix.ui) 的时候\n   * 设置的属性就临时存放在这里. 最终会作为 webix 的属性来渲染\n   */\n  protected _webixConfig: any\n\n  constructor(vjson: any) {\n    this.vjson = _.cloneDeep(vjson)\n\n    if (vjson.hasOwnProperty('debugger')) {\n      debugger\n    }\n  }\n\n  /**\n   * 强制组件获得焦点\n   */\n  public focus(): void {\n    if (!this._webix) {\n      return\n    }\n    this._webix.focus()\n  }\n\n  /**\n   * 设置正在读取中的状态\n   */\n  set loading(nv: boolean) {\n    if (nv) {\n      webix.extend(this._webix, webix.OverlayBox)\n      //this._webix.showOverlay(\"<div style='...'>There is no data</div>\");\n      this._webix.showOverlay('Loading...')\n    } else {\n      this._webix.hideOverlay()\n    }\n  }\n\n  /**\n   * 获取模块\n   */\n  public getModule() {\n    return this._module\n  }\n\n  /**\n   * 组件被渲染后触发\n   */\n  protected attachHandle(webixHandler: any, vjson: any) {\n    this._webix = webixHandler\n    this._module = this._webix.$scope\n\n    YvEventDispatch(this.onRender, this, undefined)\n    this.refreshState()\n\n    if (_.has(vjson, 'entityName')) {\n      _.set(this._module, '_entityCtlMapping.' + vjson['entityName'], this)\n    }\n  }\n\n  protected getCtlElements(element: any) {\n    let entityArray: any[] = []\n    if (_.isArray(element)) {\n      element.forEach((item: any) => {\n        entityArray = _.union(entityArray, this.getCtlElements(item))\n      })\n    }\n    else if (_.isObject(element)) {\n      if (element.hasOwnProperty(\"view\")) {\n        let items = _.get(element, \"view\");\n        entityArray = _.union(entityArray, [items]);\n      }\n      if (element.hasOwnProperty(\"rows\")) {\n        let items = _.get(element, \"rows\");\n        items.forEach((item: any) => {\n          entityArray = _.union(entityArray, this.getCtlElements(item))\n        });\n      }\n      else if (element.hasOwnProperty(\"cols\")) {\n        let items = _.get(element, \"cols\");\n        items.forEach((item: any) => {\n          entityArray = _.union(entityArray, this.getCtlElements(item))\n        });\n      }\n      else if (element.hasOwnProperty(\"elements\")) {\n        let items = _.get(element, \"elements\");\n        items.forEach((item: any) => {\n          entityArray = _.union(entityArray, this.getCtlElements(item))\n        });\n      }\n      else if (element.hasOwnProperty(\"body\")) {\n        let item = _.get(element, \"body\");\n        entityArray = _.union(entityArray, this.getCtlElements(item))\n      }\n    }\n    return entityArray;\n  }\n\n  /**\n   * 组件被移除后触发\n   */\n  protected removeHandle() {\n    const d = this._webix\n    if (!d) {\n      return\n    }\n\n    this._webix = undefined\n    if (d) {\n      d.destructor()\n    }\n    this.refreshState()\n  }\n\n  /**\n   * 控件 value 值发生变化后，设置 entityName 对应的值\n   */\n  protected changeToEntity(value: any) {\n    if (this.entityName) {\n      // 带 entityName 实体绑定\n      _.set(this._module, this.entityName, value)\n    }\n  }\n\n  /**\n   * vue 或 webix 组件被设置后触发\n   */\n  protected refreshState() {\n    if (isDesignMode()) {\n      return\n    }\n    if (this._webix) {\n      /* ================================ 安装 ================================ */\n      if (this.ctlName) {\n        // 带 ctlName 控件属性\n        this._module.refs[this.ctlName] = this\n      }\n\n      if (this.entityName) {\n        // 带 entityName 实体绑定\n        this._entityWatch = this._module.$watch(\n          this.entityName,\n          (nv: any, ov: any) => {\n            _.set(this, 'value', nv)\n          },\n          { immediate: true }\n        )\n      }\n\n      return\n    }\n\n    /* ================================ 卸载 ================================ */\n    if (this.ctlName) {\n      // 删除控件\n      if (this._module) {\n        delete this._module.refs[this.ctlName]\n      }\n    }\n\n    if (this._entityWatch) {\n      // 解除绑定\n      this._entityWatch()\n      delete this._entityWatch\n    }\n\n    delete this._module\n  }\n\n  /**\n   * 设置隐藏\n   */\n  set hidden(nv: boolean) {\n    this._webixConfig.hidden = nv\n    if (!this._webix) {\n      return\n    }\n\n    if (nv) {\n      this._webix.hide()\n    } else {\n      this._webix.show()\n    }\n  }\n\n  get hidden(): boolean {\n    return this._webixConfig.hidden\n  }\n}\n","/**\n * 内部函数\n * 将 vjson 中，属于 yvanui 的属性从 vjson 中删掉。\n * 并返回 yvanProp 属性\n */\nexport function parseYvanPropChangeVJson(vjson: any, names: string[]): any {\n\n    const yvanProp: any = {};\n\n    _.forEach([\n        ...names,\n        'debugger',\n        'ctlName',\n        'entityName',\n        'onRender'\n\n    ], name => {\n        if (_.has(vjson, name)) {\n            yvanProp[name] = vjson[name];\n            delete vjson[name]\n        }\n    });\n\n    return yvanProp\n}\n","import { Ajax } from './YvanUIAjax';\nimport { Db } from './YvanUIDb';\n\nexport type FormatterFunction = (id: string) => string;\n\nexport type ValidFunction = (value: string) => string | ValidFunction | undefined;\n\nexport type ComplexValidFunction = (valid: string, value: string) => string | undefined;\n\nexport interface DictItem {\n    id: string;\n    text: string;\n\n    [id: string]: string;\n}\n\nexport type Dict = DictItem[];\n\n/**\n * YvanUI 全局扩展配置\n */\nexport interface ExtendOption {\n    /**\n     * 扩展自定义的 ajax 方法\n     */\n    ajax: Ajax.Function;\n\n    /**\n     * serverJS 请求前缀\n     */\n    serverJsPrefix: string;\n\n    /**\n     * 扩展自定义的数据库\n     */\n    dbs: { [db: string]: Db.Client };\n\n    /**\n     * 扩展全局 formatter 函数\n     */\n    formatter: { [db: string]: FormatterFunction };\n\n    /**\n     * 扩展全局 dict 字典\n     */\n    dict: { [dictName: string]: Dict };\n\n    /**\n     * 扩展全局 校验方法\n     */\n    validType: { [validName: string]: ValidFunction };\n\n    /**\n     * 复杂校验通用方法\n     */\n    complexValid: { [validName: string]: ComplexValidFunction };\n\n    /**\n     * 组件渲染过滤器, 如果方法返回 false 代表该组件不需要被渲染.\n     * 可以修改 vjson 的内容，但不能删除他\n     */\n    componentRenderFilter: (vjson: any) => undefined | boolean\n}\n\nexport const version = \"3.0.2\"\n\n/**\n * 全局 ajax 方法\n */\nexport let ajax: Ajax.Function;\n\n/**\n * 全局 数据库连接\n */\nexport const dbs: { [db: string]: Db.Client } = {};\n\n/**\n * 全局 formatter 函数\n */\nexport const formatter: { [db: string]: FormatterFunction } = {};\n\n/**\n * 全局 dict 字典\n */\nexport const dict: { [dictName: string]: Dict } = {};\n\n/**\n * 全局 校验方法\n */\nexport const validType: { [validName: string]: ValidFunction } = {};\n\n/**\n * 复杂校验通用方法\n */\nexport const complexValid: { [validName: string]: ComplexValidFunction } = {};\n\n/**\n * 组件渲染过滤器, 如果方法返回 false 代表该组件不需要被渲染.\n * 可以修改 vjson 的内容，但不能删除他\n */\nexport let componentRenderFilter: (undefined | ((vjson: any) => undefined | boolean)) = undefined;\n\nexport function getServerPrefix(url: string) {\n    return _.get(window, '_YvanUI_serverJSPrefix') + url;\n}\n\n/**\n * YvanUI 全局扩展配置\n * @param option 配置信息\n */\nexport function extend(option: Partial<ExtendOption>) {\n    if (option.ajax) {\n        ajax = option.ajax\n    }\n\n    if (option.serverJsPrefix) {\n        _.extend(window, { _YvanUI_serverJSPrefix: option.serverJsPrefix });\n    }\n\n    if (option.dbs) {\n        _.extend(dbs, option.dbs);\n    }\n\n    if (option.dict) {\n        _.extend(dict, option.dict);\n    }\n\n    if (option.validType) {\n        _.extend(validType, option.validType);\n    }\n\n    if (option.formatter) {\n        _.extend(formatter, option.formatter);\n    }\n\n    if (option.complexValid) {\n        _.extend(complexValid, option.complexValid);\n    }\n\n    if (option.componentRenderFilter) {\n        componentRenderFilter = option.componentRenderFilter\n    }\n}\n","import 'reflect-metadata';\nimport { Ajax } from './YvanUIAjax';\n\n/**\n * 提取返回值类型\n */\nexport type RType<T> = T extends (...args: any[]) => infer R ? R : any\n\n/**\n * 提取返回值\n */\nexport type PType<T> = T extends (...args: infer P) => any ? P : never\n\n/**\n * 服务代理包装类型\n */\nexport type Broker<T> = {\n    [KEY in keyof T]: T[KEY] extends Function ? (...args: PType<T[KEY]>) => Promise<RType<T[KEY]>> : never\n}\n\n/**\n * 服务调用\n */\nexport function brokerInvoke(serverUrl: string, method: string, args: any): Promise<any> {\n    return new Promise((resolve,reject) => {\n        const ajax: Ajax.Function = _.get(window, 'YvanUI.ajax');\n\n        ajax({\n            url: serverUrl + '@' + method,\n            method: 'POST-JSON',\n            data: args\n\n        }).then(res => {\n            resolve(res);\n            \n        }).catch(e=>{\n            reject(e);\n        });\n    })\n}\n\n/**\n * 创建服务代理\n */\nexport function createBroker<T extends new (...args: any) => any>(serviceType: T): Broker<InstanceType<T>> {\n\n    const serviceProxy: any = serviceType;\n    const result = {};\n    // 具体参见 com.yvan.serverless.ServerLessServlet@doGet\n    _.each(serviceProxy.funcs, fun => {\n        _.set(result, fun, function () {\n            return brokerInvoke(serviceProxy.invokeUrl, fun, {\n                args: Array.prototype.slice.call(arguments)\n            });\n        });\n    });\n\n    return <Broker<InstanceType<T>>>result;\n}","import { DataSource, DataSourceStaticFunction, DataSourceDb, DataSourceServer, DataSourceProcessFunction } from './YvanDataSource'\nimport { YvEvent, YvEventDispatch } from './YvanEvent'\nimport * as YvanUI from './YvanUIExtend'\nimport { isDesignMode } from './DesignHelper'\nimport { brokerInvoke } from './Service'\nimport { Db } from './YvanUIDb'\n\nexport class YvDataSource<T> {\n  private readonly module: any\n  private option: DataSource<T>\n  private dataSourceProcess?: DataSourceProcessFunction\n  private ctl: any\n  private watches: Function[] = []\n  public reload: undefined | (() => void)\n\n  customFunctionModeDebounce = _.debounce((option: DataSourceStaticFunction<T>) => {\n    const that = this\n\n    that.ctl.loading = true\n    option.call(that.module, that.ctl, {\n      successCallback(data: any[]) {\n        if (that.dataSourceProcess) {\n          //自定义的数据处理过程\n          that.ctl.dataReal = that.dataSourceProcess(data)\n        } else {\n          that.ctl.dataReal = data\n        }\n\n        that.ctl.loading = false\n        YvEventDispatch(that.ctl.onDataComplete, that.ctl, undefined)\n      },\n      failCallback() {\n        that.ctl.dataReal = []\n        that.ctl.loading = false\n        YvEventDispatch(that.ctl.onDataComplete, that.ctl, undefined)\n      }\n    })\n  });\n\n  sqlModeDebounce = _.debounce((option: DataSourceDb | DataSourceServer) => {\n    const that = this\n\n    //异步请求数据内容\n    that.ctl.loading = true\n\n    let ajaxPromise: Promise<Db.Response>;\n    if (option.type === 'SQL') {\n      ajaxPromise = YvanUI.dbs[option.db].query({\n        params: option.params,\n        needCount: false,\n        sqlId: option.sqlId\n      })\n\n    } else if (option.type === 'Server') {\n      const [serverUrl, method] = _.split(option.method, '@');\n      ajaxPromise = <Promise<Db.Response>>brokerInvoke(YvanUI.getServerPrefix(serverUrl), method, {\n        params: option.params,\n        needCount: false,\n      })\n\n    } else {\n      console.error('unSupport dataSource mode:', option);\n      that.ctl.dataReal = []\n      that.ctl.loading = false\n      return;\n    }\n\n    ajaxPromise.then(res => {\n      const { data: resultData, params: resParams } = res\n\n      if (this.dataSourceProcess) {\n        //自定义的数据处理过程\n        that.ctl.dataReal = this.dataSourceProcess(resultData)\n      } else {\n        that.ctl.dataReal = resultData\n      }\n      YvEventDispatch(that.ctl.onDataComplete, that.ctl, undefined)\n\n    }).catch(r => {\n      that.ctl.dataReal = []\n\n    }).finally(() => {\n      that.ctl.loading = false\n\n    })\n  });\n\n  /**\n   * 自定义函数式取值\n   */\n  setCustomFunctionMode(option: DataSourceStaticFunction<T>) {\n    const that = this\n    this.reload = () => {\n      that.customFunctionModeDebounce(option)\n    }\n    this.reload()\n  }\n\n  /**\n   * SQL取值\n   */\n  setSqlMode(option: DataSourceDb | DataSourceServer) {\n    const that = this\n    this.reload = () => {\n      that.sqlModeDebounce(option)\n    }\n    this.reload()\n  }\n\n  constructor(ctl: any, option: DataSource<T>, dataSourceProcess?: DataSourceProcessFunction) {\n    if (isDesignMode()) {\n      return\n    }\n    this.ctl = ctl\n    this.option = option\n    this.dataSourceProcess = dataSourceProcess\n    this.module = ctl._webix.$scope\n  }\n\n  public init() {\n    if (!this.option) {\n      //没有设值，退出\n      this.reload = undefined\n      return\n    }\n\n    if (typeof this.option === 'function') {\n      //以 function 方式运行\n      this.setCustomFunctionMode(this.option)\n      return\n    }\n\n    if (_.isArray(this.option)) {\n      //结果就是数组\n      this.reload = () => {\n        this.ctl.dataReal = this.option\n        this.ctl.$yvDispatch(this.ctl.onDataComplete)\n      }\n      this.reload()\n      return\n    }\n\n    // 使 watch 生效\n    _.each(this.option.watch, watchExp => {\n      const unwatch = this.module.$watch(watchExp, () => {\n        if (this.reload) {\n          this.reload()\n        }\n      })\n      this.watches.push(unwatch)\n    })\n\n    if (this.option.type === 'function') {\n      // 取 bind 函数\n      if (typeof this.option.bind === 'function') {\n        this.setCustomFunctionMode(this.option.bind)\n      } else {\n        const bindFunction: DataSourceStaticFunction<T> = _.get(\n          this.module,\n          this.option.bind\n        ) as DataSourceStaticFunction<T>\n        if (!bindFunction) {\n          console.error(`没有找到名称为 ${this.option.bind} 的方法`)\n          return\n        }\n        this.setCustomFunctionMode(bindFunction)\n      }\n    } else if (this.option.type === 'SQL' || this.option.type === 'Server') {\n      this.setSqlMode(this.option)\n    } else {\n      console.error(`其他方式没有实现`)\n    }\n  }\n\n  destory() {\n    // 解除全部 watch\n    _.each(this.watches, unwatch => {\n      unwatch()\n    })\n    this.reload = undefined\n    this.ctl.dataReal = []\n  }\n}\n","export const CtlButtonDefault: any = {\n    text: '',\n    icon: '',\n    // width: 120,\n    type: 'text',\n    autowidth: true,\n    // cssType: 'primary'\n};\n\nexport const CtlDataviewDefault: any = {};\n\nexport const CtlTreeDefault: any = {\n    showCheckbox: false,\n    showLeftIcon: true,\n    showIcon: true,\n};\n\nexport const CtlSidebarDefault: any = {\n\n}\n\nexport const CtlXtermDefault: any = {\n\n}\n\nexport const CtlConsoleLogDefault: any = {\n\n}\n\nexport const CtlCodeMirrorDefault = {\n    mode: 'sql',\n    indentWithTabs: true,\n    smartIndent: true,\n    lineNumbers: true,\n    matchBrackets: true,\n    autofocus: true,\n    extraKeys: { \"Ctrl-Space\": \"autocomplete\" },\n    hintOptions: {\n        tables: {\n            users: [\"name\", \"score\", \"birthDate\"],\n            countries: [\"name\", \"population\", \"size\"]\n        }\n    }\n};\n\nconst CtlInputDefault: any = {\n    labelWidth: 110,\n    labelAlign: 'right',\n    // width: 250,\n    prompt: '请输入'\n};\n\nexport const CtlTextDefault: any = {\n    ...CtlInputDefault\n};\n\nexport const CtlNumberDefault: any = {\n    ...CtlInputDefault,\n    precision: 0,\n};\n\nexport const CtlDateDefault: any = {\n    ...CtlInputDefault,\n    prompt: '请选择'\n};\n\nexport const CtlDateTimeDefault: any = {\n    ...CtlInputDefault,\n    //width: 300,\n    prompt: '请选择'\n};\n\nexport const CtlDateRangeDefault: any = {\n    ...CtlInputDefault,\n    //width: 430,\n    separator: ' 至 ',\n    prompt: '请选择日期范围'\n};\n\nexport const CtlDateTimeRangeDefault: any = {\n    ...CtlInputDefault,\n    //width: 430,\n    separator: ' 至 ',\n    prompt: '请选择时间范围'\n};\n\nexport const CtlComboDefault: any = {\n    ...CtlInputDefault,\n    prompt: '请选择'\n};\n\nexport const CtlMultiComboDefault: any = {\n    ...CtlInputDefault,\n    separator: ',',\n    prompt: '请选择'\n};\n\nexport const CtlSearchDefault: any = {\n    ...CtlInputDefault,\n    prompt: '回车键查询'\n};\n\n\nexport const CtlCheckboxDefault: any = {\n    // labelWidth: 110,\n    labelAlign: 'right',\n    checkValue: 'T',\n    uncheckValue: 'F'\n};\n\nexport const CtlSwitchDefault: any = {\n    // labelWidth: 110,\n    labelAlign: 'right',\n    checkValue: 'T',\n    uncheckValue: 'F'\n};\n\nexport const CtlRadioDefault: any = {\n    labelWidth: 110,\n    labelAlign: 'right',\n};\n","export function getFirstPinyin(msg: string): string {\n    return _.get(window, 'getFirstPinyin')(msg);\n}\n","import { CtlBase } from './CtlBase'\nimport { parseYvanPropChangeVJson } from './CtlUtils'\nimport { YvDataSource } from './YvanDataSourceImp'\nimport { YvEvent, YvEventDispatch } from './YvanEvent'\nimport { DataSource } from './YvanDataSource'\nimport { CtlTreeDefault } from './CtlDefaultValue'\nimport { getFirstPinyin } from './Utils'\n\nexport class CtlTree extends CtlBase<CtlTree> {\n  static create(module: any, vjson: any): CtlTree {\n    const that = new CtlTree(vjson)\n    that._module = module\n\n    _.defaultsDeep(vjson, CtlTreeDefault)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, [\n      // 'data',\n      'dataSource',\n      'onNodeClick',\n      'onNodeDblClick',\n      'onDataComplete',\n      'showCheckbox',\n      'showLeftIcon',\n      'showIcon'\n    ])\n\n    // 将 vjson 存至 _webixConfig\n    that._webixConfig = vjson\n\n    // 将 yvanProp 合并至当前 Ctl 对象, 期间会操作 _webixConfig\n    _.assign(that, yvanProp)\n\n    // 将 事件与 _webixConfig 一起存至 vjson 交给 webix 框架做渲染\n    _.merge(vjson, that._webixConfig, {\n      select: true,\n      filterMode: {\n        showSubItems: false\n      },\n      on: {\n        onInited(this: any) {\n          that.attachHandle(this, { ...vjson, ...yvanProp })\n        },\n        onAfterDelete() {\n          that.removeHandle()\n        },\n        onItemClick(this: any, id: any) {\n          const item = this.getItem(id)\n          YvEventDispatch(that.onNodeClick, that, item)\n        },\n        onItemDblClick(this: any, id: any) {\n          const item = this.getItem(id)\n          YvEventDispatch(that.onNodeDblClick, that, item)\n        }\n      },\n      template: function (obj: any, common: any) {\n        let t = ''\n        if (that.showCheckbox) {\n          t += common.checkbox(obj, common)\n        }\n        if (that.showIcon) {\n          t += common.folder(obj, common)\n        }\n        if (that.showLeftIcon) {\n          t += common.icon(obj, common)\n        }\n        t += obj.value\n        return t\n      },\n      // 树的左侧图标\n      type: {\n        folder: function (obj: any) {\n          if (obj.icon) {\n            return (\n              \"<span style='padding-left: 5px; padding-right: 5px; color: #5fa2dd; font-size: 16px' class='\" +\n              obj.icon +\n              \"'></span>\"\n            )\n          }\n          return ''\n        }\n      }\n    })\n\n    if (vjson.threeState !== false && that.showCheckbox) {\n      vjson.threeState = true;\n    } else {\n      vjson.threeState = false;\n    }\n\n    return that\n  }\n\n  /**\n   * 拼音方式过滤查找树\n   */\n  filter(nv: string) {\n    if (!nv) {\n      this._webix.filter('')\n      return\n    }\n\n    this._webix.filter((node: any) => {\n      const value = node.value\n      const nodePy = getFirstPinyin(value).toLowerCase()\n      return nodePy.indexOf(nv.toLowerCase()) >= 0 || value.toLowerCase().indexOf(nv) >= 0\n    })\n  }\n\n  /**\n   * 树上的数据\n   */\n  data?: any[]\n\n  /**\n   * 树节点被点击后触发\n   */\n  onNodeClick?: YvEvent<CtlTree, any>\n\n  /**\n   * 树节点被双击后触发\n   */\n  onNodeDblClick?: YvEvent<CtlTree, any>\n\n  /**\n   * 数据绑定完成后触发\n   */\n  onDataComplete?: YvEvent<CtlTree, any>\n\n  /**\n   * 显示勾选框\n   */\n  showCheckbox: boolean = false\n\n  /**\n   * 显示左侧展开图标\n   */\n  showLeftIcon: boolean = true\n\n  /**\n   * 显示图标\n   */\n  showIcon: boolean = true\n\n  /**\n   * 设置值\n   */\n  set value(nv: any) {\n    if (!this._webix) {\n      this._webixConfig.value = nv\n    } else {\n      this._webix.setValue(nv)\n    }\n  }\n\n  /**\n   * 获取值\n   */\n  get value(): any {\n    if (!this._webix) {\n      return this._webixConfig.value\n    }\n    return this._webix.getValue()\n  }\n\n  /**\n   * 设置数据\n   */\n  set dataReal(nv: any[]) {\n    // dataSource call back\n    this._webix.clearAll()\n    this._webix.parse(nv)\n  }\n\n  /**\n   * 获取数据源设置\n   */\n  get dataSource(): DataSource<CtlTree> {\n    return this._dataSource\n  }\n\n  /**\n   * 设置数据源\n   */\n  set dataSource(nv: DataSource<CtlTree>) {\n    this._dataSource = nv\n    if (this._module.loadFinished) {\n      // onLoad 之后会触发 view.onInited -> attachHandle -> refreshState -> _rebindDataSource\n      // onLoad 之前都不需要主动触发 _rebindDataSource\n      this._rebindDataSource()\n    }\n  }\n\n  /**\n   * 重新请求数据\n   */\n  public reload(): void {\n    if (this.dataSourceBind && this.dataSourceBind.reload) {\n      this.dataSourceBind.reload()\n    }\n  }\n\n  /**\n   * 获取第一个节点\n   */\n  public getFirstId(): any {\n    return this._webix.getFirstId()\n  }\n\n  /**\n   * 展开某个节点\n   */\n  public open(id: any) {\n    this._webix.open(id)\n  }\n\n  /**\n   * 清空所有数据\n   */\n  public clear() {\n    this._webix.clearAll()\n  }\n\n  /**\n   * 取消选择所有节点\n   */\n  public uncheckAll() {\n    this._webix.uncheckAll()\n  }\n\n  /**\n   * 根据id获取一行数据\n   */\n  public getItem(id: any) {\n    return this._webix.getItem(id)\n  }\n\n  /**\n   * 获取某 id 下树节点所有的子节点\n   */\n  public getChildItems(id: any): any[] {\n    const ret = []\n    let c = this._webix.getFirstChildId(id)\n    while (c) {\n      ret.push(this._webix.getItem(c))\n      c = this._webix.getNextSiblingId(c)\n    }\n    return ret\n  }\n\n  /**\n   * 获取某 id 下树节点所有的子节点的编号\n   */\n  public getChildIds(id: any): any[] {\n    const ret = []\n    let c = this._webix.getFirstChildId(id)\n    while (c) {\n      ret.push(c)\n      c = this._webix.getNextSiblingId(c)\n    }\n    return ret\n  }\n\n  /**\n   * 获取被选中的一行编号\n   */\n  public getSelectedId(): any {\n    return this._webix.getSelectedId()\n  }\n\n  /**\n   * 获取被选中的一行\n   */\n  public getSelectedItem(): any {\n    return this._webix.getSelectedItem()\n  }\n\n  /**\n   * 勾选选中一行\n   */\n  public checkItem(id: any) {\n    this._webix.checkItem(id)\n  }\n\n  /**\n   * 选中一行\n   * @param id\n   */\n  public select(id: any) {\n    // this._webix.showItem(id);\n    let pid = id\n    while (pid) {\n      this._webix.open(pid)\n      pid = this._webix.getParentId(pid)\n    }\n\n    this._webix.select(id)\n  }\n\n  /**\n   * 选中多行\n   */\n  public checkItems(ids: any[]) {\n    for (let id of ids) {\n      this._webix.checkItem(id)\n    }\n  }\n\n  /**\n   * 取消选中一行\n   */\n  public uncheckItem(id: any) {\n    this._webix.uncheckItem(id)\n  }\n\n  /**\n   * 获取选中的ID 数组\n   */\n  public getCheckedIds() {\n    return this._webix.getChecked()\n  }\n\n  /**\n   * 获取选中的行数组\n   */\n  public getCheckedItems() {\n    return _.map(this._webix.getChecked(), v => this._webix.getItem(v))\n  }\n\n  /**\n   * 查看是否被选中\n   */\n  public isChecked(id: any) {\n    return this._webix.isChecked(id)\n  }\n\n  /**\n   * 展开全部节点\n   */\n  public expandAll() {\n    this._webix.openAll()\n  }\n\n  /**\n   * 收起所有节点\n   */\n  public collapseAll() {\n    this._webix.closeAll()\n  }\n\n  /**\n   * 递归查找每个节点, 直到寻找到想要的节点\n   */\n  public find(condition: (node: any) => boolean) {\n    return this._webix.find(condition);\n  }\n\n  /* =============================================== 以下部分为私有函数 =============================================== */\n\n  //数据源设置\n  private _dataSource: DataSource<CtlTree>\n\n  //数据源管理器\n  private dataSourceBind?: YvDataSource<CtlTree>\n\n  //重新绑定数据源\n  private _rebindDataSource() {\n    const innerMethod = () => {\n      if (this.dataSourceBind) {\n        this.dataSourceBind.destory()\n        this.dataSourceBind = undefined\n      }\n\n      if (this._webix && this._module) {\n        this.dataSourceBind = new YvDataSource(this, this.dataSource, this._dataSourceProcess.bind(this))\n        this.dataSourceBind.init()\n      }\n    }\n\n    if (!this._module.loadFinished) {\n      // onload 函数还没有执行（模块还没加载完）, 延迟调用 rebind\n      _.defer(innerMethod)\n\n    } else {\n      // 否则实时调用 rebind\n      innerMethod()\n    }\n  }\n\n  private _dataSourceProcess(data: any[]) {\n    if (\n      !this.dataSource ||\n      _.isArray(this.dataSource) ||\n      _.isFunction(this.dataSource)\n    ) {\n      return data\n    }\n\n    if (this.dataSource.type !== 'SQL' && this.dataSource.type !== 'function') {\n      return data\n    }\n\n    if (\n      !this.dataSource.parentField ||\n      !this.dataSource.displayField ||\n      !this.dataSource.valueField\n    ) {\n      return data\n    }\n\n    const idField = this.dataSource.valueField\n    const textField = this.dataSource.displayField\n    const parentField = this.dataSource.parentField\n\n    data = _.cloneDeep(data)\n\n    // 第一遍扫描, 建立映射关系\n    const nodeMap: any = {}\n    const rootNode = []\n    for (let i = 0; i < data.length; i++) {\n      const row = data[i]\n      nodeMap[row[idField]] = {\n        icon: row['icon'],\n        value: row[textField],\n        id: row[idField],\n        row: row\n      }\n    }\n\n    // 第二遍扫描，建立父子关系\n    for (let i = 0; i < data.length; i++) {\n      const row = data[i]\n      const parent = row[parentField]\n      const id = row[idField]\n\n      if (!parent || parent === '0') {\n        // 没有父亲，作为根节点\n        rootNode.push(nodeMap[id])\n      } else if (nodeMap.hasOwnProperty(parent)) {\n        //找到父亲\n        const parentNode = nodeMap[parent]\n        if (parentNode.hasOwnProperty('data')) {\n          parentNode.data.push(nodeMap[id])\n        } else {\n          parentNode.data = [nodeMap[id]]\n        }\n      } else {\n        // 没有找到父亲，作为根节点\n        rootNode.push(nodeMap[id])\n      }\n    }\n\n    return rootNode\n  }\n\n  //刷新状态时，自动重绑数据源\n  protected refreshState() {\n    super.refreshState()\n    this._rebindDataSource()\n  }\n}\n","import { CtlBase } from './CtlBase'\nimport { parseYvanPropChangeVJson } from './CtlUtils'\nimport { YvDataSource } from './YvanDataSourceImp'\nimport { YvEvent, YvEventDispatch } from './YvanEvent'\nimport { DataSource } from './YvanDataSource'\n\nexport class CtlTreeTable extends CtlBase<CtlTreeTable> {\n  static create(module: any, vjson: any): CtlTreeTable {\n    const that = new CtlTreeTable(vjson)\n    that._module = module\n\n    if (vjson.hasOwnProperty('debugger')) {\n      debugger\n    }\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, [\n      'data',\n      'dataSource',\n      'onNodeClick',\n      'onNodeDblClick',\n      'showCheckbox',\n      'showLeftIcon',\n      'showIcon'\n    ])\n\n    // 将 vjson 存至 _webixConfig\n    that._webixConfig = vjson\n\n    // 将 yvanProp 合并至当前 Ctl 对象, 期间会操作 _webixConfig\n    _.assign(that, yvanProp)\n\n    // 将 事件与 _webixConfig 一起存至 vjson 交给 webix 框架做渲染\n    _.merge(vjson, that._webixConfig, {\n      on: {\n        onInited(this: any) {\n          that.attachHandle(this, { ...vjson, ...yvanProp })\n        },\n        onAfterDelete() {\n          that.removeHandle()\n        },\n        onItemClick(this: any, id: any) {\n          const item = this.getItem(id)\n          YvEventDispatch(that.onNodeClick, that, item)\n        },\n        onItemDblClick(this: any, id: any) {\n          const item = this.getItem(id)\n          YvEventDispatch(that.onNodeDblClick, that, item)\n        }\n      },\n      template: function (obj: any, common: any) {\n        let t = ''\n        if (that.showCheckbox) {\n          t += common.checkbox(obj, common)\n        }\n        if (that.showIcon) {\n          t += common.folder(obj, common)\n        }\n        if (that.showLeftIcon) {\n          t += common.icon(obj, common)\n        }\n        t += obj.value\n        return t\n      },\n      threeState: that.showCheckbox,\n      // 树的左侧图标\n      type: {\n        folder: function (obj: any) {\n          if (obj.icon) {\n            return (\n              \"<span style='padding-left: 5px; padding-right: 5px; color: #063978; font-size: 16px' class='\" +\n              obj.icon +\n              \"'></span>\"\n            )\n          }\n          return ''\n        }\n      }\n    })\n\n    return that\n  }\n\n  /**\n   * 树上的数据\n   */\n  data?: any[]\n\n  /**\n   * 树节点被点击后触发\n   */\n  onNodeClick?: YvEvent<CtlTreeTable, any>\n\n  /**\n   * 树节点被双击后触发\n   */\n  onNodeDblClick?: YvEvent<CtlTreeTable, any>\n\n  /**\n   * 显示勾选框\n   */\n  showCheckbox: boolean = false\n\n  /**\n   * 显示左侧展开图标\n   */\n  showLeftIcon: boolean = true\n\n  /**\n   * 显示图标\n   */\n  showIcon: boolean = true\n\n  /**\n   * 设置值\n   */\n  set value(nv: any) {\n    if (!this._webix) {\n      this._webixConfig.value = nv\n    } else {\n      this._webix.setValue(nv)\n    }\n  }\n\n  /**\n   * 获取值\n   */\n  get value(): any {\n    if (!this._webix) {\n      return this._webixConfig.value\n    }\n    return this._webix.getValue()\n  }\n\n  /**\n   * 设置数据\n   */\n  set dataReal(nv: any[]) {\n    this._webix.clearAll()\n    this._webix.parse(nv)\n  }\n\n  /**\n   * 获取数据源设置\n   */\n  get dataSource(): DataSource<CtlTreeTable> {\n    return this._dataSource\n  }\n\n  /**\n   * 设置数据源\n   */\n  set dataSource(nv: DataSource<CtlTreeTable>) {\n    this._dataSource = nv\n    if (this._module.loadFinished) {\n      // onLoad 之后会触发 view.onInited -> attachHandle -> refreshState -> _rebindDataSource\n      // onLoad 之前都不需要主动触发 _rebindDataSource\n      this._rebindDataSource()\n    }\n  }\n\n  /**\n   * 重新请求数据\n   */\n  public reload(): void {\n    if (this.dataSourceBind && this.dataSourceBind.reload) {\n      this.dataSourceBind.reload()\n    }\n  }\n\n  /**\n   * 清空所有数据\n   */\n  public clear() {\n    this._webix.clearAll()\n  }\n\n  /**\n   * 取消选择所有节点\n   */\n  public uncheckAll() {\n    this._webix.uncheckAll()\n  }\n\n  /**\n   * 根据id获取一行数据\n   */\n  public getItem(id: any) {\n    return this._webix.getItem(id)\n  }\n\n  /**\n   * 勾选选中一行\n   */\n  public checkItem(id: any) {\n    this._webix.checkItem(id)\n  }\n\n  /**\n   * 选中一行\n   * @param id\n   */\n  public select(id: any) {\n    this._webix.showItem(id)\n    this._webix.select(id)\n  }\n\n  /**\n   * 选中多行\n   */\n  public checkItems(ids: any[]) {\n    for (let id of ids) {\n      this._webix.checkItem(id)\n    }\n  }\n\n  /**\n   * 取消选中一行\n   */\n  public uncheckItem(id: any) {\n    this._webix.uncheckItem(id)\n  }\n\n  /**\n   * 获取选中的行\n   */\n  public getChecked() {\n    return this._webix.getChecked()\n  }\n\n  /**\n   * 查看是否被选中\n   */\n  public isChecked(id: any) {\n    return this._webix.isChecked(id)\n  }\n\n  /**\n   * 展开全部节点\n   */\n  public expandAll() {\n    this._webix.openAll()\n  }\n\n  /**\n   * 收起所有节点\n   */\n  public collapseAll() {\n    this._webix.closeAll()\n  }\n\n  /**\n   * 过滤, 如果不设置 condition 代表不过滤，否则带入过滤函数\n   */\n  public filter(condition?: (v: any) => boolean) {\n    this._webix.filter(condition)\n  }\n\n  /* =============================================== 以下部分为私有函数 =============================================== */\n\n  //数据源设置\n  private _dataSource: DataSource<CtlTreeTable>\n\n  //数据源管理器\n  private dataSourceBind?: YvDataSource<CtlTreeTable>\n\n  //重新绑定数据源\n  private _rebindDataSource() {\n    const innerMethod = () => {\n      if (this.dataSourceBind) {\n        this.dataSourceBind.destory()\n        this.dataSourceBind = undefined\n      }\n\n      if (this._webix && this._module) {\n        this.dataSourceBind = new YvDataSource(this, this.dataSource, this._dataSourceProcess.bind(this))\n        this.dataSourceBind.init()\n      }\n    }\n\n    if (!this._module.loadFinished) {\n      // onload 函数还没有执行（模块还没加载完）, 延迟调用 rebind\n      _.defer(innerMethod)\n\n    } else {\n      // 否则实时调用 rebind\n      innerMethod()\n    }\n  }\n\n\n  private _dataSourceProcess(data: any[]) {\n    if (!this.dataSource || _.isArray(this.dataSource) || _.isFunction(this.dataSource)) {\n      return data\n    }\n\n    if (this.dataSource.type !== 'SQL' && this.dataSource.type !== 'function') {\n      return data\n    }\n\n    if (!this.dataSource.parentField || !this.dataSource.valueField) {\n      return data\n    }\n\n    const idField = this.dataSource.valueField\n    const parentField = this.dataSource.parentField\n\n    data = _.cloneDeep(data)\n\n    // 第一遍扫描, 建立映射关系\n    const nodeMap: any = {}\n    const rootNode = []\n    for (let i = 0; i < data.length; i++) {\n      const row = data[i]\n      nodeMap[row[idField]] = row\n    }\n\n    // 第二遍扫描，建立父子关系\n    for (let i = 0; i < data.length; i++) {\n      const row = data[i]\n      const parent = row[parentField]\n      const id = row[idField]\n\n      if (!parent || parent === '0') {\n        // 没有父亲，作为根节点\n        rootNode.push(nodeMap[id])\n\n      } else if (nodeMap.hasOwnProperty(parent)) {\n        //找到父亲\n        const parentNode = nodeMap[parent]\n        if (parentNode.hasOwnProperty('data')) {\n          parentNode.data.push(nodeMap[id])\n        } else {\n          parentNode.data = [nodeMap[id]]\n        }\n      } else {\n        // 没有找到父亲，作为根节点\n        rootNode.push(nodeMap[id])\n      }\n    }\n\n    return rootNode\n  }\n\n  //刷新状态时，自动重绑数据源\n  protected refreshState() {\n    super.refreshState()\n    this._rebindDataSource()\n  }\n}\n","import { YvEventDispatch } from './YvanEvent'\nimport webix from 'webix'\n\n/**\n * 创建快捷菜单\n * <pre>\n *     {\n            text: '菜单1',\n            onClick: {\n                type: 'function',\n                bind: 'tabBar1'\n            }\n        },\n {\n            text: '菜单2',\n            children: [\n                {\n                    text: '菜单2.1',\n                    onClick: {\n                        type: 'function',\n                        bind: 'tabBar21'\n                    }\n                },\n                {\n                    text: '菜单2.2',\n                    onClick: {\n                        type: 'function',\n                        bind: 'tabBar22'\n                    }\n                }\n            ]\n        },\n {\n            text: '菜单3',\n            onClick: {\n                type: 'function',\n                bind: 'tabBar3'\n            }\n        }\n * </pre>\n */\nexport function createContextMenu(config: any, scope: any): any {\n  const methodMap = new Map<String, any>()\n\n  function buildMenu(configArray: any): any {\n    const ret = new Array<any>()\n    _.each(configArray, menu => {\n      if (!menu) return\n      if (menu === '-' || menu.text === '-') {\n        ret.push({ $template: 'Separator' })\n      }\n      if (menu.text) {\n        const id = _.uniqueId('_cxm_')\n        methodMap.set(id, menu.onClick)\n\n        if (_.isArray(menu.children)) {\n          ret.push({ value: menu.text, submenu: buildMenu(menu.children) })\n        } else {\n          ret.push({ value: menu.text, id })\n        }\n      }\n    })\n    return ret\n  }\n\n  const handler = webix.ui({\n    view: 'contextmenu',\n    data: buildMenu(config),\n    on: {\n      onMenuItemClick: function(this: any, id: any) {\n        if (methodMap.has(id)) {\n          YvEventDispatch(\n            methodMap.get(id),\n            this,\n            this.getContext(),\n            this.$scope\n          )\n        }\n      }\n    },\n    $scope: scope\n  })\n  return handler\n\n  // return webix.ui({\n  //     view: \"contextmenu\",\n  //     data: [\n  //         {value: \"a\", id: 'UU_A'},\n  //         {value: \"b\", id: 'UU_B'},\n  //         // {$template: \"Spacer\"},\n  //         {$template: \"Separator\"},\n  //         {\n  //             value: \"Translate...\",\n  //             submenu: [\n  //                 {\n  //                     value: \"罗\", id: 'AAA', on: {\n  //                         onClick: function (id: any) {\n  //                             debugger\n  //                         }\n  //                     }\n  //                 },\n  //                 {value: \"三\", id: 'BBB'},\n  //             ]\n  //         }\n  //     ],\n  //     on: {\n  //         onMenuItemClick: function (id: any) {\n  //             debugger\n  //         }\n  //     }\n  // });\n}\n","import { CtlBase } from './CtlBase'\nimport { parseYvanPropChangeVJson } from './CtlUtils'\nimport { YvEvent, YvEventDispatch } from './YvanEvent'\nimport { wrapperWebixConfig } from './YvanRender'\nimport { createContextMenu } from './CtlContextMenu'\nimport webix from 'webix'\n\nexport class CtlTab extends CtlBase<CtlTab> {\n  static create(module: any, vjson: any): CtlTab {\n    const that = new CtlTab(vjson)\n    that._module = module\n\n    if (vjson.hasOwnProperty('debugger')) {\n      debugger\n    }\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, [\n      'tabbarContextMenu',\n      'defaultTabIndex',\n      'onTabChanged',\n      'onTabClosed'\n    ])\n\n    // 将 vjson 存至 _webixConfig\n    that._webixConfig = vjson\n\n    // 将 yvanProp 合并至当前 Ctl 对象, 期间会操作 _webixConfig\n    _.assign(that, yvanProp)\n\n    // 将 事件与 _webixConfig 一起存至 vjson 交给 webix 框架做渲染\n    _.merge(vjson, that._webixConfig, {\n      on: {\n        onInited(this: any) {\n          that.attachHandle(this, { ...vjson, ...yvanProp })\n          _.defer(() => {\n            if (yvanProp.defaultTabIndex > 0) {\n              // 默认打开的 tab 序号\n              that._webix.getMultiview()._cells[yvanProp.defaultTabIndex].show()\n            }\n\n            if (that._menuConfig) {\n              const menuHandler = createContextMenu(\n                that._menuConfig,\n                that.getModule()\n              )\n              menuHandler.attachTo(that._webix.getTabbar().$view)\n            }\n          })\n        }\n      },\n      tabbar: {\n        // close: true,\n        on: {\n          onAfterDelete() {\n            that.removeHandle()\n          },\n          onChange(newBodyId: string) {\n            YvEventDispatch(that.onTabChanged, that, newBodyId)\n          },\n          onOptionRemove(newBodyId: string) {\n            YvEventDispatch(that.onTabClosed, that, newBodyId)\n          }\n        }\n      },\n      multiview: {\n        keepViews: true // 没有显示的选项卡也要渲染DOM, 否则 aggrid 会出问题\n        // fitBiggest: true,    //始终以最大的 tab 页签为大小\n      }\n    })\n\n    return that\n  }\n\n  defaultTabIndex = 0\n\n  /**\n   * 当前选项卡发生变化时触发\n   */\n  onTabChanged?: YvEvent<CtlTab, any>\n\n  /**\n   * 当前选项卡关闭时触发\n   */\n  onTabClosed?: YvEvent<CtlTab, any>\n\n  /**\n   * tabbar 上的快捷菜单\n   */\n  set tabbarContextMenu(config: any) {\n    this._menuConfig = config\n  }\n\n  /**\n   * 关闭所有允许关闭的标签\n   */\n  closeAll(butIds: Array<any>) {\n    const cellId = new Array<any>()\n    _.each(this._webix.getMultiview()._cells, cell => {\n      if (!_.includes(butIds, cell.config.id)) {\n        cellId.push(cell.config.id)\n      }\n    })\n\n    _.each(cellId, id => {\n      this._webix.removeView(id)\n    })\n  }\n\n  /**\n   * 添加一个模块到标签页执行\n   * @param text 标签标题\n   * @param id 标签id\n   * @param vue 模块(Class)\n   */\n  addModule(text: string, id: string, vue: any) {\n    const that = this\n    const cfg = vue.buildView()\n\n    const tabId = this._webix.addView({\n      header: text,\n      close: true,\n      body: _.merge(cfg, {\n        id: id,\n        on: {\n          onDestruct() {\n            if (vue.onClose) {\n              vue.onClose();\n            }\n            vue.$destroy()\n            delete vue._isLoadInvoked\n          },\n          onViewShow(this: any) {\n            if (!vue._isLoadInvoked) {\n              vue._webixId = tabId\n              vue._isLoadInvoked = true\n              // 标题栏不允许被选中\n              $(this.$view).parent().prev().addClass('ag-unselectable');\n              vue.onLoad()\n            }\n\n            vue.onShow()\n          }\n          // onViewShow: _.once(() => {\n          //     // 触发 onLoad 方法\n          //     // 注意这有个 bug, viewTab 的最后一个标签，千万不能删除\n          //     vue._webixId = tabId;\n          //     vue.onLoad();\n          // })\n        }\n      })\n    })\n\n    this._webix.setValue(tabId)\n    if (this.tabCount === 1) {\n      // 这里有个 bug\n      // 如果是第一个被打开的标签，会不触发 onTabChanged 事件\n      YvEventDispatch(that.onTabChanged, that, id)\n    }\n  }\n\n  /**\n   * 添加一个 Vjson 到标签\n   * @param text 标签标题\n   * @param id 标签id\n   * @param vjson 界面描述片段\n   */\n  addContent(text: string, id: string, vjson: any, opts?: any) {\n    const that = this\n\n    if (this.selectTab(id)) {\n      // 已经打开了页面\n      return\n    }\n\n    let close = true\n    if (opts && opts.close === false) {\n      close = false\n    }\n\n    wrapperWebixConfig(this.getModule(), vjson)\n\n    const tabId = this._webix.addView({\n      header: text,\n      close,\n      body: _.merge(vjson, {\n        id: id\n      })\n    })\n\n    this._webix.setValue(tabId)\n    if (this.tabCount === 1) {\n      // 这里有个 bug\n      // 如果是第一个被打开的标签，会不触发 onTabChanged 事件\n      YvEventDispatch(that.onTabChanged, that, id)\n    }\n  }\n\n  /**\n   * 获取 tab 标签数量\n   */\n  get tabCount(): number {\n    return this._webix.getMultiview()._cells.length\n  }\n\n  /**\n   * 选定某个标签\n   */\n  public selectTab(id: string): boolean {\n    if (webix.$$(id)) {\n      webix.$$(id).show()\n      return true\n    }\n    return false\n  }\n\n  /**\n   * 判断标签是否存在\n   */\n  public tabExsit(id: string): boolean {\n    if (webix.$$(id)) {\n      return true\n    }\n    return false\n  }\n\n  /**\n   * 获取当前选中的 tabId\n   */\n  public getSelectedTabId(): any {\n    return this._webix.getTabbar().getValue()\n  }\n\n  /* =============================================== 以下部分为私有函数 =============================================== */\n\n  /**\n   * 快捷菜单句柄\n   */\n  _menuConfig: any = undefined\n}\n","import { CtlBase } from './CtlBase'\nimport { parseYvanPropChangeVJson } from './CtlUtils'\nimport { YvDataSource } from './YvanDataSourceImp'\nimport { YvEvent, YvEventDispatch } from './YvanEvent'\nimport { DataSource } from './YvanDataSource'\nimport { CtlDataviewDefault } from './CtlDefaultValue'\n\nexport class CtlDataview extends CtlBase<CtlDataview> {\n  static create(module: any, vjson: any): CtlDataview {\n    const that = new CtlDataview(vjson)\n    that._module = module\n\n    _.defaultsDeep(vjson, CtlDataviewDefault)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, [\n      // 'data',\n      'dataSource',\n      'onItemSelect',\n      'onItemClick',\n      'onItemDblClick',\n      'onDataComplete'\n    ])\n\n    // 将 vjson 存至 _webixConfig\n    that._webixConfig = vjson\n\n    // 将 yvanProp 合并至当前 Ctl 对象, 期间会操作 _webixConfig\n    _.assign(that, yvanProp)\n\n    // 将 事件与 _webixConfig 一起存至 vjson 交给 webix 框架做渲染\n    _.merge(vjson, that._webixConfig, {\n      select: true,\n      on: {\n        onInited(this: any) {\n          that.attachHandle(this, { ...vjson, ...yvanProp })\n        },\n        onAfterDelete() {\n          that.removeHandle()\n        },\n        onItemClick(this: any, id: any) {\n          const item = this.getItem(id)\n          YvEventDispatch(that.onItemClick, that, item)\n        },\n        onItemDblClick(this: any, id: any) {\n          const item = this.getItem(id)\n          YvEventDispatch(that.onItemDblClick, that, item)\n        },\n        onAfterSelect(this: any, id: any) {\n          const item = this.getItem(id)\n          YvEventDispatch(that.onItemSelect, that, item)\n        }\n      }\n    })\n\n    return that\n  }\n\n  /**\n   * 树上的数据\n   */\n  data?: any[]\n\n  /**\n   * 树节点被点击后触发\n   */\n  onItemSelect?: YvEvent<CtlDataview, any>\n\n  /**\n   * 树节点被点击后触发\n   */\n  onItemClick?: YvEvent<CtlDataview, any>\n\n  /**\n   * 树节点被双击后触发\n   */\n  onItemDblClick?: YvEvent<CtlDataview, any>\n\n  /**\n   * 数据绑定完成后触发\n   */\n  onDataComplete?: YvEvent<CtlDataview, any>\n\n  /**\n   * 设置值\n   */\n  set value(nv: any) {\n    if (!this._webix) {\n      this._webixConfig.value = nv\n    } else {\n      this._webix.setValue(nv)\n    }\n  }\n\n  /**\n   * 获取值\n   */\n  get value(): any {\n    if (!this._webix) {\n      return this._webixConfig.value\n    }\n    return this._webix.getValue()\n  }\n\n  /**\n   * 设置数据\n   */\n  set dataReal(nv: any[]) {\n    // dataSource call back\n    this._webix.clearAll()\n    this._webix.parse(nv)\n  }\n\n  /**\n   * 获取数据源设置\n   */\n  get dataSource(): DataSource<CtlDataview> {\n    return this._dataSource\n  }\n\n  /**\n   * 设置数据源\n   */\n  set dataSource(nv: DataSource<CtlDataview>) {\n    this._dataSource = nv\n    if (this._module.loadFinished) {\n      // onLoad 之后会触发 view.onInited -> attachHandle -> refreshState -> _rebindDataSource\n      // onLoad 之前都不需要主动触发 _rebindDataSource\n      this._rebindDataSource()\n    }\n  }\n\n  /**\n   * 重新请求数据\n   */\n  public reload(): void {\n    if (this.dataSourceBind && this.dataSourceBind.reload) {\n      this.dataSourceBind.reload()\n    }\n  }\n\n  public filter(func: Function) {\n    this._webix.filter(func);\n  }\n\n  /* =============================================== 以下部分为私有函数 =============================================== */\n\n  //数据源设置\n  private _dataSource: DataSource<CtlDataview>\n\n  //数据源管理器\n  private dataSourceBind?: YvDataSource<CtlDataview>\n\n  //重新绑定数据源\n  private _rebindDataSource() {\n    const innerMethod = () => {\n      if (this.dataSourceBind) {\n        this.dataSourceBind.destory()\n        this.dataSourceBind = undefined\n      }\n\n      if (this._webix && this._module) {\n        this.dataSourceBind = new YvDataSource(this, this.dataSource, this._dataSourceProcess.bind(this))\n        this.dataSourceBind.init()\n      }\n    }\n\n    if (!this._module.loadFinished) {\n      // onload 函数还没有执行（模块还没加载完）, 延迟调用 rebind\n      _.defer(innerMethod)\n\n    } else {\n      // 否则实时调用 rebind\n      innerMethod()\n    }\n  }\n\n  private _dataSourceProcess(data: any[]) {\n    if (\n      !this.dataSource ||\n      _.isArray(this.dataSource) ||\n      _.isFunction(this.dataSource)\n    ) {\n      return data\n    }\n\n    if (this.dataSource.type !== 'SQL' && this.dataSource.type !== 'function') {\n      return data\n    }\n\n    if (!this.dataSource.idField) {\n      return data\n    }\n\n    const idField = this.dataSource.idField\n\n    data = _.cloneDeep(data)\n\n    // 第一遍扫描, 建立映射关系\n    _.each(data, item => {\n      item.id = item[idField]\n    })\n\n    return data\n  }\n\n  //刷新状态时，自动重绑数据源\n  protected refreshState() {\n    super.refreshState()\n    this._rebindDataSource()\n  }\n}\n","import { CtlBase } from './CtlBase'\nimport { YvEvent, YvEventDispatch } from './YvanEvent'\nimport { parseYvanPropChangeVJson } from './CtlUtils'\nimport webix from 'webix'\n\n/**\n * 扩展 echarts 组件\n */\nwebix.protoUI(\n  {\n    name: 'echarts'\n  },\n  webix.ui.template\n)\n\nexport class CtlECharts extends CtlBase<CtlECharts> {\n  static create(module: any, vjson: any): CtlECharts {\n    const that = new CtlECharts(_.cloneDeep(vjson))\n    that._module = module\n\n    if (vjson.hasOwnProperty('debugger')) {\n      debugger\n    }\n\n    // 提取基础属性 onRender / ctlName / entityName 等等\n    const yvanProp = parseYvanPropChangeVJson(vjson, [])\n\n    // 将 yvanProp 合并至当前 CtlBase 对象\n    _.assign(that, yvanProp)\n\n    // 删除 vjson 所有数据, 替换为 template 语法\n    _.forOwn(vjson, (value, key) => {\n      delete vjson[key]\n    })\n    _.merge(vjson, {\n      view: 'echarts',\n      template: `<div role=\"echarts\"></div>`,\n      on: {\n        onAfterRender: function (this: any) {\n          that.attachHandle(this, { ...vjson, ...yvanProp })\n          that._resetECharts()\n        },\n        onDestruct(this: any) {\n          if (that._echartsHandler) {\n            that._echartsHandler.dispose()\n            delete that._echartsHandler\n          }\n          that.removeHandle()\n        }\n      }\n    })\n    if (that.vjson.id) {\n      vjson.id = that.vjson.id\n    }\n    return that\n  }\n\n  /*============================ 公共属性部分 ============================*/\n  /**\n   * 数据绑定完毕后触发\n   */\n  onClick?: YvEvent<CtlECharts, any>\n\n  setOption(option: any, opts?: any): void {\n    this._echartsHandler.setOption(option, opts)\n    _.defer(() => {\n      this._echartsHandler.resize()\n    })\n  }\n\n  public get handle() {\n    return <any>this._echartsHandler\n  }\n\n  // setOption(option: echarts.EChartOption, opts?: echarts.EChartsOptionConfig): void {\n  //     this._echartsHandler.setOption(option, opts);\n  //     _.defer(() => {\n  //         this._echartsHandler.resize();\n  //     });\n  // }\n  //\n  // setOption2(option: echarts.EChartOption | echarts.EChartsResponsiveOption, notMerge?: boolean, lazyUpdate?: boolean): void {\n  //     this._echartsHandler.setOption(option, notMerge, lazyUpdate);\n  //     _.defer(() => {\n  //         this._echartsHandler.resize();\n  //     });\n  // }\n\n  resize() {\n    this._echartsHandler.resize()\n  }\n\n  clear() {\n    this._echartsHandler.clear()\n  }\n\n  /*============================ 私有属性部分 ============================*/\n  private _echartsHandler!: echarts.ECharts\n\n  private _resetECharts() {\n    const $el = $(this._webix._viewobj).find('[role=\"echarts\"]')[0]\n    let el: any = $el\n    this._echartsHandler = echarts.init(el)\n\n    this._echartsHandler.on('click', (params: any) => {\n      YvEventDispatch(this.onClick, this, params)\n    })\n  }\n}\n","import { CtlBase } from './CtlBase'\nimport { parseYvanPropChangeVJson } from './CtlUtils'\nimport { YvEvent, YvEventDispatch } from './YvanEvent'\nimport { CtlButtonDefault } from './CtlDefaultValue'\nimport { isDesignMode } from './DesignHelper'\n\ntype CtlButtonType =\n  | 'default'\n  | 'primary'\n  | 'success'\n  | 'danger'\n  | string\n  | undefined\n\n/**\n * 按钮组件\n * @author yvan\n */\nexport class CtlButton extends CtlBase<CtlButton> {\n  static create(module: any, vjson: any): CtlButton {\n    const that = new CtlButton(vjson)\n    that._module = module\n\n    _.defaultsDeep(vjson, CtlButtonDefault)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, [\n      'onClick',\n      'cssType',\n      'icon',\n      'width',\n      'badge',\n      'text'\n    ])\n\n    // 将 vjson 存至 _webixConfig\n    that._webixConfig = vjson\n\n    // 将 yvanProp 合并至当前 Ctl 对象\n    _.assign(that, yvanProp)\n\n    // 将 _webixConfig 合并至 vjson, 最终合交给 webix 做渲染\n    _.merge(vjson, that._webixConfig, {\n      type: 'text',\n      on: {\n        onInited: function (this: any) {\n          that.attachHandle(this, { ...vjson, ...yvanProp })\n        },\n        onDestruct() {\n          that.removeHandle()\n        },\n        onItemClick: function (this: any) {\n          if (isDesignMode()) {\n            return\n          }\n          YvEventDispatch(that.onClick, that, undefined)\n        }\n      }\n    })\n\n    return that\n  }\n\n  /*============================ 公共属性部分 ============================*/\n\n  /**\n   * 按下按钮后触发\n   */\n  onClick?: YvEvent<CtlButton, void>\n\n  /**\n   * 设置标记\n   */\n  set badge(nv: number | string | undefined) {\n    if (!this._webix) {\n      if (nv) {\n        this._webixConfig.badge = nv\n      } else {\n        delete this._webixConfig.css\n      }\n      return\n    }\n\n    this._webix.define('badge', nv)\n    this._webix.render()\n  }\n\n  /**\n   * 设置宽度\n   */\n  set width(nv: number | undefined) {\n    if (!this._webix) {\n      if (nv) {\n        this._webixConfig.width = nv\n      } else {\n        delete this._webixConfig.width\n      }\n      return\n    }\n\n    this._webix.define('width', nv)\n    this._webix.resize()\n  }\n\n  /**\n   * 显示样式\n   */\n  set cssType(nv: CtlButtonType) {\n    let css = nv\n    switch (nv) {\n      case 'success':\n        css = 'yvan_success'\n        break\n\n      case 'danger':\n        css = 'yvan_danger'\n        break\n\n      case 'primary':\n        css = 'yvan_primary'\n        break\n\n      case 'default':\n        css = ''\n        break\n    }\n\n    if (!this._webix) {\n      if (css) {\n        this._webixConfig.css = css\n      } else {\n        delete this._webixConfig.css\n      }\n      return\n    }\n\n    $(this._webix.$view).removeClass('webix_danger webix_primary')\n    this._webix.define('css', css)\n  }\n\n  /**\n   * 设置按钮图标\n   */\n  set icon(nv: string) {\n    this._icon = nv\n    this._refreshText()\n  }\n\n  /**\n   * 获取按钮图标\n   */\n  get icon(): string {\n    return this._icon\n  }\n\n  /**\n   * 设置按钮文本\n   */\n  set text(nv: string) {\n    this._text = nv\n    this._refreshText()\n  }\n\n  /**\n   * 获取按钮文本\n   */\n  get text(): string {\n    return this._text\n  }\n\n  /**\n   * 是否允许\n   */\n  get enable(): boolean {\n    return this._webixConfig.disabled\n  }\n\n  set enable(nv: boolean) {\n    if (!this._webix) {\n      this._webixConfig.disabled = !nv\n      return\n    }\n    this._webix.define('disabled', !nv)\n  }\n\n  /*============================ 私有属性部分 ============================*/\n\n  private _text: string = ''\n  private _icon: string = ''\n\n  private _refreshText(): void {\n    const nv = `<i class=\"${this._icon}\"></i><span>${this._text}</span>`\n    if (!this._webix) {\n      this._webixConfig.value = nv\n      return\n    }\n    this._webix.setValue(nv)\n  }\n}\n","import webix, { $$ } from 'webix'\nimport { wrapperWebixConfig } from './YvanRender'\nimport { idText } from 'typescript'\n\n// eslint-disable-next-line\nconst baseKeyboardOption: any = {\n  success(layero: any, layerIndex: any) {\n    layer.setTop(layero)\n    layero\n      .find('a.layui-layer-btn0')\n      .attr('tabindex', 1)\n      .focus()\n    layero.on('keydown', (event: KeyboardEvent) => {\n      if (event.keyCode === 13 || event.keyCode === 27) {\n        layer.close(layerIndex)\n        event.stopPropagation()\n        event.preventDefault()\n      }\n    })\n  }\n}\n\nconst escKeyboardOption: any = {\n  success(layero: any, layerIndex: any) {\n    layer.setTop(layero)\n    const $input = layero.find('input.layui-layer-input')\n\n    // 确定按钮获得焦点\n    const $btn0 = layero.find('a.layui-layer-btn0').attr('tabindex', 1)\n    // 取消按钮能获得焦点\n    const $btn1 = layero.find('a.layui-layer-btn1').attr('tabindex', 1)\n\n    if ($input.length <= 0) {\n      // 如果没有输入框存在，默认让\"确认按钮\"获得焦点\n      $btn0.focus()\n    }\n\n    layero.on('keydown', (event: KeyboardEvent) => {\n      if (event.keyCode === 13) {\n        layero.find('a.layui-layer-btn0').trigger('click')\n        event.stopPropagation()\n        event.preventDefault()\n      } else if (event.keyCode === 27) {\n        // 取消\n        layero.find('a.layui-layer-btn1').trigger('click')\n        event.stopPropagation()\n        event.preventDefault()\n      }\n    })\n  }\n}\n\n/**\n * 显示正在读取\n */\nexport function loading(msg?: string) {\n  clearLoading()\n  if (!msg) {\n    msg = '请稍后'\n  }\n  const $body = $('body')\n  $body.append(`<div class=\"load-view\" style=\"z-index: 19850224;\"><div class=\"load-an-view\"><div class=\"fading-circle\">\n  <div class=\"sk-circle1 sk-circle\"></div>\n  <div class=\"sk-circle2 sk-circle\"></div>\n  <div class=\"sk-circle3 sk-circle\"></div>\n  <div class=\"sk-circle4 sk-circle\"></div>\n  <div class=\"sk-circle5 sk-circle\"></div>\n  <div class=\"sk-circle6 sk-circle\"></div>\n  <div class=\"sk-circle7 sk-circle\"></div> \n  <div class=\"sk-circle8 sk-circle\"></div>\n  <div class=\"sk-circle9 sk-circle\"></div>\n  <div class=\"sk-circle10 sk-circle\"></div>\n  <div class=\"sk-circle11 sk-circle\"></div>\n  <div class=\"sk-circle12 sk-circle\"></div>\n</div></div><div class=\"load-tip\">${msg}</div></div>`)\n\n  $body.append($(`<div class=\"webix_modal load-view-masker\" style=\"z-index: 19850223;\"></div>`))\n}\n\n/**\n * 清空正在读取\n */\nexport function clearLoading() {\n  const $body = $('body')\n  $body.find('.load-view').remove()\n  $body.find('.load-view-masker').remove();\n}\n\n/**\n * 中间灰底白字提示\n */\nexport function msg(message: string): void {\n  const $body = $('body')\n\n  $body.find('[xtype=msg]').remove()\n  const $w = $(\n    '<div xtype=\"tooltip\" class=\"yvan-msg yvan-anim yvan-anim-00\">' +\n    '  <div class=\"yvan-msg-content\">' +\n    message +\n    '</div></div>'\n  )\n  $body.append($w)\n\n  const iframeWidth = $w.parent().width() as number\n  const iframeHeight = $w.parent().height() as number\n\n  const windowWidth = $w.width() as number\n  const windowHeight = $w.height() as number\n\n  let setWidth = (iframeWidth - windowWidth) / 2\n  let setHeight = (iframeHeight - windowHeight) / 2\n  if (iframeHeight < windowHeight || setHeight < 0) {\n    setHeight = 0\n  }\n  if (iframeWidth < windowWidth || setWidth < 0) {\n    setWidth = 0\n  }\n  $w.css({ left: setWidth, top: setHeight })\n  setTimeout(() => {\n    $w.remove()\n  }, 3000)\n}\n\n/**\n * 显示tooltip\n */\nexport function showTooltip(obj: any, message: string): void {\n  const $body = $('body')\n  const tooptipId = obj.id + '_tooltip';\n\n  if ($body.find(`#${tooptipId}`).length > 0) {\n    const ddiv = $body.find(`#${tooptipId}`)[0].children[1]\n    _.set(ddiv, 'innerText', message);\n    return;\n  }\n\n  const $w = $(\n    '<div xtype=\"tooltip\" class=\"yvan-tooltip\">' +\n    '<em></em><div class=\"yvan-tooltip-msg\">' +\n    message +\n    '</div></div>'\n  )\n  $w[0].id = tooptipId\n  $body.append($w)\n\n  const xxoffset: any = $(obj._webix.$view).offset()\n  const xxLeft: any = $(obj._webix.$view).width() + xxoffset.left + 10\n  $w.css({ left: xxLeft, top: xxoffset?.top })\n}\n\nexport function hideTooltip(obj: any): void {\n  const $body = $('body')\n  const tooptipId = obj.id + '_tooltip';\n  $body.find(`#${tooptipId}`).remove()\n}\n\n/**\n * 弹出输入框\n * @param title 输入框标题\n * @param defValue 默认值\n */\nexport function prompt(title: string = '请输入内容', defValue: string = ''): Promise<string> {\n  const tid: any = webix.uid()\n  let dialog: any = undefined;\n  return new Promise<string>((resolve, reject) => {\n\n    function onConfirm() {\n      const value = (<any>webix.$$(tid.toString())).getValue()\n      if (value) {\n        resolve(value);\n        dialog.close();\n        return;\n      }\n\n      msg('请输入内容');\n    }\n\n    function onCancel() {\n      reject();\n      dialog.close();\n    }\n\n    const vjson = {\n      view: 'window', close: false, move: true, modal: true, position: 'center', resize: true, fullscreen: false,\n      head: title,\n      on: {\n        onShow() {\n          // 进入后立刻获得焦点\n          (<any>webix.$$(tid)).focus();\n        }\n      },\n      body: {\n        rows: [\n          { view: 'text', id: tid, placeholder: '请输入', value: defValue },\n          {\n            cols: [\n              {},\n              {\n                view: 'button',\n                value: '确定',\n                width: 100,\n                css: 'yvan_primary',\n                click: onConfirm,\n              },\n              {\n                view: 'button',\n                value: '取消',\n                width: 100,\n                css: 'default',\n                click: () => {\n                  onCancel()\n                }\n              }\n            ]\n          }\n        ]\n      }\n\n    };\n    dialog = webix.ui(vjson);\n    dialog.show();\n    $(webix.$$(tid).$view).keydown((e) => {\n      // 必须借助 jquery 拦截 keydown 事件\n      if (e.keyCode === 27) {\n        onCancel();\n        e.preventDefault();\n        return;\n      }\n      if (e.keyCode === 13) {\n        onConfirm();\n        e.preventDefault();\n        return;\n      }\n    })\n\n  });\n}\n\n/**\n * 弹出提示框\n * @param content 提示框内容\n */\nexport function alert(content: string): void {\n  webix.alert({ title: \"提示\", text: content, });\n}\n\n/**\n * 弹出错误框\n * @param content 错误的提示内容\n */\nexport function error(content: string): void {\n  webix.modalbox({ title: \"错误\", text: content, buttons: [\"确认\"], type: \"confirm-error\" });\n}\n\n/**\n * 弹出确认框\n * @param content 需要确认的文字内容\n */\nexport function confirm(content: string): Promise<void> {\n  return new Promise<void>((resolve, reject) => {\n    webix.confirm({\n      title: \"提示\",\n      text: content,\n      ok: \"确认\", cancel: \"取消\",\n\n    }).then(() => {\n      resolve();\n\n    }).catch(() => {\n      reject();\n    });\n  })\n}\n\n/**\n * 右上角弹出错误消息\n * @param content 消息内容\n */\nexport function msgError(content: string): void {\n  const toastr = _.get(window, 'toastr')\n  if (!toastr) {\n    webix.message({ type: 'error', text: content, expire: -1 })\n  } else {\n    toastr.error(content, '错误')\n  }\n}\n\n/**\n * 右上角弹出成功消息\n * @param content 消息内容\n */\nexport function msgSuccess(content: string): void {\n  const toastr = _.get(window, 'toastr')\n  if (!toastr) {\n    webix.message({ type: 'success', text: content, expire: 2000 })\n  } else {\n    toastr.success(content, '成功')\n  }\n}\n\n/**\n * 右上角弹出通知消息\n * @param content 消息内容\n */\nexport function msgInfo(content: string): void {\n  const toastr = _.get(window, 'toastr')\n  if (!toastr) {\n    webix.message({ type: 'info', text: content, expire: 2000 })\n  } else {\n    toastr.info(content)\n  }\n  // https://docs.webix.com/desktop__message_boxes.html\n}\n","import { CtlBase } from '../../CtlBase'\nimport { parseYvanPropChangeVJson } from '../../CtlUtils'\nimport * as YvanUI from '../../YvanUIExtend'\nimport * as YvanMessage from '../../YvanUIMessage'\nimport { YvEvent, YvEventDispatch } from '../../YvanEvent'\n\ntype CtlInputWidth = number | undefined | 'auto'\n\nexport class CtlInput<M> extends CtlBase<M> {\n  protected _create<M extends CtlInput<M>>(vjson: any, me: M) {\n    const that: M = me\n\n    // 提取想要的属性\n    const yvanProp = parseYvanPropChangeVJson(vjson, [\n      'id',\n      'gravity',\n      'validate',\n      'onInput',\n      'onKeydown',\n      'onClick',\n      'onEnter',\n      'width',\n      'onFocus',\n      'onChange',\n      'onBlur',\n      'maxlength',\n      'changeValueImplete',\n      'ff',\n      'label',\n      'labelWidth',\n      'labelAlign',\n      'readonly',\n      'disabled',\n      'required',\n      'value',\n      'prompt'\n    ])\n\n    // 将 vjson 存至 _webixConfig\n    that._webixConfig = vjson\n    if (!vjson.id) {\n      that.id = _.uniqueId('input_')\n    }\n\n    // 将 yvanProp 合并至当前 Ctl 对象\n    _.assign(that, yvanProp)\n\n    function onKeydown(event: any) {\n      YvEventDispatch(that.onKeydown, that, event)\n    }\n\n    // 将 _webixConfig 合并至 vjson, 最终合交给 webix 做渲染\n    _.merge(vjson, that._webixConfig, {\n      on: {\n        onInited: function (this: any) {\n          that.attachHandle(this, { ...vjson, ...yvanProp })\n        },\n        onAfterRender: function (this: any) {\n          const $input = $(this.$view).find('input')\n          $input.on('input', that.onInputEvent.bind(that))\n          $input.on('keydown', onKeydown)\n          if (that._validate || that._required) {\n            that._addEnvent($input);\n          }\n          const result = that._resultToShowOrHide()\n          if (result) {\n            that._showValidateError()\n          } else {\n            that._hideValidateError()\n          }\n          if (that.constructor.name !== 'CtlSelect' && that._webixConfig.required) {\n            if (that.constructor.name === 'CtlDateRangePicker') {\n              that._showValidate(\n                !this.getValue().end || this.getValue().end.length <= 0,\n                'requiredValidate'\n              )\n            } else {\n              that._showValidate(\n                !this.getValue() || this.getValue().length <= 0,\n                'requiredValidate'\n              )\n            }\n          }\n          this.callEvent('onCtlRender', [])\n          if (that.ff > 0) {\n            setTimeout(() => {\n              that.focus()\n              that.ff = 0\n            }, that.ff)\n          }\n        },\n        onDestruct: function (this: any) {\n          this.callEvent('onCtlRemove', [])\n          const $input = $(this.$view).find('input')\n          $input.off('input')\n          $input.off('keydown')\n          that._removeEnvent($input)\n          that.removeHandle()\n          that._hideTootip()\n        },\n        onItemClick(this: any) {\n          YvEventDispatch(that.onClick, that, undefined)\n        },\n        onEnter(this: any) {\n          YvEventDispatch(that.onEnter, that, undefined)\n        },\n        onFocus(this: any) {\n          if (that._validate || that._required) {\n            const result = that._resultToShowOrHide();\n            if (result) {\n              that._showTootip(result)\n              that._showValidateError()\n            }\n            else {\n              that._hideTootip()\n              that._hideValidateError()\n            }\n          }\n          YvEventDispatch(that.onFocus, that, undefined)\n        },\n        onChange(this: any, newValue: any, oldValue: any) {\n          if (!that.valueValid(newValue)) {\n            // 不允许触发更改\n            return\n          }\n          if (that.onValueChange && typeof that.onValueChange === 'function') {\n            that.onValueChange(newValue, oldValue)\n          }\n          newValue = that.valueProcess(newValue)\n          that.changeToEntity(newValue)\n          if (that._webixConfig.required) {\n            if (that.constructor.name === 'CtlDateRangePicker') {\n              that._showValidate(\n                !this.getValue().end || this.getValue().end.length <= 0,\n                'requiredValidate'\n              )\n            } else {\n              that._showValidate(\n                !this.getValue() || this.getValue().length <= 0,\n                'requiredValidate'\n              )\n            }\n          }\n\n          YvEventDispatch(that.onChange, that, newValue)\n        },\n        onBlur(this: any) {\n          if (that._validate || that._required) {\n            const result = that._resultToShowOrHide();\n            if (result) {\n              that._showValidateError()\n            }\n            else {\n              that._hideValidateError()\n            }\n          }\n          that._hideTootip()\n          if (that._webixConfig.required) {\n            if (that.constructor.name === 'CtlDateRangePicker') {\n              that._showValidate(\n                !this.getValue().end || this.getValue().end.length <= 0,\n                'requiredValidate'\n              )\n            } else {\n              that._showValidate(\n                !this.getValue() || this.getValue().length <= 0,\n                'requiredValidate'\n              )\n            }\n          }\n          YvEventDispatch(that.onBlur, that, undefined)\n        }\n      }\n    })\n  }\n\n  //是否允许触发 onChange\n  protected valueValid(value: any): boolean {\n    return true\n  }\n\n  //更改 onChange 或实体时的值\n  protected valueProcess(value: any): any {\n    return value\n  }\n\n  inputCheck!: (newValue: any, oldValue: any) => boolean\n\n  onInputEvent(event: Event) {\n    if (this.onInputValue && typeof this.onInputValue === 'function') {\n      this.onInputValue((event.target as any).value)\n    }\n\n    if (\n      this.constructor.name === 'CtlText' &&\n      this.maxlength &&\n      _.size((event.target as any).value) > this.maxlength\n    ) {\n      ; (event.target as any).value = (event.target as any).value.substring(\n        0,\n        this.maxlength\n      )\n    }\n    if (this.changeValueImplete) {\n      // 改变后立刻提交值\n      this.value = (event.target as any).value\n    }\n\n    // @ts-ignore\n    YvEventDispatch(this.onInput, this, event)\n  }\n\n  /*============================ 公共属性部分 ============================*/\n\n  /**\n   * 更改任何内容时触发\n   */\n  onInput?: YvEvent<M, Event>\n\n  /**\n   * 离开焦点或按下回车键之后触发更改时触发\n   */\n  onChange?: YvEvent<M, string>\n\n  /**\n   * 鼠标点击后触发\n   */\n  onClick?: YvEvent<M, void>\n\n  /**\n   * 按下回车键之后触发\n   */\n  onEnter?: YvEvent<M, void>\n\n  /**\n   * 获取焦点后触发\n   */\n  onFocus?: YvEvent<M, void>\n\n  /**\n   * 离开焦点后触发\n   */\n  onBlur?: YvEvent<M, void>\n\n  /**\n   * 按下任何键之后触发事件\n   */\n  onKeydown?: YvEvent<M, Event>\n\n  /**\n   * 输入内容时是否立刻提交 value\n   */\n  changeValueImplete: boolean = false\n\n  _gravity: string = ''\n\n  set gravity(nv: any) {\n    this._gravity = nv\n\n    let v: any\n    if (!nv) {\n      v = undefined\n    } else {\n      v = _.parseInt(nv)\n    }\n\n    if (!this._webix) {\n      if (v) {\n        this._webixConfig.gravity = v\n      } else {\n        delete this._webixConfig.gravity\n      }\n    } else {\n      this._webix.define('gravity', v)\n      this._webix.resize()\n    }\n  }\n\n  get gravity(): any {\n    return this._gravity\n  }\n\n  set id(nv: any) {\n    this._id = nv\n    if (!this._webix) {\n      this._webixConfig.id = nv\n    } else {\n      // 运行后不允许修改 id\n      console.error('can\\'t set \"ID\" at runtime!')\n    }\n  }\n\n  get id(): any {\n    return this._id\n  }\n\n  /**\n   * 设置值\n   */\n  set value(nv: any) {\n    if (!this._webix) {\n      this._webixConfig.value = nv\n    } else {\n      this._webix.setValue(nv)\n    }\n  }\n\n  /**\n   * 获取值\n   */\n  get value(): any {\n    if (!this._validateResult) {\n      throw new Error('invalidate!')\n    }\n\n    if (!this._webix) {\n      return this._webixConfig.value\n    }\n\n    return this._webix.getValue()\n  }\n\n  /**\n   * 定焦时间\n   */\n  ff: number = 0\n\n  /**\n   * 最大长度\n   */\n  maxlength?: number = undefined\n\n  // private _maxlength!:number;\n\n  /**\n   * 文本描述\n   */\n  set label(nv: string) {\n    if (!this._webix) {\n      this._webixConfig.label = nv\n      return\n    }\n\n    this._webix.define('label', nv)\n    this._webix.refresh()\n  }\n\n  /**\n   * 文本对齐方式\n   */\n  set labelAlign(nv: 'left' | 'right' | 'center') {\n    if (!this._webix) {\n      this._webixConfig.labelAlign = nv\n      return\n    }\n\n    this._webix.define('labelAlign', nv)\n    this._webix.refresh()\n  }\n\n  /**\n   * 必填\n   */\n  set required(nv: boolean) {\n    this._required = nv\n    if (!this._webix) {\n      this._webixConfig.required = nv\n      return\n    }\n    this._webixConfig.required = nv\n    this._webix.define('required', nv)\n    this._webix.refresh()\n  }\n\n  /**\n   * 文本宽度\n   */\n  set labelWidth(nv: number) {\n    if (!this._webix) {\n      this._webixConfig.labelWidth = nv\n      return\n    }\n\n    this._webix.define('labelWidth', nv)\n    this._webix.refresh()\n  }\n\n  /**\n   * 禁用\n   */\n  set disabled(nv: boolean) {\n    if (!this._webix) {\n      this._webixConfig.disabled = nv\n      return\n    }\n\n    if (nv) {\n      this._webix.disable()\n    } else {\n      this._webix.enable()\n    }\n  }\n\n  /**\n   * 只读\n   */\n  set readonly(nv: boolean) {\n    if (!this._webix) {\n      this._webixConfig.readonly = nv\n      return\n    }\n\n    this._webix.define('readonly', nv)\n    this._webix.refresh()\n  }\n\n  /**\n   * 水印\n   */\n  set prompt(nv: string) {\n    if (!this._webix) {\n      this._webixConfig.placeholder = nv\n      return\n    }\n\n    this._webix.define('placeholder', nv)\n    this._webix.refresh()\n  }\n\n  /**\n   * 宽度\n   */\n  set width(nv: CtlInputWidth) {\n    if (nv === 'auto' || typeof nv === 'undefined') {\n      nv = undefined\n    }\n\n    if (!this._webix) {\n      this._webixConfig.width = nv\n      return\n    }\n\n    this._webix.define('width', nv)\n    this._webix.refresh()\n  }\n\n  onValueChange(newV: any, oldV: any) {\n    //validType[this.validType](newV);\n  }\n\n  onInputValue(value: any) {\n    if (this.validate && typeof this.validate === 'function') {\n      this._validateResult = this.validate(value)\n    }\n  }\n\n  /**\n   * 验证\n   * @param nv  div.webix_inp_static\n   */\n  set validate(nv: any) {\n    const that = this\n    if (typeof nv === 'function') {\n      this._validate = nv\n    } else if (typeof nv === 'string') {\n      const vl = function (value: any, data: any) {\n        let msg = YvanUI.complexValid['fun'](nv, value)\n\n        return that._showValidate(msg, 'inputValidate')\n      }\n      this._validate = vl\n    }\n  }\n\n  get validate(): any {\n    return this._validate\n  }\n\n  /**================ 私有属性 ===================**/\n  _validateResult: boolean = true\n\n  _validate: any\n\n  _required: boolean | undefined\n\n  _id: any\n\n  _maxlength: any\n\n  anonymous_showTootip: any = () => {\n    const result = this._resultToShowOrHide();\n    if (result) {\n      this._showTootip(result)\n      this._showValidateError()\n    } else {\n      this._hideTootip()\n      this._hideValidateError()\n    }\n  }\n\n  anonymous_hideTootip: any = () => {\n    const $input = $(this._webix.$view).find('input')\n    if (document.activeElement !== $input[0]) {\n      this._hideTootip()\n    }\n  }\n\n  _addEnvent(input: any) {\n    input.context.addEventListener('mouseenter', this.anonymous_showTootip);\n    input.context.addEventListener('mouseleave', this.anonymous_hideTootip);\n  }\n\n  _removeEnvent(input: any) {\n    input.context.removeEventListener('mouseenter', this.anonymous_showTootip);\n    input.context.removeEventListener('mouseleave', this.anonymous_hideTootip);\n  }\n\n  _showValidateError() {\n    $(this._webix.$view).addClass('yvan-validate-error');\n  }\n\n  _hideValidateError() {\n    $(this._webix.$view).removeClass('yvan-validate-error');\n  }\n\n  _showTootip(msg: string) {\n    YvanMessage.showTooltip(this, msg);\n  }\n\n  _hideTootip() {\n    YvanMessage.hideTooltip(this);\n  }\n\n  _resultToShowOrHide(): any {\n    if (!this.value) {\n      if (this._required) {\n        return \"该项为必填项\";\n      }\n    }\n    else {\n      if (this._validate) {\n        // 只有校验值\n        const result = this._validate(this.value);\n        if (result) {\n          return result\n        }\n      }\n    }\n    return null\n  }\n\n  _showValidate(\n    msg: any,\n    type: 'inputValidate' | 'changedValidate' | 'requiredValidate'\n  ): boolean {\n    let $input!: any\n    if (\n      this.constructor.name === 'CtlText' ||\n      this.constructor.name === 'CtlSearch' ||\n      this.constructor.name === 'CtlCombo'\n    ) {\n      $input = $(this._webix.$view).find('input')\n    } else if (\n      this.constructor.name === 'CtlDatePicker' ||\n      this.constructor.name === 'CtlDateRangePicker' ||\n      this.constructor.name === 'CtlMultiCombo' ||\n      this.constructor.name === 'CtlMultiSelect'\n    ) {\n      $input = $(this._webix.$view).find('div.webix_inp_static')\n    } else if (this.constructor.name === 'CtlSelect') {\n      $input = $(this._webix.$view).find('select')\n    } else {\n      return true\n    }\n\n    switch (type) {\n      case 'inputValidate': {\n        if (msg) {\n          $input.each((index: any, item: any) => {\n            $(item).css({\n              'background-color': '#ffdedb',\n              'border-color': '#ff8d82'\n            })\n          })\n          $(`#${this.id}_validate`).remove()\n          $(this._webix.$view).append(\n            `<div id=\"${this.id}_validate\" style=\"position:relative; border: 1px #ff8d82; float:right; top:-38px; color: #FF5C4C;\">${msg}</div>`\n          )\n          return false\n        } else {\n          $input.each((index: any, item: any) => {\n            $(item).css({\n              'background-color': '',\n              'border-color': ''\n            })\n          })\n          $(`#${this.id}_validate`).remove()\n          return true\n        }\n      }\n      case 'changedValidate': {\n        if (msg) {\n          $input.each((index: any, item: any) => {\n            $(item).css({\n              'background-color': '#ffdedb',\n              'border-color': '#ff8d82'\n            })\n          })\n          $(`#${this.id}_validate`).remove()\n          $(this._webix.$view).append(\n            `<div id=\"${this.id}_validate\" style=\"position:relative; border: 1px #ff8d82; float:right; top:-38px; color: #FF5C4C;\">${msg}</div>`\n          )\n          return false\n        } else {\n          $input.each((index: any, item: any) => {\n            $(item).css({\n              'background-color': '',\n              'border-color': ''\n            })\n          })\n          $(`#${this.id}_validate`).remove()\n          return true\n        }\n      }\n      case 'requiredValidate': {\n        if (msg) {\n          $input.each((index: any, item: any) => {\n            $(item).css({\n              'border-color': '#ff8d82'\n            })\n          })\n          // $(`#${this.id}_validate`).remove();\n          // $(this._webix.$view).append(`<div id=\"${this.id}_validate\" style=\"position:relative; border: 1px #ff8d82; float:right; top:-38px; color: #FF5C4C;\">必填项</div>`);\n          return false\n        } else {\n          $input.each((index: any, item: any) => {\n            $(item).css({\n              'border-color': ''\n            })\n          })\n          // $(`#${this.id}_validate`).remove();\n          return true\n        }\n      }\n    }\n  }\n}\n","import * as YvanUI from '../../YvanUIExtend'\nimport { CtlInput } from './CtlInput'\nimport { parseYvanPropChangeVJson } from '../../CtlUtils'\nimport { CtlTextDefault } from '../../CtlDefaultValue'\n\nexport class CtlText extends CtlInput<CtlText> {\n  static create(module: any, vjson: any): CtlText {\n    const that = new CtlText(vjson)\n    that._module = module\n\n    _.defaultsDeep(vjson, CtlTextDefault)\n\n    // 基础属性先执行\n    that._create(vjson, that)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, ['validate'])\n\n    // 将 yvanProp 合并至当前 Ctl 对象\n    _.assign(that, yvanProp)\n\n    _.merge(vjson, that._webixConfig)\n\n    return that\n  }\n\n  /*============================ 公共属性部分 ============================*/\n\n  set validate(nv: any) {\n    const that = this\n    if (typeof nv === 'function') {\n      this._validate = nv\n    } else if (typeof nv === 'string') {\n      const vl = function (value: any, data: any) {\n        let msg = YvanUI.complexValid['fun'](nv, value)\n        const $input = $(that._webix.$view).find('input')\n        if (msg) {\n          $input.each((index, item) => {\n            $(item).css({\n              'background-color': '#ffdedb',\n              'border-color': '#ff8d82'\n            })\n          })\n          $(`#${that.id}_validate`).remove()\n          $(that._webix.$view).append(\n            `<div id=\"${that.id}_validate\" style=\"position:relative; border: 1px #ff8d82; float:right; top:-38px; color: #FF5C4C;\">${msg}</div>`\n          )\n          return false\n        } else {\n          $input.each((index, item) => {\n            $(item).css({\n              'background-color': '',\n              'border-color': ''\n            })\n          })\n          $(`#${that.id}_validate`).remove()\n          return true\n        }\n      }\n      this._validate = vl\n    }\n  }\n}\n","import { CtlInput } from '../input/CtlInput'\nimport { parseYvanPropChangeVJson } from '../../CtlUtils'\nimport { CtlCheckboxDefault } from '../../CtlDefaultValue'\n\nexport class CtlCheckBox extends CtlInput<CtlCheckBox> {\n  static create(module: any, vjson: any): CtlCheckBox {\n    const that = new CtlCheckBox(vjson)\n    that._module = module\n\n    _.defaultsDeep(vjson, CtlCheckboxDefault)\n\n    // 基础属性先执行\n    that._create(vjson, that)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, ['labelAtRight', 'value'])\n\n    // 将 yvanProp 合并至当前 Ctl 对象\n    _.assign(that, yvanProp)\n\n    // 将 _webixConfig 合并至 vjson, 最终合交给 webix 做渲染\n    _.merge(vjson, that._webixConfig, {\n      view: 'checkbox',\n      on: {}\n    })\n\n    return that\n  }\n\n  private _labelAtRight: boolean = true\n  private _label: string = ''\n\n  /**\n   * label 是否在右边\n   */\n  get labelAtRight(): boolean {\n    return this._labelAtRight\n  }\n\n  set labelAtRight(nv: boolean) {\n    this._labelAtRight = nv\n    this._refreshLabel()\n  }\n\n  /**\n   * label 显示内容\n   */\n  get label(): string {\n    return this._label\n  }\n\n  set label(nv: string) {\n    this._label = nv\n    this._refreshLabel()\n  }\n\n  private _refreshLabel() {\n    const nv = this._label\n    if (!this._webix) {\n      if (this._labelAtRight) {\n        this._webixConfig.label = ''\n        this._webixConfig.labelRight = nv\n        this._webixConfig.labelWidth = 0\n      } else {\n        this._webixConfig.label = nv\n        this._webixConfig.labelRight = ''\n      }\n    } else {\n      if (this._labelAtRight) {\n        this._webix.define({\n          label: '',\n          labelRight: nv\n        })\n      } else {\n        this._webix.define({\n          label: nv,\n          labelRight: ''\n        })\n      }\n      this._webix.refresh()\n    }\n  }\n\n  /**\n   * 交换状态\n   */\n  toggle() {\n    this._webix.toggle()\n  }\n\n  /**\n   * 设置值\n   */\n  set value(nv: any) {\n    if (!this._webix) {\n      this._webixConfig.value = nv\n    } else {\n      this._webix.setValueHere(nv)\n    }\n  }\n\n  /**\n   * 获取值\n   */\n  get value(): any {\n    if (!this._webix) {\n      return this._webixConfig.value\n    }\n    return this._webix.getValue()\n  }\n}\n","import { CtlInput } from '../input/CtlInput'\nimport { parseYvanPropChangeVJson } from '../../CtlUtils'\nimport { CtlComboDefault } from '../../CtlDefaultValue'\nimport { getFirstPinyin } from '../../Utils'\nimport { DataSource } from '../../YvanDataSource'\nimport { YvEvent } from '../../YvanEvent'\nimport { YvDataSource } from '../../YvanDataSourceImp'\n\n/**\n * 下拉框组件\n */\nexport class CtlCombo extends CtlInput<CtlCombo> {\n  static create(module: any, vjson: any): CtlCombo {\n    const that = new CtlCombo(vjson)\n    that._module = module\n\n    _.defaultsDeep(vjson, CtlComboDefault)\n\n    // 基础属性先执行\n    that._create(vjson, that)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, ['options', 'dataSource'])\n\n    // 将 yvanProp 合并至当前 Ctl 对象\n    _.assign(that, yvanProp)\n\n    _.merge(vjson, that._webixConfig)\n\n    return that\n  }\n\n  /**\n   * 数据绑定完成后触发\n   */\n  onDataComplete?: YvEvent<CtlCombo, any>\n\n  /**\n   * 修改下拉选项\n   */\n  set options(nv: any[]) {\n    const options: any = {\n      filter(item: any, filterWord: string) {\n        if (_.size(filterWord) <= 0) {\n          return true\n        }\n        const nodePy = getFirstPinyin(item.text).toLowerCase()\n        return (\n          nodePy.indexOf(filterWord.toLowerCase()) >= 0 ||\n          item.text.indexOf(filterWord) >= 0\n        )\n      },\n      body: {\n        template: '#text#',\n        type: {\n          height: 36\n        },\n        data: nv\n      }\n    }\n\n    if (!this._webix) {\n      _.merge(this._webixConfig, {\n        view: 'combo',\n        options\n      })\n      return\n    }\n    this._webix.define('options', options)\n    this._webix.refresh()\n  }\n\n  /**\n   * 获取显示的值\n   */\n  getText(): string {\n    return this._webix.getText()\n  }\n\n  /**\n   * 下拉选项\n   */\n  set dataReal(nv: any[]) {\n    this.options = nv\n  }\n\n  /**\n   * 获取数据源设置\n   */\n  get dataSource(): DataSource<CtlCombo> {\n    return this._dataSource\n  }\n\n  /**\n   * 设置数据源\n   */\n  set dataSource(nv: DataSource<CtlCombo>) {\n    this._dataSource = nv\n    if (this._module.loadFinished) {\n      // onLoad 之后会触发 view.onInited -> attachHandle -> refreshState -> _rebindDataSource\n      // onLoad 之前都不需要主动触发 _rebindDataSource\n      this._rebindDataSource()\n    }\n  }\n\n  /**\n   * 重新请求数据\n   */\n  public reload(): void {\n    if (this.dataSourceBind && this.dataSourceBind.reload) {\n      this.dataSourceBind.reload()\n    }\n  }\n\n  /* =============================================== 以下部分为私有函数 =============================================== */\n\n  //数据源设置\n  private _dataSource: DataSource<CtlCombo>\n\n  //数据源管理器\n  private dataSourceBind?: YvDataSource<CtlCombo>\n\n  //重新绑定数据源\n  private _rebindDataSource() {\n    if (!this._module) {\n      return;\n    }\n\n    const innerMethod = () => {\n      if (this.dataSourceBind) {\n        this.dataSourceBind.destory()\n        this.dataSourceBind = undefined\n      }\n\n      if (this._webix && this._module) {\n        this.dataSourceBind = new YvDataSource(this, this.dataSource, this._dataSourceProcess.bind(this))\n        this.dataSourceBind.init()\n      }\n    }\n\n    if (!this._module.loadFinished) {\n      // onload 函数还没有执行（模块还没加载完）, 延迟调用 rebind\n      _.defer(innerMethod)\n\n    } else {\n      // 否则实时调用 rebind\n      innerMethod()\n    }\n  }\n\n  private _dataSourceProcess(data: any[]) {\n    if (\n      !this.dataSource ||\n      _.isArray(this.dataSource) ||\n      _.isFunction(this.dataSource)\n    ) {\n      return data\n    }\n\n    if (this.dataSource.type !== 'SQL') {\n      return data\n    }\n\n    const displayField = this.dataSource.displayField || 'text'\n    const valueField = this.dataSource.valueField || 'id'\n    return _.map(data, item => {\n      return {\n        id: item[valueField],\n        text: item[displayField]\n      }\n    })\n  }\n\n  //刷新状态时，自动重绑数据源\n  protected refreshState() {\n    super.refreshState()\n    this._rebindDataSource()\n  }\n}\n","import { CtlInput } from './CtlInput'\nimport { parseYvanPropChangeVJson } from '../../CtlUtils'\nimport { CtlDateDefault, CtlDateTimeDefault } from '../../CtlDefaultValue'\n\nexport class CtlDatePicker extends CtlInput<CtlDatePicker> {\n  static create(module: any, vjson: any): CtlDatePicker {\n    const that = new CtlDatePicker(vjson)\n    that._module = module\n\n    const baseConfig: any = {}\n    if (vjson.view === 'datetime') {\n      // 日期+时间输入\n      baseConfig.format = '%Y-%m-%d %H:%i:%s'\n      baseConfig.timepicker = true\n      _.defaultsDeep(vjson, CtlDateTimeDefault)\n    } else {\n      // 日期输入\n      baseConfig.format = '%Y-%m-%d'\n      baseConfig.timepicker = false\n      _.defaultsDeep(vjson, CtlDateDefault)\n    }\n\n    // 基础属性先执行\n    that._create(vjson, that)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, [])\n\n    // 将 yvanProp 合并至当前 Ctl 对象\n    _.assign(that, yvanProp)\n\n    _.merge(vjson, that._webixConfig, {\n      editable: true,\n      stringResult: true,\n      view: 'datepicker',\n      ...baseConfig,\n      on: {}\n    })\n\n    return that\n  }\n\n  /*============================ 公共属性部分 ============================*/\n  /**\n   * 设置值 (如果不符合规定的格式 会清空)\n   */\n  set value(nv: any) {\n    if (!this._webix) {\n      this._webixConfig.value = nv\n    } else {\n      this._webix.setValue(nv)\n    }\n  }\n\n  /**\n   * 获取值(可能取到空值)\n   */\n  get value(): any {\n    const value = this._webix ? this._webix.getValue() : this._webixConfig.value\n    if (this.vjson.view === 'datetime') {\n      // 日期+时间输入\n      return _.toString(value).substr(0, 19)\n    } else {\n      // 日期输入\n      return _.toString(value).substr(0, 10)\n    }\n  }\n\n  /*============================ 私有部分 ============================*/\n\n  //更改 onChange 或实体时的值\n  protected valueProcess(value: any): any {\n    const moment: any = _.get(window, 'moment')\n    if (_.isDate(value)) {\n      value = moment(value)\n\n      if (this.vjson.view === 'datetime') {\n        // 日期+时间输入\n        value = value.isValid() ? value.format('YYYY-MM-DD HH:mm:ss') : ''\n      } else {\n        // 日期输入\n        value = value.isValid() ? value.format('YYYY-MM-DD') : ''\n      }\n\n      return value\n    }\n    return value\n  }\n}\n","import { CtlInput } from './CtlInput'\nimport { parseYvanPropChangeVJson } from '../../CtlUtils'\nimport {\n  CtlDateRangeDefault,\n  CtlDateTimeRangeDefault\n} from '../../CtlDefaultValue'\n\nexport class CtlDateRangePicker extends CtlInput<CtlDateRangePicker> {\n  static create(module: any, vjson: any): CtlDateRangePicker {\n    const that = new CtlDateRangePicker(vjson)\n    that._module = module\n\n    const baseConfig: any = {}\n    if (vjson.view === 'datetimerange') {\n      // 日期+时间输入\n      baseConfig.format = '%Y-%m-%d %H:%i:%s'\n      baseConfig.timepicker = true\n      _.defaultsDeep(vjson, CtlDateTimeRangeDefault)\n    } else {\n      // 日期输入\n      baseConfig.format = '%Y-%m-%d'\n      baseConfig.timepicker = false\n      _.defaultsDeep(vjson, CtlDateRangeDefault)\n    }\n\n    // 基础属性先执行\n    that._create(vjson, that)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, [\n      'value',\n      'separator',\n      'entityNameStart',\n      'entityNameEnd'\n    ])\n\n    // 将 yvanProp 合并至当前 Ctl 对象\n    _.assign(that, yvanProp)\n\n    _.merge(vjson, that._webixConfig, {\n      editable: true,\n      stringResult: true,\n      view: 'daterangepicker',\n      ...baseConfig,\n      on: {}\n    })\n\n    return that\n  }\n\n  /*============================ 公共部分 ============================*/\n  entityNameStart: string = ''\n  entityNameEnd: string = ''\n\n  get separator(): string {\n    if (!this._webix) {\n      return this._webixConfig.separator\n    }\n    return this._webix.config['separator']\n  }\n\n  set separator(nv: string) {\n    if (!this._webix) {\n      this._webixConfig.separator = nv\n    } else {\n      this._webix.define('separator', nv)\n    }\n  }\n\n  /**\n   * 设置值 (如果不符合规定的格式 会清空)\n   */\n  set value(nv: any) {\n    if (!this._webix) {\n      if (typeof nv === 'string') {\n        const [start, end] = nv.split(this.separator)\n        this._webixConfig.value = { start, end }\n      } else {\n        this._webixConfig.value = nv\n      }\n    } else {\n      let value: any = nv\n      if (typeof nv === 'string') {\n        const [start, end] = nv.split(this.separator)\n        value = { start, end }\n      }\n      this._webix.setValue(value)\n    }\n  }\n\n  /**\n   * 获取值(可能取到空值)\n   */\n  get value(): any {\n    const value = this._webix ? this._webix.getValue() : this._webixConfig.value\n    if (!value) {\n      return ''\n    }\n    const { start, end } = value\n    return start + this.separator + end\n  }\n\n  /*============================ 私有部分 ============================*/\n\n  //是否允许触发 onChange\n  protected valueValid(value: any): boolean {\n    const moment: any = _.get(window, 'moment')\n\n    if (_.isPlainObject(value)) {\n      let { start, end } = value\n      if (!moment(start).isValid() || !moment(end).isValid()) {\n        return true\n      }\n    }\n    return true\n  }\n\n  //更改 onChange 或实体时的值\n  protected valueProcess(value: any): any {\n    const moment: any = _.get(window, 'moment')\n    if (_.isPlainObject(value)) {\n      let { start, end } = value\n      start = moment(start)\n      end = moment(end)\n\n      if (this.vjson.view === 'datetimerange') {\n        // 日期+时间输入\n        start = start.isValid() ? start.format('YYYY-MM-DD HH:mm:ss') : ''\n        end = end.isValid() ? end.format('YYYY-MM-DD HH:mm:ss') : ''\n      } else {\n        // 日期输入\n        start = start.isValid() ? start.format('YYYY-MM-DD') : ''\n        end = end.isValid() ? end.format('YYYY-MM-DD') : ''\n      }\n\n      if (this.entityNameStart) {\n        // 带 entityNameStart 实体绑定\n        _.set(this._module, this.entityNameStart, start)\n      }\n\n      if (this.entityNameEnd) {\n        // 带 entityNameEnd 实体绑定\n        _.set(this._module, this.entityNameEnd, end)\n      }\n\n      return start + this.separator + end\n    }\n    return value\n  }\n}\n","import { CtlBase } from '../CtlBase'\nimport { parseYvanPropChangeVJson } from '../CtlUtils'\n\nexport class CtlForm extends CtlBase<CtlForm> {\n  static create(module: any, vjson: any): CtlForm {\n    const that = new CtlForm(vjson)\n    that._module = module\n\n    if (vjson.hasOwnProperty('debugger')) {\n      debugger\n    }\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, [])\n\n    // 将 vjson 存至 _webix (此时 _webix 还只是 vjson 代理对象)\n    that._webixConfig = vjson\n\n    // 将 yvanProp 合并至当前 Ctl 对象\n    _.assign(that, yvanProp)\n\n    // 将 yvanProxy 版的 _webix 合并至 webixProp, 最终合并至 vjson\n    _.merge(vjson, that._webixConfig, {\n      on: {\n        onInited: function (this: any) {\n          that.attachHandle(this, { ...vjson, ...yvanProp })\n        },\n        // onAfterLoad: function (this: any) {\n        //   that.attachHandle(this)\n        // },\n        // onBeforeLoad: function (this: any) {\n        //   that.attachHandle(this)\n        // },\n        // onChange: function (this: any) {\n        //   that.attachHandle(this)\n        // },\n        // onViewShow: function (this: any) {\n        //   that.attachHandle(this)\n        // },\n        onDestruct: function () {\n          that.removeHandle()\n        }\n      }\n    })\n\n    return that\n  }\n\n  setValues(data: any) {\n    this._webix.setValues(data)\n  }\n}\n","import { CtlInput } from '../input/CtlInput'\nimport { parseYvanPropChangeVJson } from '../../CtlUtils'\nimport { CtlMultiComboDefault } from '../../CtlDefaultValue'\nimport { getFirstPinyin } from '../../Utils'\n\nexport class CtlMultiCombo extends CtlInput<CtlMultiCombo> {\n  static create(module: any, vjson: any): CtlMultiCombo {\n    const that = new CtlMultiCombo(vjson)\n    that._module = module\n\n    _.defaultsDeep(vjson, CtlMultiComboDefault)\n\n    // 基础属性先执行\n    that._create(vjson, that)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, ['options'])\n\n    // 将 yvanProp 合并至当前 Ctl 对象\n    _.assign(that, yvanProp)\n\n    _.merge(vjson, that._webixConfig)\n\n    return that\n  }\n\n  /**\n   * 修改下拉选项\n   */\n  set options(nv: any[]) {\n    const options: any = {\n      filter(item: any, filterWord: string) {\n        if (_.size(filterWord) <= 0) {\n          return true\n        }\n        const nodePy = getFirstPinyin(item.text).toLowerCase()\n        return (\n          nodePy.indexOf(filterWord.toLowerCase()) >= 0 ||\n          item.text.indexOf(filterWord) >= 0\n        )\n      },\n      body: {\n        template: '#text#',\n        type: {\n          height: 36\n        },\n        data: nv\n      }\n    }\n\n    if (!this._webix) {\n      _.merge(this._webixConfig, {\n        view: 'multicombo',\n        options\n      })\n      return\n    }\n    this._webix.define('options', options)\n    this._webix.refresh()\n  }\n\n  /**\n   * 修改下拉选项\n   */\n  set dataReal(nv: any[]) {\n    this.options = nv\n  }\n\n  /**\n   * 值分隔符\n   */\n  get separator(): string {\n    if (!this._webix) {\n      return this._webixConfig.separator\n    }\n    return this._webix.config['separator']\n  }\n\n  /**\n   * 值分隔符\n   */\n  set separator(nv: string) {\n    if (!this._webix) {\n      this._webixConfig.separator = nv\n    } else {\n      this._webix.define('separator', nv)\n    }\n  }\n\n  /**\n   * 设置值 (如果不符合规定的格式 会清空)\n   */\n  set value(nv: any) {\n    if (!this._webix) {\n      this._webixConfig.value = nv\n    } else {\n      this._webix.setValue(nv)\n    }\n  }\n\n  /**\n   * 获取值(可能取到空值)\n   */\n  get value(): any {\n    return this._webix.getValue()\n  }\n}\n","import { parseYvanPropChangeVJson } from '../../CtlUtils'\nimport { YvEventDispatch, YvEvent } from '../../YvanEvent'\nimport { BaseDialog } from '../../YvanUIModule'\nimport { CtlSearchDefault } from '../../CtlDefaultValue'\nimport { CtlInput } from './CtlInput'\n\n/**\n * search widget 接口配置\n */\ninterface WidgetOption {\n  /**\n   * 要弹出的 widget 窗口实例\n   */\n  content: any\n\n  /**\n   * 默认要 子对话框带的参数\n   */\n  params: any\n\n  /**\n   * 写会数据时所带的映射关系\n   */\n  bind?: {\n    /**\n     * 本模块的实体对象+属性名 = 弹出框附属的属性名\n     */\n    [name: string]: string\n  }\n\n  /**\n   * 读取数据时的回调\n   */\n  onLoadData?: YvEvent<CtlSearch, void>\n  /**\n   * 回写时的回调\n   */\n  onConfirm?: YvEvent<CtlSearch, any>\n  /**\n   * 清空时的回调\n   */\n  onClear?: YvEvent<CtlSearch, void>\n}\n\nexport class CtlSearch extends CtlInput<CtlSearch> {\n  static create(module: any, vjson: any): CtlSearch {\n    const that = new CtlSearch(vjson)\n    that._module = module\n\n    const vvjson = _.cloneDeep(vjson);\n\n    _.defaultsDeep(vjson, CtlSearchDefault)\n\n    // 基础属性先执行\n    that._create(vjson, that)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, ['widget', 'value'])\n\n    // 将 vjson 存至 _webix (此时 _webix 还只是 vjson 代理对象)\n    that._webixConfig = vjson\n\n    if (!vjson.id) {\n      that.id = _.uniqueId('input_')\n    }\n\n    // 将 yvanProp 合并至当前 Ctl 对象\n    _.assign(that, yvanProp)\n\n    _.merge(vjson, that._webixConfig, {\n      on: {\n        onInited(this: any) {\n          that.attachHandle(this, vvjson)\n          that._refreshIcon()\n        },\n        // onAfterRender(this: any) {\n        //     const $dom: any = $(this.$view);\n        //     $dom.on('keydown', (event: KeyboardEvent) => {\n        //         if (event.keyCode === 13) {\n        //             // 从键盘响应查询\n        //             event.stopPropagation();\n        //             event.preventDefault();\n        //\n        //             that.suppressRestore = true;\n        //             that._searchRequest(that._webix.getValue(), that.valueOrigin);\n        //             return;\n        //         }\n        //\n        //         YvEventDispatch(this.onKeydown, this, event);\n        //     });\n        // },\n        onEnter() {\n          // 从键盘响应查询\n          that._searchRequest(that._webix.getValue(), that.valueEdit)\n        },\n        onFocus(this: any) {\n          //进入焦点时，用户输入的值既为有效值\n          that.valueReal = that._webix.getValue()\n          YvEventDispatch(that.onFocus, that, undefined)\n        },\n        onBlur(this: any) {\n          if (that._validate) {\n            const result = that._validate(that.value);\n            if (result) {\n              that._showValidateError()\n            }\n            else {\n              that._hideValidateError()\n            }\n          }\n          that._hideTootip()\n          //离开焦点时，用户输入的置为无效\n          that._webix.setValue(that.valueReal)\n          YvEventDispatch(that.onBlur, that, undefined)\n        },\n        // onDestruct(this: any) {\n        //     const $dom: any = $(this.$view);\n        //     $dom.off('keydown');\n        // },\n        onSearchIconClick(e: Event) {\n          // 从鼠标响应查询\n          e.stopPropagation()\n          e.preventDefault()\n\n          const $span = $(e.target as any)\n          if ($span.hasClass('wxi-close')) {\n            // 清空\n            that.clear()\n          } else {\n            // 查询\n            that._searchRequest(that._webix.getValue(), that.valueEdit)\n          }\n        }\n      }\n    })\n\n    return that\n  }\n\n  /*============================ 公共属性部分 ============================*/\n\n  /**\n   * 弹框配置\n   */\n  widget?: WidgetOption\n\n  /**\n   * 清空值\n   */\n  clear() {\n    if (!this.widget) {\n      return\n    }\n\n    this.supportChangeValue = true\n\n    YvEventDispatch(this.widget.onClear, this, undefined)\n\n    //清空\n    _.forOwn(this.widget.bind, (value, key) => {\n      _.set(this._module, key, '')\n    })\n  }\n\n  get value(): string | undefined {\n    if (!this._webix) {\n      return this._webixConfig.value\n    }\n    return this.valueReal\n  }\n\n  set value(nv: string | undefined) {\n    if (!this._webix) {\n      this._webixConfig.value = nv\n    } else {\n      this._webix.setValue(nv)\n      this.valueEdit = nv\n    }\n\n    if (this.supportChangeValue) {\n      this.valueReal = nv\n      this.supportChangeValue = false\n    }\n\n    YvEventDispatch(this.onChange, this, nv)\n    this._refreshIcon()\n  }\n\n  _refreshIcon() {\n    const value = this._webix ? this._webix.getValue() : this._webixConfig.value\n    const icon = value ? 'wxi-close' : 'wxi-search'\n    let $span: any = this._webix ? $(this._webix.$view).find('span') : undefined\n\n    if (!$span || $span.length <= 0) {\n      if (this._webix) {\n        this._webix.define('icon', icon)\n      } else {\n        this._webixConfig.icon = icon\n      }\n    } else {\n      $span\n        .removeClass('wxi-close')\n        .removeClass('wxi-search')\n        .addClass(icon)\n    }\n  }\n\n  /*============================ 私有部分 ============================*/\n  // 编辑值\n  private valueEdit?: string = undefined\n  // 是否设置真实值\n  private supportChangeValue: boolean = false\n  // 真实值\n  private valueReal?: string = undefined\n\n  /**\n   * 进入查询框\n   */\n  _searchRequest(queryValue: any, restoreValue: any) {\n    queryValue = _.toString(queryValue)\n    const searchCtl = this\n\n    if (!searchCtl.widget) {\n      console.error('没有设置 widget 属性')\n      return\n    }\n\n    const widgetParamter: any = {\n      query: queryValue,\n      params: searchCtl.widget.params\n    }\n\n    //构造查询的对象\n    //从 bind 获取\n    const queryObj = {}\n    _.forOwn(searchCtl.widget.bind, (value, key) => {\n      _.set(queryObj, value, _.get(this._module, key))\n    })\n\n    widgetParamter.existObject = queryObj\n\n    widgetParamter.onWidgetConfirm = function (data: any) {\n      if (!searchCtl.widget) {\n        console.error('没有设置 widget 属性')\n        return\n      }\n      searchCtl.supportChangeValue = true\n\n      YvEventDispatch(searchCtl.widget.onConfirm, searchCtl, undefined)\n\n      //写回\n      _.forOwn(searchCtl.widget.bind, (value, key) => {\n        _.set(searchCtl._module, key, _.get(data, value))\n      })\n\n      this.closeDialog()\n      searchCtl.focus()\n    }\n    widgetParamter.onClose = function () {\n      //弹窗关闭后恢复原值，并开启还原\n      searchCtl.value = restoreValue\n      searchCtl.supportChangeValue = false\n      searchCtl.focus()\n    }\n    const dlg: BaseDialog<any, any, any> = new searchCtl.widget.content()\n    dlg.showDialog(widgetParamter, searchCtl._module, true)\n    // YvanUI.showDialogWidget(this, new searchCtl.widget.content(), widgetParamter);\n  }\n}\n","import { CtlBase } from './CtlBase'\nimport { parseYvanPropChangeVJson } from './CtlUtils'\nimport { YvEvent, YvEventDispatch } from './YvanEvent'\n\nexport class CtlCarousel extends CtlBase<CtlCarousel> {\n  onShow?: YvEvent<CtlCarousel, string>\n\n  static create(module: any, vjson: any): CtlCarousel {\n    const that = new CtlCarousel(vjson)\n    that._module = module\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, ['onShow'])\n\n    // 将 vjson 存至 _webix (此时 _webix 还只是 vjson 代理对象)\n    that._webixConfig = vjson\n\n    // 将 yvanProp 合并至当前 Ctl 对象\n    _.assign(that, yvanProp)\n\n    _.merge(vjson, that._webixConfig, {\n      on: {\n        onInited() {\n          that.attachHandle(this, { ...vjson, ...yvanProp })\n        },\n        onDestruct: function () {\n          that.removeHandle()\n        },\n        onShow: function (this: any) {\n          const value = this.getActiveIndex()\n          YvEventDispatch(that.onShow, that, value)\n        }\n      }\n    })\n    return that\n  }\n}\n","const CtlGridLocale: any = {\n    rownumber: \" \",\n    page: \"页\",\n    more: \"更多\",\n    to: \"到\",\n    of: \"of\",\n    next: \"下一页\",\n    last: \"上一页\",\n    first: \"首页\",\n    previous: \"上一页\",\n    loadingOoo: `<i class=\"fa fa-spinner fa-pulse\"></i>`,\n    selectAll: \"查询全部\",\n    searchOoo: \"查询...\",\n    blanks: \"空白\",\n    filterOoo: \"过滤...\",\n    applyFilter: \"确定\",\n    clearFilter: \"清空\",\n    equals: \"相等\",\n    notEqual: \"不相等\",\n    lessThan: \"小于\",\n    greaterThan: \"大于\",\n    lessThanOrEqual: \"小于等于\",\n    greaterThanOrEqual: \"大于等于\",\n    inRange: \"范围查询\",\n    contains: \"包含\",\n    notContains: \"不包含\",\n    startsWith: \"开始于\",\n    endsWith: \"结束于\",\n    group: \"组\",\n    columns: \"列\",\n    filters: \"筛选\",\n    rowGroupColumns: \"laPivot Cols\",\n    rowGroupColumnsEmptyMessage: \"la drag cols to group\",\n    valueColumns: \"laValue Cols\",\n    pivotMode: \"laPivot-Mode\",\n    groups: \"laGroups\",\n    values: \"值\",\n    pivots: \"laPivots\",\n    valueColumnsEmptyMessage: \"la drag cols to aggregate\",\n    pivotColumnsEmptyMessage: \"la drag here to pivot\",\n    toolPanelButton: \"la tool panel\",\n    noRowsToShow: \"数据为空\",\n    pinColumn: \"laPin Column\",\n    valueAggregation: \"laValue Agg\",\n    autosizeThiscolumn: \"laAutosize Diz\",\n    autosizeAllColumns: \"laAutsoie em All\",\n    groupBy: \"排序\",\n    ungroupBy: \"不排序\",\n    resetColumns: \"重置列\",\n    expandAll: \"展开全部\",\n    collapseAll: \"关闭\",\n    toolPanel: \"工具面板\",\n    export: \"导出\",\n    csvExport: \"导出为CSV格式文件\",\n    excelExport: \"导出到Excel\",\n    pinLeft: \"laPin &lt;&lt;\",\n    pinRight: \"laPin &gt;&gt;\",\n    noPin: \"laDontPin &lt;&gt;\",\n    sum: \"总数\",\n    min: \"最小值\",\n    max: \"最大值\",\n    none: \"无\",\n    count: \"总\",\n    average: \"平均值\",\n    copy: \"复制\",\n    copyWithHeaders: \"携带表头复制\",\n    ctrlC: \"ctrl + C\",\n    paste: \"粘贴\",\n    ctrlV: \"ctrl + V\"\n};\n\nexport default CtlGridLocale\n","import {CtlGrid, GridRefreshMode} from './CtlGrid'\n\nexport class CtlGridPage {\n  public grid: CtlGrid\n\n  public getPageData!: (currentPage: number, pageSize: number) => {}\n\n  private _currentPage: number = 1\n\n  private _pageSize: number = 100\n\n  private _pageCount: number = 0\n\n  private _itemCount: number = 0\n\n  get currentPage() {\n    return this._currentPage\n  }\n  set currentPage(cp: number) {\n    this._currentPage = cp\n    if (this._currentPage > this._pageCount) {\n      this._currentPage = this._pageCount\n    }\n    if (this._currentPage <= 0 && this._pageCount > 0) {\n      this._currentPage = 1\n    }\n    this.refreshPageViewInfo()\n  }\n\n  get pageSize() {\n    return this._pageSize\n  }\n  set pageSize(ps: number) {\n    if (ps <= 0) {\n      return\n    }\n\n    this._pageSize = ps\n    this.refreshPageViewInfo()\n  }\n\n  get pageCount() {\n    return this._pageCount\n  }\n\n  get itemCount() {\n    return this._itemCount\n  }\n\n  set itemCount(ic: number) {\n    this._itemCount = ic\n    this.refreshPageViewInfo()\n  }\n\n  public refreshGrid() {\n    this.getPageData(1, this.pageSize)\n  }\n\n  private firstButtomDom: any\n  private prevButtomDom: any\n  private nextButtomDom: any\n  private lastButtomDom: any\n  private currenpageDom: any\n  private gridpagerDom: any\n  private itemcountDom: any\n  private pageSizeDom: any\n  private gridpagerLeft: any\n  private gridpagerRight: any\n  private gridpagerCenter: any\n\n  constructor(grid: CtlGrid) {\n    this.grid = grid\n    this._pageSize = this.grid.pageSize\n\n    /** 找到aggrid 自带的pageview 替换子dom节点 **/\n\n    var dom = this.grid.webix.$view.getElementsByClassName(\n      'ag-paging-panel ag-unselectable'\n    )\n    var su_id = this.grid.webix.config.id\n    if (dom.length <= 0) {\n      return\n    }\n    /** 显示底部分页栏 **/\n    dom[0].className = 'ag-paging-panel ag-unselectable'\n\n    dom[0].innerHTML =\n      '<div id=\"wwww\" role=\"group\">' +\n      '    <table class=\"ui-pg-table\" style=\"width:100%;table-layout:fixed;height:100%;\">' +\n      '        <tbody><tr>' +\n      '            <td id=\"gridpager_left_' +\n      su_id +\n      '\" style=\"display: none\"></td>' +\n      '            <td id=\"gridpager_center_' +\n      su_id +\n      '\">' +\n      '                <table style=\"table-layout:auto;white-space: pre;margin-left:0;margin-right:auto;\">' +\n      '                    <tbody><tr>' +\n      '                        <td role=\"button\" tabindex=\"0\" class=\"ctl-grid-page ui-pg-button\" title=\"First Page\" style=\"cursor: default;\"><span id=\"first_' +\n      su_id +\n      '\" class=\"ctl-grid-page ui-icon fa fa-angle-double-left\"></span></td>' +\n      '                        <td role=\"button\" tabindex=\"0\" class=\"ctl-grid-page ui-pg-button\" title=\"Previous Page\" style=\"cursor: default;\"><span id=\"prev_' +\n      su_id +\n      '\" class=\"ctl-grid-page ui-icon fa fa-angle-left\"></span></td>' +\n      '                        <td><span style=\"color: #c0c0c0\">|</span></td>\\n' +\n      '                        <td dir=\"ltr\"><input aria-label=\"Page No.\" id=\"currenpage_' +\n      su_id +\n      '\" type=\"text\" size=\"2\" maxlength=\"7\" value=\"0\"> 共 <span id=\"gridpager_' +\n      su_id +\n      '\">219</span> 页 </td>' +\n      '                        <td><span style=\"color: #c0c0c0\">|</span></td>\\n' +\n      '                        <td role=\"button\" tabindex=\"0\" class=\"ctl-grid-page ui-pg-button\" title=\"Next Page\" style=\"cursor: default;\"><span id=\"next_' +\n      su_id +\n      '\" class=\"ctl-grid-page ui-icon fa fa-angle-right\"></span></td>' +\n      '                        <td role=\"button\" tabindex=\"0\" class=\"ctl-grid-page ui-pg-button\" title=\"Last Page\" style=\"cursor: default;\"><span id=\"last_' +\n      su_id +\n      '\" class=\"ctl-grid-page ui-icon fa fa-angle-double-right\"></span></td>' +\n      '                        <td dir=\"ltr\"><select id=\"pagesize_' +\n      su_id +\n      '\" title=\"Records per Page\"><option value=\"20\" selected=\"selected\">20</option><option value=\"50\">50</option><option value=\"100\">100</option><option value=\"200\">200</option><option value=\"500\">500</option><option value=\"1000\">1000</option></select></td>' +\n      '                    </tr></tbody>' +\n      '                </table>' +\n      '            </td>' +\n      '            <td id=\"gridpager_right_' +\n      su_id +\n      '\" style=\"text-align:right;\">' +\n      '               <span dir=\"ltr\" style=\"text-align:right\" id=\"itemcount_' +\n      su_id +\n      '\">41 - 60　共 4,367 条</span>' +\n      '            </td>' +\n      '        </tr></tbody>' +\n      '    </table>' +\n      '</div>'\n\n    this.firstButtomDom = document.getElementById('first_' + su_id)\n    this.prevButtomDom = document.getElementById('prev_' + su_id)\n    this.nextButtomDom = document.getElementById('next_' + su_id)\n    this.lastButtomDom = document.getElementById('last_' + su_id)\n    this.currenpageDom = document.getElementById('currenpage_' + su_id)\n    this.gridpagerDom = document.getElementById('gridpager_' + su_id)\n    this.itemcountDom = document.getElementById('itemcount_' + su_id)\n    this.pageSizeDom = document.getElementById('pagesize_' + su_id)\n    this.gridpagerCenter = document.getElementById('gridpager_center_' + su_id)\n    this.gridpagerLeft = document.getElementById('gridpager_left_' + su_id)\n    this.gridpagerRight = document.getElementById('gridpager_right_' + su_id)\n\n    if (this.grid.pagination) {\n      this.gridpagerCenter.style.display = ''\n    } else {\n      this.gridpagerCenter.style.display = 'none'\n    }\n\n    this.refreshPageViewInfo()\n\n    var me = this\n\n    this.currenpageDom.onkeydown = function(event: any) {\n      if (event.keyCode === 13) {\n        // enter键\n        let cp = parseInt(event.srcElement.value)\n        if (cp > me.pageCount) {\n          cp = me.pageCount\n        }\n        if (cp <= 0) {\n          cp = 1\n        }\n        me.grid.refreshMode = GridRefreshMode.refreshWithFilter;\n        me.getPageData(cp, me.pageSize)\n      } else {\n        if (event.keyCode !== 8 && (event.keyCode < 48 || event.keyCode > 57)) {\n          return false\n        }\n      }\n    }\n\n    this.pageSizeDom.onchange = function(v: any) {\n      me.pageSize = v.srcElement.value\n      me.grid.paginationSetPageSize(me.pageSize)\n      if (typeof me.getPageData === 'function') {\n        me.grid.refreshMode = GridRefreshMode.refreshWithFilter;\n        me.getPageData(1, me.pageSize)\n      }\n    }\n\n    var buttons = dom[0].getElementsByClassName('ctl-grid-page ui-icon')\n    var buttons1 = dom[0].getElementsByClassName(\n      'ctl-grid-page ui-icon-disable'\n    )\n    buttons = _.union(buttons, buttons1)\n    _.each(buttons, button => {\n      button.onclick = function(q: any) {\n        for (let i = 0; i < q.srcElement.classList.length; i++) {\n          if (q.srcElement.classList[i] === 'ui-icon-disable') {\n            return\n          }\n        }\n        const pre = _.split(q.srcElement.id, '_' + me.grid.webix.config.id)\n\n        let cp = me.currentPage\n        switch (pre[0]) {\n          case 'first': {\n            cp = 1\n            break\n          }\n          case 'prev': {\n            if (cp > 1) {\n              cp -= 1\n            }\n            break\n          }\n          case 'next': {\n            if (cp < me.pageCount) {\n              cp += 1\n            }\n            break\n          }\n          case 'last': {\n            cp = me.pageCount\n            me.disableButton(q.srcElement)\n            break\n          }\n        }\n\n        if (typeof me.getPageData === 'function') {\n          me.grid.refreshMode = GridRefreshMode.refreshWithFilter;\n          me.getPageData(cp, me.pageSize)\n        }\n      }\n    })\n  }\n\n  private disableButton(element: any) {\n    if (element.className.includes('ui-icon-disable')) {\n      return\n    }\n    element.className = _.replace(\n      element.className,\n      'ui-icon',\n      'ui-icon-disable'\n    )\n  }\n\n  private activeButton(element: any) {\n    if (\n      !element.className.includes('ui-icon-disable') &&\n      element.className.includes('ui-icon')\n    ) {\n      return\n    }\n    element.className = _.replace(\n      element.className,\n      'ui-icon-disable',\n      'ui-icon'\n    )\n  }\n\n  private refreshPageViewInfo() {\n    if (this.grid.pagination) {\n      if (this._itemCount > 0 && this._pageSize > 0) {\n        this._pageCount = Math.ceil(this._itemCount / this._pageSize)\n      }\n\n      this.pageSizeDom.value = this._pageSize\n      this.currenpageDom.value = this._currentPage\n      this.gridpagerDom.innerText = this._pageCount\n\n      if (this.currentPage <= 0) {\n        this.itemcountDom.innerText = '0 - 0　共 0 条'\n      } else {\n        let min = (this.currentPage - 1) * this.pageSize + 1\n        let max = this.currentPage * this.pageSize\n\n        if (min > this._itemCount) {\n          min = this._itemCount\n        }\n        if (max > this._itemCount) {\n          max = this._itemCount\n        }\n        this.itemcountDom.innerText =\n          min + ' - ' + max + '  共 ' + this.itemCount + ' 条'\n      }\n\n      if (this.currentPage > 1) {\n        this.activeButton(this.firstButtomDom)\n        this.activeButton(this.prevButtomDom)\n      } else {\n        this.disableButton(this.firstButtomDom)\n        this.disableButton(this.prevButtomDom)\n      }\n\n      if (this.currentPage < this.pageCount) {\n        this.activeButton(this.nextButtomDom)\n        this.activeButton(this.lastButtomDom)\n      } else {\n        this.disableButton(this.nextButtomDom)\n        this.disableButton(this.lastButtomDom)\n      }\n    } else {\n      this.itemcountDom.innerText = '共 ' + this.itemCount + ' 条'\n    }\n  }\n}\n","export default function (params: any, grid?: any) {\n    if (params.node.cstate) {\n        if (params.node.cstate === 'validate' || params.node.cstate === 'pending') {\n            return '<i class=\"fa fa-spinner fa-spin\"></i>'\n        }\n\n        if (params.node.cstate === 'editing') {\n            return '<i class=\"fa fa-edit\"></i>'\n        }\n\n        if (params.node.cstate === 'ok') {\n            return '<i class=\"fa fa-check\" style=\"color: green;\"></i>'\n        }\n\n        if (params.node.cstate === 'error') {\n            return '<i class=\"fa fa-exclamation-circle\" style=\"color: red;\"></i>'\n        }\n    }\n\n    if (params.node.rowPinned === 'top') {\n        return '+'\n    }\n\n    if (_.size(params.data) <= 0) {\n        //数据还没刷出来\n        return '<i class=\"fa fa-spinner fa-spin\"></i>'\n    }\n    if (grid && grid.pagination && grid.gridPage) {\n        return 1 + params.node.rowIndex + grid.gridPage.pageSize * (grid.gridPage.currentPage - 1);\n    }\n    return 1 + params.node.rowIndex\n}\n","export const YvGridProp: any = {\n    editable: false,\n    checkbox: false,\n    editSingleClick: true,\n    allowNewRow: true,\n    filterable: true,\n    loading: false,\n    showRowNumber: true,\n    autoSizeColumns: false,\n    allowCellSelection: false,\n    allowRowSelection: true,\n    idField: undefined,\n    valueSep: true,\n    saveOn: 'rowChanged',\n    newRowData: undefined,\n    stopEditingWhenGridLosesFocus: false,\n    columns: [],\n    columnGroup: [],\n    data: undefined\n};\n\nexport const YvGridColumnProp: any = {\n    hidden: false,\n    field: '',\n    title: '',\n    width: undefined,\n    maxwidth: 800,\n    minwidth: 0,\n    sortable: false,\n    resizable: true,\n    editable: false,\n    filterable: false,\n    calcExpr: undefined,\n    editMode: 'text'\n};\n\nexport const YvGridColumnEditProp: any = {\n    widget: undefined,\n    bind: [],\n    on: true,\n    off: false,\n    precision: 0,\n    idField: 'id',\n    textField: 'text',\n    maxlength: undefined,\n    dateformat: 'yyyy-MM-dd',\n    datetimeformat: 'yyyy-MM-dd HH:mm:ss',\n    data: []\n};\n","export default class CtlGridCellCheckbox {\n\n    checkedToggle(vue: any, childSpan: any, id: any) {\n        return function () {\n            if (childSpan.classList.contains('checked')) {\n                const index = vue.checkedIds.indexOf(id)\n                if (index >= 0) {\n                    vue.checkedIds.splice(index, 1)\n                }\n                childSpan.classList.remove('checked')\n\n            } else {\n                vue.checkedIds.push(id)\n                childSpan.classList.add('checked')\n            }\n\n            // 观测，是否显示\"全选\"框的函数\n            if (vue.allCheckedBoxStateChanged) {\n                vue.allCheckedBoxStateChanged();\n            }\n        }\n    }\n\n    innerRefresh(this: any, gridOptions: any) {\n        const vue = gridOptions.api.vue\n        const data = gridOptions.data\n        const id = vue._getIdByRow(data)\n        const childSpan = this.$el.querySelectorAll('.yvan-checkbox-switch')[0]\n        if (!childSpan) {\n            return\n        }\n\n        if (gridOptions.isCheckedIds) {\n            //用来做勾选数据行用 checkedIds\n            if (vue.checkedIds.indexOf(id) >= 0) {\n                childSpan.classList.add('checked')\n            } else {\n                childSpan.classList.remove('checked')\n            }\n\n            // 观测，是否显示\"全选\"框的函数\n            if (vue.allCheckedBoxStateChanged) {\n                vue.allCheckedBoxStateChanged();\n            }\n\n        } else {\n            //用来做数据展示用\n            childSpan.classList.add('disabled')\n            if (typeof gridOptions.on === 'string') {\n                //on 是个字符串\n                if (gridOptions.on === '' + gridOptions.value) {\n                    childSpan.classList.add('checked')\n                }\n\n            } else if (typeof gridOptions.on === 'function') {\n                //on 是个函数\n                if (gridOptions.on.call(vue, gridOptions.value, data)) {\n                    childSpan.classList.add('checked')\n                }\n            }\n        }\n    }\n\n    init(this: any, gridOptions: any) {\n        this.$el = document.createElement('div')\n        if (gridOptions.node.rowPinned) {\n            //这是在添加行或结尾行的数据，不用任何展示\n            return\n        }\n\n        this.$el.classList.add('yvan-checkbox')\n        this.$el.innerHTML =\n            '<span class=\"yvan-checkbox-switch\"><span class=\"yvan-checkbox-status\"></span></span>'\n\n        this.innerRefresh(gridOptions)\n\n        const vue = gridOptions.api.vue;\n        const childSpan = this.$el.querySelectorAll('.yvan-checkbox-switch')[0];\n        const data = gridOptions.data\n        const id = vue._getIdByRow(data)\n        this.$el.addEventListener('click', this.checkedToggle(vue, childSpan, id))\n    }\n\n    getGui(this: any) {\n        return this.$el\n    }\n\n    destroy() {\n    }\n\n    refresh(gridOptions: any) {\n        this.innerRefresh(gridOptions)\n    }\n}\n","export default class CtlGridHeadCheckbox {\n\n    checkedToggle(ctlGrid: any, gridOptions: any) {\n        const that: any = this;\n        return function () {\n            if (ctlGrid.idField) {\n\n                const domSpan = $(that.$el).find('.yvan-checkbox-switch');\n                const isChecked = domSpan.is('.checked');\n                // 当前表格的 全部行ID\n                const dataIds = _.map(ctlGrid.getData(), v => _.get(v, ctlGrid.idField));\n\n                if (isChecked) {\n                    // 取消全选\n                    for (let i = 0; i < dataIds.length; i++) {\n                        const id = dataIds[i];\n                        const index = ctlGrid.checkedIds.indexOf(id)\n                        if (index >= 0) {\n                            ctlGrid.checkedIds.splice(index, 1)\n                        }\n                    }\n\n                } else {\n                    // 全选\n                    for (let i = 0; i < dataIds.length; i++) {\n                        const id = dataIds[i];\n                        if (!_.includes(ctlGrid.checkedIds, id)) {\n                            ctlGrid.checkedIds.push(id);\n                        }\n                    }\n                }\n\n                // 刷新\n                ctlGrid.gridApi.refreshCells({\n                    columns: ['__CB__'],\n                    force: true\n                })\n            }\n        }\n    }\n\n    innerRefresh(this: any, gridOptions: any) {\n        const ctlGrid = gridOptions.api.vue\n        const domSpan = $(this.$el).find('.yvan-checkbox-switch');\n\n        if (ctlGrid.idField) {\n            ctlGrid.allCheckedBoxStateChanged = () => {\n                // 当前表格的 全部行ID\n                const dataIds = _.map(ctlGrid.getData(), v => _.get(v, ctlGrid.idField));\n\n                let allIn = true;\n                for (let i = 0; i < dataIds.length; i++) {\n                    const id = dataIds[i];\n                    if (!_.includes(ctlGrid.checkedIds, id)) {\n                        // 不是全部都包含\n                        allIn = false;\n                        break;\n                    }\n                }\n\n                const isChecked = domSpan.is('.checked');\n                if (isChecked) {\n                    if (!allIn) {\n                        domSpan.removeClass('checked');\n                    }\n                } else {\n                    if (allIn) {\n                        domSpan.addClass('checked');\n                    }\n                }\n            }\n        }\n    }\n\n    init(this: any, gridOptions: any) {\n        this.$el = document.createElement('div')\n\n        this.$el.classList.add('yvan-checkbox')\n        this.$el.innerHTML =\n            '<span class=\"yvan-checkbox-switch\"><span class=\"yvan-checkbox-status\"></span></span>'\n\n        _.defer(() => {\n            const ctlGrid = gridOptions.api.vue\n            this.$el.addEventListener('click', this.checkedToggle(ctlGrid, gridOptions))\n            this.innerRefresh(gridOptions)\n        });\n\n        // clearInterval(this.intervalHandle)\n    }\n\n    getGui(this: any) {\n        return this.$el\n    }\n\n    destroy() {\n    }\n\n    refresh(gridOptions: any) {\n        this.innerRefresh(gridOptions)\n    }\n}","import * as YvanUI from './YvanUIExtend'\nimport { Ajax } from './YvanUIAjax'\nimport { GridDataSource, GridDataSourceSql, GridDataSourceServer, GridDataSourceAjax, GridDataSourceStaticFunction, WatchParam, GetParam } from './YvanDataSourceGrid'\nimport { isDesignMode } from './DesignHelper'\nimport { brokerInvoke } from './Service'\nimport { Db } from './YvanUIDb'\nimport {GridRefreshMode} from \"./CtlGrid\";\n\nexport class YvanDataSourceGrid {\n  private option: GridDataSource\n  private ctl: any\n  private readonly module: any\n  private watches: Function[] = []\n  private isFirstAutoLoad: boolean = true //是否为第一次自动读取\n\n  private reload: undefined | (() => void)\n  private rowCount: number | undefined\n  public lastFilterModel: any\n\n  serverQuery = _.debounce((option: GridDataSourceSql | GridDataSourceServer | GridDataSourceAjax, paramFunction: undefined | (() => any), params: any) => {\n    const that = this\n\n    //异步请求数据内容\n    that.ctl.loading = true\n    let needCount = false\n    if (typeof that.rowCount === 'undefined') {\n      //从来没有统计过 rowCount(记录数)\n      needCount = true\n      that.lastFilterModel = _.cloneDeep(params.filterModel)\n    } else {\n      if (!_.isEqual(that.lastFilterModel, params.filterModel)) {\n        //深度对比，如果 filter 模型更改了，需要重新统计 rowCount(记录数)\n        needCount = true\n        that.lastFilterModel = _.cloneDeep(params.filterModel)\n      }\n    }\n\n    // 获取所有参数\n    const queryParams = {\n      ...(typeof paramFunction === 'function' ? paramFunction() : undefined)\n    }\n\n    let ajaxPromise: Promise<Db.Response>;\n    if (option.type === 'SQL') {\n      ajaxPromise = YvanUI.dbs[option.db]\n        .query({\n          params: queryParams,\n          limit: params.endRow - params.startRow,\n          limitOffset: params.startRow,\n          needCount,\n          orderByModel: params.sortModel,\n          filterModel: params.filterModel,\n          sqlId: option.sqlId\n        })\n\n    } else if (option.type === 'Server') {\n      const [serverUrl, method] = _.split(option.method, '@');\n      ajaxPromise = <Promise<Db.Response>>brokerInvoke(YvanUI.getServerPrefix(serverUrl), method, {\n        params: queryParams,\n        limit: params.endRow - params.startRow,\n        limitOffset: params.startRow,\n        needCount,\n        orderByModel: params.sortModel,\n        filterModel: params.filterModel,\n      })\n\n    } else if (option.type === 'Ajax') {\n      const ajax: Ajax.Function = _.get(window, 'YvanUI.ajax');\n      ajaxPromise = <Promise<Db.Response>>ajax({\n        url: option.url,\n        method: 'POST-JSON',\n        data: {\n          params: queryParams,\n          limit: params.endRow - params.startRow,\n          limitOffset: params.startRow,\n          needCount,\n          orderByModel: params.sortModel,\n          filterModel: params.filterModel,\n        }\n      });\n\n    } else {\n      console.error('unSupport dataSource mode:', option);\n      params.failCallback();\n      return;\n    }\n\n    ajaxPromise.then(res => {\n      const { data: resultData, pagination, params: resParams } = res\n      if (needCount) {\n        if (_.has(res, 'totalCount')) {\n          // 兼容老模式\n          that.rowCount = _.get(res, 'totalCount');\n\n        } else {\n          that.rowCount = pagination.total\n        }\n      }\n      params.successCallback(resultData, that.rowCount)\n      /** 如果不分页就在这里设置总条目数量，避免多次刷新分页栏 **/\n      if (!that.ctl.pagination) {\n        that.ctl.gridPage.itemCount = that.rowCount\n      }\n      that.ctl._bindingComplete()\n      if (that.ctl.entityName) {\n        _.set(that.module, that.ctl.entityName + '.selectedRow', that.ctl.getSelectedRow())\n      }\n\n    }).catch(r => {\n      params.failCallback()\n\n    }).finally(() => {\n      this.ctl.loading = false\n    })\n  })\n\n  /**\n   * SQL取值\n   */\n  setSqlMode(option: GridDataSourceSql | GridDataSourceServer | GridDataSourceAjax, paramFunction: undefined | (() => any)) {\n    const that = this\n    this.reload = () => {\n      this.ctl.loading = true\n      that.clearRowCount()\n      if (that.ctl.entityName) {\n        _.set(that.module, that.ctl.entityName + '.selectedRow', undefined)\n      }\n      that.ctl.gridApi.hasDataSource = true\n\n      if (that.ctl.pagination) {\n        /** 分页模式 **/\n        that.ctl.gridPage.getPageData = (currentPage: number, pageSize: number) => {\n          let params: any = {}\n          params.successCallback = (data: [], rowCount: number) => {\n\n            // if (needClearRefresh) {\n            //   that.ctl.setData(data)\n\n            // } else {\n              // 不能直接用 setData, 会造成 filter 被置空\n              // 使用 _transactionUpdate 也有 bug ，如果查询条件被改变，也不会分页回顶端\n              that.ctl._transactionUpdate(data)\n            // }\n            // that.ctl.setData(data)\n            that.ctl.gridPage.itemCount = rowCount\n            that.ctl.gridPage.currentPage = currentPage\n          }\n          params.failCallback = () => {\n            console.error('error')\n          }\n          params.startRow = (currentPage - 1) * pageSize\n          params.endRow = currentPage * pageSize\n          params.filterModel = that.ctl.gridApi.getFilterModel()\n\n          if (that.isFirstAutoLoad && that.ctl.autoLoad === false) {\n            that.rowCount = 0\n            params.successCallback([], that.rowCount)\n            that.ctl.loading = false\n            that.isFirstAutoLoad = false\n\n          } else {\n            that.serverQuery(option, paramFunction, params)\n          }\n        }\n        that.ctl.gridPage.getPageData(1, that.ctl.gridPage.pageSize);\n      } else {\n        /** 无限滚动模式 **/\n        that.ctl.gridApi.setDatasource({\n          getRows: (params: any) => {\n            if (that.isFirstAutoLoad && that.ctl.autoLoad === false) {\n              that.rowCount = 0\n              params.successCallback([], that.rowCount)\n              that.ctl.loading = false\n              that.isFirstAutoLoad = false\n              return\n            }\n\n            that.serverQuery(option, paramFunction, params)\n          }\n        })\n      }\n    }\n\n    this.reload()\n  }\n\n  /**\n   * 自定义函数式取值\n   */\n  setCustomFunctionMode(option: GridDataSourceStaticFunction, paramFunction: undefined | (() => any)) {\n    const that = this\n    this.reload = () => {\n      that.clearRowCount()\n      if (that.ctl.entityName) {\n        _.set(that.module, that.ctl.entityName + '.selectedRow', undefined)\n      }\n      that.ctl.loading = true\n\n      // rowModelType = infinite\n      that.ctl.gridApi.setDatasource({\n        getRows: (params: any) => {\n          that.ctl.loading = true\n\n          if (that.isFirstAutoLoad && that.ctl.autoLoad === false) {\n            that.rowCount = 0\n            params.successCallback([], that.rowCount)\n            that.ctl.loading = false\n            that.isFirstAutoLoad = false\n            return\n          }\n\n          option.call(that.module, that.ctl, {\n            param:\n              typeof paramFunction === 'function' ? paramFunction() : undefined,\n\n            failCallback: () => {\n              params.failCallback()\n            },\n\n            successCallback: (data: any[], dataLength: number | undefined) => {\n              params.successCallback(data, dataLength)\n\n              that.ctl.loading = false\n              that.ctl._bindingComplete()\n              if (that.ctl.entityName) {\n                _.set(\n                  that.module,\n                  that.ctl.entityName + '.selectedRow',\n                  that.ctl.getSelectedRow()\n                )\n              }\n            }\n          })\n        }\n      })\n    }\n\n    this.reload()\n  }\n\n  setCodeArrayMode(option: Array<any>) {\n    const that = this\n    const rowCount = option.length\n    this.reload = () => {\n      this.ctl.loading = true\n      that.clearRowCount()\n      if (that.ctl.entityName) {\n        _.set(that.module, that.ctl.entityName + '.selectedRow', undefined)\n      }\n      that.ctl.gridApi.hasDataSource = true\n\n      if (that.ctl.pagination) {\n        /** 分页模式 **/\n\n        that.ctl.gridPage.getPageData = (\n          currentPage: number,\n          pageSize: number\n        ) => {\n          let d = []\n          const startRow = (currentPage - 1) * pageSize\n          let endRow = currentPage * pageSize\n          endRow = endRow > rowCount ? rowCount : endRow\n\n          for (let i = startRow; i < endRow; i++) {\n            d.push(option[i])\n          }\n          that.ctl.setData(d)\n          that.ctl.gridPage.itemCount = rowCount\n          that.ctl.gridPage.currentPage = currentPage\n        }\n\n        that.ctl.gridPage.getPageData(1, that.ctl.gridPage.pageSize)\n      } else {\n        /** 不分页模式 **/\n        that.ctl.setData(option)\n        that.ctl.gridPage.itemCount = rowCount\n      }\n    }\n\n    this.reload()\n  }\n\n  constructor(ctl: any, option: GridDataSource) {\n    if (isDesignMode()) {\n      return\n    }\n    this.ctl = ctl\n    this.option = option\n    this.module = ctl._webix.$scope\n\n    if (!option) {\n      //没有设值，退出\n      this.reload = undefined\n      return\n    }\n\n    if (_.isArray(option)) {\n      this.setCodeArrayMode(option)\n      return\n    }\n\n    if (typeof option === 'function') {\n      //以 function 方式运行\n      this.setCustomFunctionMode(option, undefined)\n      return\n    }\n\n    // 使 watch 生效\n    _.forOwn(option.params, value => {\n      if (!_.has(value, '$watch')) {\n        return\n      }\n      const watchOption: WatchParam = value\n      this.module.$watch(watchOption.$watch, () => {\n        if (this.reload) {\n          this.reload()\n        }\n      })\n    })\n\n    // params 函数\n    let paramFunction = () => {\n      const result: any = {}\n      _.forOwn(option.params, (value, key) => {\n        if (_.has(value, '$get')) {\n          const getOption: GetParam = value\n          result[key] = _.get(this.module, getOption.$get)\n        } else if (_.has(value, '$watch')) {\n          const watchOption: WatchParam = value\n          result[key] = _.get(this.module, watchOption.$watch)\n        } else {\n          result[key] = value\n        }\n      })\n      return result\n    }\n\n    if (option.type === 'function') {\n      if (typeof option.bind === 'function') {\n        this.setCustomFunctionMode(option.bind, paramFunction)\n      } else {\n        // 取 bind 函数\n        const bindFunction: GridDataSourceStaticFunction = _.get(this.module, option.bind) as GridDataSourceStaticFunction\n        if (!bindFunction) {\n          console.error(`没有找到名称为 ${option.bind} 的方法`)\n          return\n        }\n        this.setCustomFunctionMode(bindFunction, paramFunction)\n      }\n      return\n    }\n\n    if (option.type === 'SQL' || option.type === 'Server' || option.type === 'Ajax') {\n      this.setSqlMode(option, paramFunction)\n      return\n    }\n\n    console.error(`其他方式没有实现`)\n  }\n\n  /**\n   * 释放与 YvGrid 的绑定\n   */\n  destory() {\n    // 解除全部 watch\n    _.each(this.watches, unwatch => {\n      unwatch()\n    })\n    this.reload = undefined\n  }\n\n  /**\n   * 清空 rowCount, 下次重新统计总行数\n   */\n  clearRowCount() {\n    delete this.rowCount\n  }\n\n  updateSupport(): boolean {\n    return false\n  }\n\n  _updateRow(param: any) {\n    throw new Error('not implements')\n  }\n}\n","import { YvEventDispatch } from './YvanEvent'\n\nexport default class CtlGridCellButton {\n  $el: any\n  $btns!: any[]\n  func!: any[]\n\n  init(params: any) {\n    this.$el = document.createElement('div')\n    this._buildHTML.call(this, params)\n  }\n\n  getGui() {\n    return this.$el\n  }\n\n  destroy() {\n    for (let i = 0; i < this.$btns.length; i++) {\n      const btn = this.$btns[i]\n      btn.removeEventListener('click', this.func[i])\n    }\n  }\n\n  refresh(params: any) {\n    this._buildHTML.call(this, params)\n  }\n\n  private _buildHTML(this: any, params: any) {\n    const arr: Array<any> = []\n    const func: Array<any> = []\n\n    const { buttons, rowIndex, data, api, column } = params\n\n    if (typeof buttons === 'object' && buttons.constructor === Array) {\n      _.each(buttons, btn => {\n        if (typeof btn.render === 'function') {\n          const r = btn.render.call(this, rowIndex, data)\n          if (r !== true) {\n            return\n          }\n        } else if (typeof btn.render === 'boolean' && !btn.render) {\n          return\n        }\n\n        arr.push(\n          `<a class=\"yv-grid-button ${btn.cssType}\">` +\n            (typeof btn.iconCls === 'string'\n              ? '<i class=\"' + btn.iconCls + '\"></i>'\n              : '') +\n            btn.text +\n            '</a>'\n        )\n        func.push(btn.onClick)\n      })\n    }\n\n    this.$el.innerHTML =\n      '<div class=\"yv-grid-buttons\">' + arr.join('') + '</div>'\n\n    const $btns = this.$el.querySelectorAll('.yv-grid-button')\n    for (let i = 0; i < $btns.length; i++) {\n      const btn = $btns[i]\n      const fun = func[i]\n      btn.addEventListener('click', () => {\n        const ctl = api.vue\n        const module = api.vue._webix.$scope\n        YvEventDispatch(\n          fun,\n          ctl,\n          { data, rowIndex, colId: column.colId },\n          module\n        )\n      })\n    }\n    this.$btns = $btns\n    this.func = func\n  }\n}\n","export default class CtlGridFilterSet {\n\n    $el: any;\n    $selectAll: any;\n    data!: any[];\n    checkedData!: any[];\n    $container: any;\n    $clear: any;\n    $apply: any;\n    hidePopup: any;\n\n    // The init(params) method is called on the filter once. See below for details on the\n    // parameters.\n    init(params: any) {\n        this.setupDOM(params);\n        const that = this;\n        const data = params.data;\n\n        //======================= 全选按钮 =======================\n        const $selectAll = $(this.$el).find('[ref=\"eSelectAll\"]')\n        $selectAll.on('click', () => {\n            if (this.checkedData.length >= this.data.length) {\n                //全选状态，点击后属于全不选\n                this.checkedData = []\n            } else {\n                //其他情况，都是全选\n                this.checkedData = _.clone(this.data)\n            }\n            this.refreshState()\n        });\n        this.$selectAll = $selectAll;\n\n        //======================= 确定/清空 =======================\n        const $clear = $(this.$el).find('[ref=\"eClearButton\"]');\n        const $apply = $(this.$el).find('[ref=\"eApplyButton\"]');\n        $clear.on('click', () => {\n            //清空就是全选\n            that.checkedData = _.clone(that.data);\n            that.refreshState();\n            params.filterChangedCallback();\n            if (typeof that.hidePopup === 'function') {\n                that.hidePopup()\n            }\n        });\n        $apply.on('click', () => {\n            //确定\n            params.filterChangedCallback();\n            if (typeof that.hidePopup === 'function') {\n                that.hidePopup()\n            }\n        });\n        this.$clear = $clear;\n        this.$apply = $apply;\n\n        //======================= 构建数据 =======================\n        const $container = $(this.$el).find('.ag-virtual-list-container');\n        $container.css('height', (data.length * 20 + 2) + 'px');\n\n        let h = 0;\n        _.each(data, item => {\n            $container.append(\n                '<div class=\"ag-virtual-list-item\" style=\"top: ' + h + 'px;\" RefDataValue=\"' + item.id + '\">' +\n                '  <label class=\"ag-set-filter-item\">\\n' +\n                '    <div class=\"ag-filter-checkbox\"><span class=\"ag-icon ag-icon-checkbox-checked\" unselectable=\"on\"></span></div>\\n' +\n                '    <span class=\"ag-filter-value\">' + item.text + '</span>\\n' +\n                '  </label>' +\n                '</div>'\n            );\n            h += 20\n        });\n\n        //ag-icon-checkbox-indeterminate\n        $container.on('click', '.ag-virtual-list-item', function () {\n            //const $cb = $(this).find('span.ag-icon');\n            const cv = $(this).attr('RefDataValue')\n            const fi = _.find(that.checkedData, item => _.toString(item.id) === cv);\n            if (fi) {\n                //已经勾选了，要删掉他\n                _.remove(that.checkedData, item => _.toString(item.id) === cv)\n\n            } else {\n                //没有勾选，要加上他\n                const af = _.find(that.data, item => _.toString(item.id) === cv);\n                that.checkedData.push({ ...af })\n            }\n\n            //刷新状态\n            that.refreshState()\n        });\n\n        this.data = data;\n        this.checkedData = _.clone(this.data);\n        this.$container = $container\n    }\n\n    refreshState() {\n        const $cb = this.$selectAll.find('span.ag-icon');\n\n        if (this.checkedData.length >= this.data.length) {\n            //已经全选\n            $cb.attr('class', 'ag-icon ag-icon-checkbox-checked');\n            this.$container.find('[RefDataValue]').find('span.ag-icon').attr('class', 'ag-icon ag-icon-checkbox-checked')\n\n        } else if (this.checkedData.length === 0) {\n            //一个没选\n            $cb.attr('class', 'ag-icon ag-icon-checkbox-unchecked');\n            this.$container.find('[RefDataValue]').find('span.ag-icon').attr('class', 'ag-icon ag-icon-checkbox-unchecked')\n\n        } else {\n            //其他情况\n            $cb.attr('class', 'ag-icon ag-icon-checkbox-indeterminate');\n\n            const that = this;\n            this.$container.find('[RefDataValue]').each(function (this: any) {\n                const $dom = $(this);\n                const v = $dom.attr('RefDataValue');\n                const fi = _.find(that.checkedData, item => item.id === v);\n                if (fi) {\n                    //有属性，加上钩\n                    $dom.find('span.ag-icon').attr('class', 'ag-icon ag-icon-checkbox-checked')\n\n                } else {\n                    //没属性，不打勾\n                    $dom.find('span.ag-icon').attr('class', 'ag-icon ag-icon-checkbox-unchecked')\n                }\n            })\n        }\n    }\n\n    // Returns the GUI for this filter. The GUI can be a) a string of html or b) a DOM element or\n    // node.\n    getGui() {\n        return this.$el\n    }\n\n    // Return true if the filter is active. If active than 1) the grid will show the filter icon in the column\n    // header and 2) the filter will be included in the filtering of the data.\n    isFilterActive() {\n        //如果不是全选，就是没激活\n        return (this.checkedData.length < this.data.length)\n    }\n\n    // The grid will ask each active filter, in turn, whether each row in the grid passes. If any\n    // filter fails, then the row will be excluded from the final set. A params object is supplied\n    // with attributes node (the rowNode the grid creates that wraps the data) and data (the data\n    // object that you provided to the grid for that row).\n    doesFilterPass() {\n        // 服务器已经设置条件，浏览器不进行实际比对\n        return true\n    }\n\n    // Gets the filter state. If filter is not active, then should return null/undefined.\n    // The grid calls getModel() on all active filters when gridApi.getFilterModel() is called.\n    getModel() {\n        if (this.checkedData.length >= this.data.length) {\n            //全选，不需要带任何条件\n            return\n        }\n        return {\n            filterType: 'set',\n            filter: this.checkedData,\n        }\n    }\n\n    // Restores the filter state. Called by the grid after gridApi.setFilterModel(model) is called.\n    // The grid will pass undefined/null to clear the filter.\n    setModel(model: any) {\n        if (!model) {\n            //清空筛选\n            this.checkedData = _.clone(this.data)\n        } else {\n            //设置筛选条件\n        }\n    }\n\n    // Gets called every time the popup is shown, after the gui returned in\n    // getGui is attached to the DOM. If the filter popup is closed and reopened, this method is\n    // called each time the filter is shown. This is useful for any logic that requires attachment\n    // before executing, such as putting focus on a particular DOM element. The params has one\n    // callback method 'hidePopup', which you can call at any later point to hide the popup - good\n    // if you have an 'Apply' button and you want to hide the popup after it is pressed.\n    afterGuiAttached(param: any) {\n        this.hidePopup = param.hidePopup;\n        this.refreshState()\n    }\n\n    // Gets called when the Column is destroyed. If your custom filter needs to do\n    // any resource cleaning up, do it here. A filter is NOT destroyed when it is\n    // made 'not visible', as the gui is kept to be shown again if the user selects\n    // that filter again. The filter is destroyed when the column it is associated with is\n    // destroyed, either new columns are set into the grid, or the grid itself is destroyed.\n    destroy() {\n        this.$selectAll.off();\n        this.$container.off();\n        this.$clear.off();\n        this.$apply.off()\n    }\n\n    // If floating filters are turned on for the grid, but you have no floating filter\n    // configured for this column, then the grid will check for this method. If this\n    // method exists, then the grid will provide a read only floating filter for you\n    // and display the results of this method. For example, if your filter is a simple\n    // filter with one string input value, you could just return the simple string\n    // value here.\n    getModelAsString() {\n        console.log('getModelAsString')\n    }\n\n    setupDOM(params: any) {\n\n        this.$el = document.createElement('div');\n        const html =\n            '<div class=\"ag-filter-body-wrapper\">\\n' +\n            '  <div>\\n' +\n            '    <div class=\"ag-filter-header-container\" role=\"presentation\" style=\"width: 200px;\">\\n' +\n            '      <label ref=\"eSelectAll\" class=\"ag-set-filter-item\">\\n' +\n            '        <div class=\"ag-filter-checkbox\">\\n' +\n            '          <span class=\"ag-icon ag-icon-checkbox-checked\" unselectable=\"on\"></span>\\n' +\n            '        </div>\\n' +\n            '        <span class=\"ag-filter-value\">全选</span>\\n' +\n            '      </label>\\n' +\n            '    </div>\\n' +\n            '    <div class=\"ag-set-filter-list\" role=\"presentation\">\\n' +\n            '      <div class=\"ag-virtual-list-viewport\">\\n' +\n            '\\n' +\n            '\\n' +\n            '        <div class=\"ag-virtual-list-container\" style=\"height: 180px;\">' +\n            '        </div>\\n' +\n            '\\n' +\n            '\\n' +\n            '      </div>\\n' +\n            '    </div>\\n' +\n            '  </div>\\n' +\n            '</div>\\n' +\n            '<div class=\"ag-filter-apply-panel\" ref=\"eButtonsPanel\">\\n' +\n            '  <button type=\"button\" ref=\"eClearButton\">清空</button>\\n' +\n            '  <button type=\"button\" ref=\"eApplyButton\">确定</button>\\n' +\n            '</div>';\n        this.$el.innerHTML = html\n    }\n}\n","export default class CtlGridEditor {\n    data: any;\n    colDef: any;\n    column: any;\n    focusAfterAttached: any;\n    field: any;\n    valid: any;\n    origin: any;\n    vue: any;\n\n    // gets called once after the editor is created\n    init(params: any): void {\n        this.data = params.data;\n        this.colDef = params.colDef;\n        this.column = params.column;\n        const {type, data, colDef, column, cellStartedEdit, value, editParams} = params;\n\n        _.assign(this, {\n            type, value, data, colDef, column, editParams\n        });\n\n        this.focusAfterAttached = cellStartedEdit;\n\n        this.field = colDef.field;\n        this.valid = params.valid;\n        this.origin = value;\n        this.vue = params.api.vue;\n    }\n\n    // Return the DOM element of your editor, this is what the grid puts into the DOM\n    getGui() {\n    }\n\n    // Gets called once after GUI is attached to DOM.\n    // Useful if you want to focus or highlight a component\n    // (this is not possible when the element is not attached)\n    afterGuiAttached() {\n    }\n\n    // Should return the final value to the grid, the result of the editing\n    getValue() {\n    }\n\n    setValue(newValue: any) {\n        console.error('不支持 setValue:' + newValue)\n    }\n\n    // Gets called once by grid after editing is finished\n    // if your editor needs to do any cleanup, do it here\n    destroy() {\n        if (typeof this.valid === 'undefined') {\n            return\n        }\n        const validMsg = this.valid(this.getValue(), this.vue.getEditRow());\n        if (validMsg) {\n            this.vue.currentEditValidMsg[this.field] = validMsg\n\n        } else {\n            this.vue.currentEditValidMsg[this.field] = undefined\n        }\n    }\n\n    // Gets called once after initialised.\n    // If you return true, the editor will appear in a popup\n    isPopup() {\n        return false\n    }\n\n    // Gets called once before editing starts, to give editor a chance to\n    // cancel the editing before it even starts.\n    isCancelBeforeStart() {\n        //如果这里返回 true, 就会取消编辑\n    }\n\n    // Gets called once when editing is finished (eg if enter is pressed).\n    // If you return true, then the result of the edit will be ignored.\n    isCancelAfterEnd() {\n        //这里返回 true, 就会取消该单元格编辑，还原其内容\n    }\n\n    // If doing full row edit, then gets called when tabbing into the cell.\n    focusIn() {\n    }\n\n    // If doing full row edit, then gets called when tabbing out of the cell.\n    focusOut() {\n    }\n}\n","import CtlGridEditor from './CtlGridEditor'\n\nvar isInput = false\n\nexport default class CtlGridEditorText extends CtlGridEditor {\n  isPinned: any\n  $el: any\n  $input: any\n  value: any\n  editParams: any\n  leaveReason: any\n  type: any\n\n  init(params: any) {\n    super.init(params)\n\n    if (params.node.rowPinned) {\n      this.isPinned = true\n    }\n    this.$el = document.createElement('div')\n    this.$el.classList.add('ag-input-wrapper')\n    this.$el.setAttribute('role', 'presentation')\n\n    this.$el.innerHTML =\n      '<input class=\"ag-cell-edit-input\" type=\"text\" autocomplete=\"off\">'\n\n    this.$input = this.$el.querySelectorAll('input')[0]\n    this.$input.value = _.toString(params.value)\n\n    this.$input.addEventListener('keydown', this._onKeyDown.bind(this))\n    this.$input.addEventListener('input', this._onInput.bind(this))\n    this.$input.addEventListener('change', this._onChange.bind(this))\n    this.$input.addEventListener(\n      'compositionstart',\n      this._onCompositionstart.bind(this)\n    )\n    this.$input.addEventListener(\n      'compositionend',\n      this._onCompositionend.bind(this)\n    )\n  }\n\n  _onCompositionstart() {\n    isInput = true\n  }\n\n  _onCompositionend(e: any) {\n    isInput = false\n    this._dealWithString(e)\n  }\n\n  _onKeyDown(e: any) {\n    if (e.code === 'Tab' || e.code === 'Enter') {\n      // Tab键/回车键, 完全拦截，跑下一个焦点控件\n      e.stopPropagation()\n      e.preventDefault()\n      this.value = e.target.value\n\n      if (typeof this.editParams.onValidate === 'function') {\n        const r = this.editParams.onValidate(this.value)\n        if (r) {\n          //有校验错误，不让跳转\n          return\n        }\n      }\n\n      //写入离开原因的 code 编码\n      this.leaveReason = e.code\n      //这里会触发 this.getValue() 方法\n      this.vue.gridApi.stopEditing()\n    }\n  }\n\n  _onInput(e: any) {\n    if (isInput) {\n      return\n    }\n    this._dealWithString(e)\n  }\n\n  _dealWithString(e: any) {\n    let value = e.target.value\n    if (this.type === 'number') {\n      if (this.editParams.precision > 0) {\n        value = value.replace(/[^\\d.-]/g, '') //清除\"数字\"和\".\"以外的字符\n        if (value.length > 1 && value.indexOf('.') > 1) {\n          let t\n          while (1) {\n            t = value\n            value = value.replace(/^0/g, '')\n            if (t.length === value.length) {\n              break\n            }\n          }\n          //value = value.replace(/^0/g, '') //验证第一个字符不是0.\n        }\n        value = value.replace(/^\\./g, '') //验证第一个字符是数字而不是.\n        value = value.replace(/\\.{2,}/g, '.') //只保留第一个. 清除多余的.\n        value = value\n          .replace('.', '$#$')\n          .replace(/\\./g, '')\n          .replace('$#$', '.') //只允许输入一个小数点\n\n        const r = eval(\n          '/^(\\\\-)*(\\\\d+)\\\\.(\\\\d{0,' + this.editParams.precision + '}).*$/'\n        )\n        value = value.replace(r, '$1$2.$3') //只能输入固定位数的小数\n      } else {\n        value = value.replace(/[^\\d-]/g, '') //清除\"数字\"和\"-\"以外的字符\n        if (value.length > 1) {\n          value = value.replace(/^0/g, '') //验证第一个字符不是0.\n        }\n        if (value.startsWith('-')) {\n          value = '-' + value.substr(1).replace(/[^\\d]/g, '')\n        } else {\n          value = value.replace(/[^\\d]/g, '')\n        }\n      }\n    }\n\n    e.target.value = value\n    if (this.value === value) {\n      //完全相等，不用通知更改\n      return\n    }\n    this.value = value\n\n    if (e.detail !== 'custom') {\n      if (typeof this.editParams.onInput === 'function') {\n        const r = this.editParams.onInput(this.value, e)\n        if (typeof r !== 'undefined') {\n          this.value = r\n          e.target.value = r\n        }\n\n        if (typeof this.editParams.onValidate === 'function') {\n          this.editParams.onValidate(value)\n        }\n      }\n    }\n  }\n\n  _onChange(e: any) {\n    this.value = e.target.value\n\n    if (typeof this.editParams.onChange === 'function') {\n      this.editParams.onChange(this.value, e)\n    }\n  }\n\n  destroy() {\n    super.destroy()\n    this.$input.removeEventListener('keydown', this._onKeyDown.bind(this))\n    this.$input.removeEventListener('input', this._onInput.bind(this))\n    this.$input.removeEventListener('change', this._onChange.bind(this))\n    this.$input.removeEventListener(\n      'compositionstart',\n      this._onCompositionstart.bind(this)\n    )\n    this.$input.removeEventListener(\n      'compositionend',\n      this._onCompositionend.bind(this)\n    )\n  }\n\n  getGui() {\n    return this.$el\n  }\n\n  afterGuiAttached() {\n    super.afterGuiAttached()\n    this.$input.dispatchEvent(new CustomEvent('input', { detail: 'custom' }))\n\n    if (this.focusAfterAttached) {\n      this.$input.focus()\n    }\n  }\n\n  getValue() {\n    if (typeof this.leaveReason === 'undefined') {\n      //不是按导航键移动的\n      if (typeof this.editParams.onValidate === 'function') {\n        const r = this.editParams.onValidate(this.value)\n        if (r) {\n          //有校验错误，还原内容\n          return this.origin\n        }\n      }\n    }\n\n    if (typeof this.editParams.onCommit === 'function') {\n      this.editParams.onCommit({\n        data: this.data,\n        colDef: this.colDef,\n        column: this.column,\n        newValue: this.value,\n        isPinned: this.isPinned,\n        vue: this.vue,\n        leaveReason: this.leaveReason\n      })\n    }\n    return this.value\n  }\n\n  focusIn() {\n    super.focusIn()\n    this.$input.focus()\n    this.$input.select()\n  }\n\n  focusOut() {\n    super.focusOut()\n  }\n}\n","import CtlGridEditor from './CtlGridEditor'\n\nexport default class CtlGridEditorCombo extends CtlGridEditor {\n  isPinned: any\n  options: any\n  $el: any\n\n  init(params: any) {\n    super.init(params)\n    this.options = params.options\n    if (params.node.rowPinned) {\n      this.isPinned = true\n    }\n\n    const $dom = $('<input class=\"tmp-combo\" />')\n\n    this.$el = $dom[0]\n    const that = this\n  }\n\n  getGui() {\n    return this.$el\n  }\n\n  afterGuiAttached() {\n    // YvGridEditor.afterGuiAttached.apply(this, arguments)\n    // this.vv.focus()\n    //setTimeout(() => {\n    //    this.vv.open()\n    //    this.vv.$nextTick(() => {\n    //        debugger\n    //    })\n    //}, 1000)\n  }\n\n  getValue() {\n    // if (typeof this.leaveReason === 'undefined') {\n    //     //不是按导航键移动的, 需要触发校验\n    //     if (typeof this.editParams.onValidate === 'function') {\n    //         const r = this.editParams.onValidate(value)\n    //         if (r) {\n    //             //有校验错误，还原内容\n    //             return this.origin\n    //         }\n    //     }\n    // }\n    //\n    // //校验通过，调用 commit 并返回选定的新值\n    // if (typeof this.editParams.onCommit === 'function') {\n    //     this.editParams.onCommit({\n    //         data: this.data,\n    //         colDef: this.colDef,\n    //         column: this.column,\n    //         newValue: this.value,\n    //         leaveReason: this.leaveReason,\n    //     })\n    // }\n    // return this.value\n  }\n\n  destroy() {\n    super.destroy()\n    // this.vv.$destroy()\n  }\n\n  focusIn() {\n    super.focusIn()\n    // this.vv.focus()\n  }\n\n  focusOut() {\n    super.focusOut()\n  }\n}\n","import * as YvanUI from './YvanUIExtend'\nimport CtlGridLocale from './CtlGridLocale'\nimport { CtlGridPage } from './CtlGridPage'\nimport agGrid from 'ag-grid'\nimport CtlGridIdRender from './CtlGridIdRender'\nimport {\n  YvGridColumnEditProp,\n  YvGridColumnProp,\n  YvGridProp\n} from './CtlGridDefault'\nimport CtlGridCellCheckbox from './CtlGridCellCheckbox'\nimport CtlGridHeadCheckbox from './CtlGridHeadCheckbox'\nimport { CtlBase } from './CtlBase'\nimport { parseYvanPropChangeVJson } from './CtlUtils'\nimport { GridDataSource } from './YvanDataSourceGrid'\nimport { YvEvent, YvEventDispatch } from './YvanEvent'\nimport { YvanDataSourceGrid } from './YvanDataSourceGridImp'\nimport CtlGridCellButton from './CtlGridCellButton'\nimport CtlGridFilterSet from './CtlGridFilterSet'\nimport CtlGridEditorText from './CtlGridEditorText'\nimport CtlGridEditorCombo from './CtlGridEditorCombo'\nimport webix from 'webix'\n\n/** 在CtlGridPage.ts 里面有关于点击分页按钮时候设置 GridRefreshMode **/\nexport enum GridRefreshMode {\n  refreshRows,\n  refreshWithFilter,\n  refreshAndClearFilter\n}\n\n/**\n * 表格中的行按钮被点击后触发的事件参数\n */\nexport interface CtlGridRowButtonClickArgs {\n  /**\n   * 行数据\n   */\n  data: any\n\n  /**\n   * 行序号\n   */\n  rowIndex: number\n\n  /**\n   * 列名称\n   */\n  colId: string\n}\n\n/**\n * 扩展 grid 组件\n */\nwebix.protoUI(\n  {\n    name: 'grid',\n    $init: function (config: any) {\n      this._domid = webix.uid();\n      this.$view.innerHTML = `<div id='${this._domid}' role=\"yvGrid\" class=\"ag-theme-blue\"></div>`\n      _.extend(this.config, config)\n      if (config.on && typeof config.on.onMyRender === 'function') {\n        config.on.onMyRender.call(this)\n      }\n    }\n  },\n  webix.ui.view\n)\n\nexport class CtlGrid extends CtlBase<CtlGrid> {\n  static create(module: any, vjson: any): CtlGrid {\n    const that = new CtlGrid(_.cloneDeep(vjson))\n    that._module = module\n\n    if (vjson.hasOwnProperty('debugger')) {\n      debugger\n    }\n\n    // 提取基础属性 onRender / ctlName / entityName 等等\n    const yvanProp = parseYvanPropChangeVJson(vjson, [])\n\n    // 将 yvanProp 合并至当前 CtlBase 对象\n    _.assign(that, yvanProp)\n\n    // 删除 vjson 所有数据, 替换为 template 语法\n    _.forOwn(vjson, (value, key) => {\n      delete vjson[key]\n    })\n    _.merge(vjson, {\n      view: 'grid',\n      // template: `<div role=\"yvGrid\" class=\"ag-theme-blue\"></div>`,\n      on: {\n        onMyRender: function (this: any) {\n          _.defer(() => {\n            that.attachHandle(this, { ...vjson, ...yvanProp })\n            that._resetGrid()\n          });\n        },\n        onDestruct(this: any) {\n          if (that.gridApi) {\n            that.gridApi.destroy()\n            that.gridApi = undefined\n          }\n          that.removeHandle()\n        }\n      }\n    })\n    if (that.vjson.id) {\n      vjson.id = that.vjson.id\n    }\n    return that\n  }\n\n  /*============================ 公共属性部分 ============================*/\n  gridApi: any\n  columnApi: any\n  refreshMode: GridRefreshMode = GridRefreshMode.refreshRows;\n  private paginationDefaultSelectRow: number|undefined;\n  get webix() {\n    return this._webix\n  }\n\n  /**\n   * 设置数据源\n   */\n  set dataSource(nv: GridDataSource) {\n    this.vjson.dataSource = nv\n    // if (this._module.loadFinished) {\n    //   throw new Error('Grid 不允许动态设置数据源')\n    // }\n  }\n\n  /**\n   * 获取数据源\n   */\n  get dataSource(): GridDataSource {\n    return this.vjson.dataSource\n  }\n\n  /**\n   * 初始化时的数据\n   */\n  readonly data?: any[]\n\n  /**\n   * 是否允许编辑\n   */\n  readonly editable!: boolean\n\n  /**\n   * 允许勾选\n   */\n  readonly checkbox!: boolean\n\n  /**\n   * 单击后立刻进入编辑\n   */\n  readonly editSingleClick!: boolean\n\n  /**\n   * 允许添加\n   */\n  readonly allowNewRow!: boolean\n\n  /**\n   * 允许过滤\n   */\n  readonly filterable!: boolean\n\n  /**\n   * 显示序号\n   */\n  readonly showRowNumber!: boolean\n\n  /**\n   * 自动调整列宽\n   */\n  readonly autoSizeColumns!: boolean\n\n  /**\n   * 单元格选中模式\n   */\n  readonly allowCellSelection!: boolean\n\n  /**\n   * 行选中模式\n   */\n  readonly allowRowSelection!: boolean\n\n  /**\n   * ID字段\n   */\n  readonly idField!: string\n\n  /**\n   * 值分隔符\n   */\n  readonly valueSep!: string\n\n  /**\n   * 保存时机(换行时/编辑完后)\n   */\n  readonly saveOn!: 'editFinish' | 'rowChanged'\n\n  /**\n   * 新添加行时，初始化的数据\n   */\n  readonly newRowData!: any\n\n  /**\n   * 失去焦点后立刻结束编辑\n   */\n  readonly stopEditingWhenGridLosesFocus!: boolean\n\n  /**\n   * 列定义\n   */\n  readonly columns!: any[] | undefined\n\n  /**\n   * 二纬表头\n   */\n  readonly columnGroup!: any[] | undefined\n\n  /**\n   * 是否自动读取数据\n   */\n  readonly autoLoad: boolean = true\n\n  /**\n   * 是否分页\n   */\n  readonly pagination: boolean = false\n\n  /**\n   * 分页大小\n   */\n  readonly pageSize: number = 100\n\n  public gridPage!: CtlGridPage\n\n  /**\n   * 行被选中后触发\n   */\n  onRowSelect?: YvEvent<CtlGrid, any>\n\n  /**\n   * 行被双击后触发\n   */\n  onRowDblClick?: YvEvent<CtlGrid, any>\n\n  /**\n   * 勾选项改变后触发\n   */\n  onCheckedChange?: YvEvent<CtlGrid, any>\n\n  /**\n   * 数据绑定完毕后触发\n   */\n  onBindingComplete?: YvEvent<CtlGrid, any>\n\n  /**\n   * 焦点单元格发生变化后触发\n   */\n  onCellFocused?: YvEvent<CtlGrid, any>\n\n  /**\n   * 单元格被点击后触发\n   */\n  onCellClicked?: YvEvent<CtlGrid, any>\n\n  /**\n   * 第一行有效数据被渲染后触发\n   */\n  onFirstDataRendered?: YvEvent<CtlGrid, any>\n\n  /**\n   * 按下键后触发\n   */\n  onKeyDown?: YvEvent<CtlGrid, any>\n\n  /**\n   * 获取被勾选的行ID集合\n   */\n  checkedIds: any[] = []\n\n  /**\n   * 选择一个指定行\n   * @param condition 可以是 key(主键), 也可以是 function 条件, 匹配到符合 condition 的第一条记录\n   */\n  selectRow(condition: GridSelectCondition) {\n    const node: any = this._findNode(condition)\n    if (node) {\n      this.gridApi.setFocusedCell(node.rowIndex, '__ID__')\n      node.setSelected(true)\n      return true\n    }\n    return false\n  }\n\n  /**\n   * 闪烁指定行\n   * @param condition 可以是 key(主键), 也可以是 function 条件, 匹配到符合 condition 的第一条记录\n   */\n  flashRow(condition: any) {\n    const node = this._findNode(condition)\n    if (node) {\n      this.gridApi.flashCells({ rowNodes: [node] })\n      return true\n    }\n    return false\n  }\n\n  /**\n   * 闪烁指定单元格\n   * @param cols 列数组\n   * @param condition 可以是 key(主键), 也可以是 function 条件, 匹配到符合 condition 的第一条记录\n   */\n  flashCell(cols: any, condition: any) {\n    const node = this._findNode(condition)\n    if (node) {\n      this.gridApi.flashCells({ columns: cols, rowNodes: [node] })\n      return true\n    }\n    return false\n  }\n\n\n  /**\n   * 无感知刷新\n   */\n  _transactionUpdate(targetDataList: any[]) {\n\n    if (this.refreshMode === GridRefreshMode.refreshWithFilter || this.refreshMode === GridRefreshMode.refreshAndClearFilter) {\n\n      /** 更改当前的刷新模式， 避免重复刷新 **/\n      this.refreshMode = GridRefreshMode.refreshRows\n      this.setData(targetDataList);\n      if (this.dataSourceBind) {\n        this.gridApi.setFilterModel(this.dataSourceBind.lastFilterModel)\n      }\n    } else {\n      /** 更改当前的刷新模式， 避免重复刷新 **/\n      this.refreshMode = GridRefreshMode.refreshRows\n      const transaction: any = {\n        add: [],\n        remove: [],\n        update: []\n      }\n      let i = 0\n      this.gridApi.forEachNode((node: any) => {\n        if (i === targetDataList.length) {\n          //已经越位\n          transaction.remove.push(node.data)\n        } else {\n          const newData = targetDataList[i++]\n          node.setData(newData)\n          transaction.update.push(node.data)\n        }\n      })\n      for (; i < targetDataList.length; i++) {\n        transaction.add.push(targetDataList[i])\n      }\n      this.gridApi.updateRowData(transaction)\n    }\n    if (this.paginationDefaultSelectRow && this.paginationDefaultSelectRow >=0 && targetDataList && targetDataList.length > 0) {\n      this.selectRow(node => node.rowIndex === this.paginationDefaultSelectRow);\n    }\n  }\n\n  /**\n   * 获取全部数据\n   */\n  getData(): any[] | undefined {\n    const result: any[] = []\n    this.gridApi.forEachNode((node: any) => {\n      result.push(node.data)\n    })\n    return result\n  }\n\n  /**\n   * 为表格设置数据\n   * 注意，调用此方法，必须在初始化时，给一个空的 data: [] 属性\n   * 确保表格 rowModelType:clientSide 模式\n   */\n  setData(nv: any[] | undefined) {\n    this.gridApi.setRowData(nv)\n  }\n\n  /**\n   * 无感刷新\n   * 清空缓存，从后台重新拉取数据，表格上临时修改的内容都会被清空\n   *\n   * option:\n   *   clearFilter=true 是否清空筛选\n   */\n  // reload(option?: any) {\n  //   this.loading = true\n  //\n  //   //无感刷新之前，清空所有状态\n  //   this._clearCache()\n  //\n  //   //需要重新请求 rowCount(总数据行)\n  //   if (this.dataSourceBind) {\n  //     this.dataSourceBind.clearRowCount()\n  //   }\n  //\n  //   if (this.entityName) {\n  //     _.set(this.getModule(), this.entityName + '.selectedRow', undefined)\n  //   }\n  //\n  //   /** 有clearFilter 参数的时候 一定刷新数据 **/\n  //   if (option && option.clearFilter === true) {\n  //     this.pageAbleDataRefreshMode = \"refreshAndReset\"\n  //     this.gridApi.setFilterModel(null)\n  //     if (this.dataSourceBind) {\n  //       /** 表头筛选数据没有变化也要重新加载数据 **/\n  //       if (_.isEqual(this.gridApi.getFilterModel(), this.dataSourceBind.lastFilterModel)) {\n  //         this._filterChanged();\n  //       }\n  //     }\n  //   } else {\n  //     if (this.pagination) {\n  //       this.pageAbleDataRefreshMode = \"refreshWithFilter\"\n  //       this.gridPage.refreshGrid()\n  //     } else {\n  //       this.pageAbleDataRefreshMode = \"refreshRows\"\n  //       this.gridApi.refreshInfiniteCache()\n  //     }\n  //   }\n  // }\n\n  /**\n   * 无感刷新\n   * 清空缓存，从后台重新拉取数据，表格上临时修改的内容都会被清空\n   *\n   * option:\n   *   clearFilter=true 是否清空筛选\n   */\n  reload(refreshMode: GridRefreshMode = GridRefreshMode.refreshRows) {\n    this.loading = true\n    this.refreshMode = refreshMode\n    //无感刷新之前，清空所有状态\n    this._clearCache()\n\n    //需要重新请求 rowCount(总数据行)\n    if (this.dataSourceBind) {\n      this.dataSourceBind.clearRowCount()\n    }\n\n    if (this.entityName) {\n      _.set(this.getModule(), this.entityName + '.selectedRow', undefined)\n    }\n\n    /** 有clearFilter 参数的时候 一定刷新数据 **/\n    if (refreshMode === GridRefreshMode.refreshAndClearFilter) {\n      this.gridApi.setFilterModel(null)\n      if (this.dataSourceBind) {\n        /** 表头筛选数据没有变化也要重新加载数据 **/\n        if (_.isEqual(this.gridApi.getFilterModel(), this.dataSourceBind.lastFilterModel)) {\n          this._filterChanged();\n        }\n      }\n    } else {\n      if (this.pagination) {\n        this.gridPage.refreshGrid()\n      } else {\n        this.gridApi.refreshInfiniteCache()\n      }\n    }\n  }\n\n  /**\n   * 获取被选中的行主键\n   */\n  getSelectedId() {\n    const row = this.getSelectedRow()\n    if (row) {\n      return this._getIdByRow(row)\n    }\n  }\n\n  /**\n   * 设置勾选的数据行集合\n   */\n  setCheckedIds(ids: Array<any>) {\n    // 清空所有元素\n    this.checkedIds = ids;\n\n    // 刷新勾选单元格\n    this.gridApi.refreshCells({\n      columns: ['__CB__'],\n      force: true\n    })\n  }\n\n  /**\n   * 获取被勾选的所有行\n   */\n  getCheckedRows() {\n    const selected: any[] = []\n    this._findNode((node: any) => {\n      if (_.indexOf(this.checkedIds, this._getIdByRow(node.data)) >= 0) {\n        selected.push(node.data)\n      }\n      return false\n    })\n    return selected\n  }\n\n  /**\n   * 获取被选中的行数据\n   */\n  getSelectedRow() {\n    const rows = this.getSelectedRows()\n    return rows.length > 0 ? rows[0] : undefined\n  }\n\n  /**\n   * 获取被选中的行数据(多选情况下回返回多行数据)\n   */\n  getSelectedRows() {\n    // 调用原生 getSelectedRows 方法有 bug\n    // return this.gridApi.getSelectedRows();\n    const selected: any[] = []\n    this._findNode((node: any) => {\n      if (node.selected) {\n        selected.push(node.data)\n      }\n      return false\n    })\n    return selected\n  }\n\n  /**\n   * 显示正在读取的状态\n   */\n  set loading(newValue: boolean) {\n    if (!this.isGridReadReady) {\n      return\n    }\n    if (newValue) {\n      // 盖着\n      this.gridApi.showLoadingOverlay()\n      $($(this._webix.$view).find('.ag-paging-panel')[0]).append(`<div class=\"maskBox\"></div>`);\n    } else {\n      // 放开\n      $(this._webix.$view).find('.maskBox').remove()\n      this.gridApi.hideOverlay()\n    }\n  }\n\n  paginationSetPageSize(size: number) {\n    this.gridApi.paginationSetPageSize(size)\n  }\n\n  /** 设置行号, 兼容分页 **/\n  private setRowId(p: any) {\n    return CtlGridIdRender(p, this)\n  }\n\n  /*============================ 私有属性部分 ============================*/\n  private isGridReadReady: boolean = false\n  private dataSourceBind?: YvanDataSourceGrid = undefined\n\n  private _gridOptions(): any {\n    _.assign(this, {\n      ..._.clone(YvGridProp),\n      ...this.vjson\n    })\n    const resultCols = []\n\n    //显示序号列\n    if (this.showRowNumber) {\n      resultCols.push({\n        field: '__ID__',\n        headerName: CtlGridLocale.rownumber,\n        width: 52,\n        //minWidth: 52,\n        maxWidth: 160,\n        pinned: 'left',\n        resizable: true,\n        sortable: false,\n        cellRenderer: 'CtlGridIdRender'\n      })\n    }\n\n    //显示勾选框\n    if (this.checkbox) {\n      resultCols.push({\n        field: '__CB__',\n        headerName: '',\n        width: 40,\n        minWidth: 40,\n        maxWidth: 40,\n        pinned: 'left',\n        resizable: false,\n        sortable: false,\n        cellRenderer: 'CtlGridCellCheckbox',\n        headerComponent: 'CtlGridHeadCheckbox',\n        cellRendererParams: {\n          isCheckedIds: true\n        }\n      })\n    }\n\n    //添加自定义列\n    this._gridCols(resultCols)\n\n    let columnDefs = resultCols\n    if (!this.columnGroup || _.size(this.columnGroup) <= 0) {\n      //没有多级表头\n      columnDefs = resultCols\n    } else {\n      //二级表头\n      columnDefs = []\n      let j = 0\n      let currentGroup: any\n      let currentGroupSpan = -1\n\n      for (let i = 0; i < resultCols.length; i++) {\n        const { from, title, span, width } = this.columnGroup[j]\n        const f = resultCols[i]\n        if (!this.columnGroup[j]) {\n          columnDefs.push(f)\n        }\n\n        if (currentGroupSpan > 0) {\n          currentGroup.children.push(f)\n          currentGroupSpan--\n          if (currentGroupSpan <= 0) {\n            j++\n          }\n        } else if (f.field === from) {\n          currentGroup = {\n            width: width,\n            headerName: title,\n            children: [f]\n          }\n          currentGroupSpan = span - 1\n          columnDefs.push(currentGroup)\n        } else {\n          columnDefs.push(f)\n        }\n      }\n    }\n\n    const gridOptions = {\n      headerHeight: 35,\n      rowHeight: 33,\n      suppressRowHoverHighlight: true,\n      columnDefs,\n      animateRows: false,\n      suppressCellSelection: !this.allowCellSelection,\n      suppressRowClickSelection: !this.allowRowSelection,\n      suppressColumnMoveAnimation: true,\n      pagination: this.pagination,\n      paginationPageSize: this.pageSize,\n      localeText: CtlGridLocale,\n      rowModelType: 'infinite',\n      infiniteInitialRowCount: 200,\n      //maxConcurrentDatasourceRequests: 2,\n      maxBlocksInCache: 5,\n      //cacheOverflowSize\n      rowSelection: 'single',\n      enableBrowserTooltips: true,\n      //enableCellChangeFlash: true,\n      singleClickEdit: this.editSingleClick,\n      floatingFilter: false,\n      stopEditingWhenGridLosesFocus: this.stopEditingWhenGridLosesFocus,\n\n      onFirstDataRendered: this._firstDataRendered.bind(this),\n\n      onGridReady: this._gridReady.bind(this),\n      tabToNextCell: this._tabToNextCell.bind(this),\n      navigateToNextCell: this._navigateToNextCell.bind(this),\n      onCellKeyDown: this._cellKeyDown.bind(this),\n      onRowDoubleClicked: this._rowDoubleClicked.bind(this),\n      onCellEditingStarted: this._cellEditingStarted.bind(this),\n      onCellEditingStopped: this._cellEditingStopped.bind(this),\n      onRowSelected: this._rowSelected.bind(this),\n      onModelUpdated: this._modelUpdated.bind(this),\n      onCellFocused: this._cellFocused.bind(this),\n      onCellClicked: this._cellClicked.bind(this),\n      onFilterChanged: this._filterChanged.bind(this),\n      enterMovesDown: false,\n      enterMovesDownAfterEdit: false,\n\n      components: {\n        CtlGridCellButton: CtlGridCellButton,\n        CtlGridCellCheckbox: CtlGridCellCheckbox,\n        CtlGridHeadCheckbox: CtlGridHeadCheckbox,\n        CtlGridEditorText: CtlGridEditorText,\n        CtlGridEditorCombo: CtlGridEditorCombo,\n        // // YvGridEditorDate: YvGridEditorDate,\n        CtlGridFilterSet: CtlGridFilterSet,\n        CtlGridIdRender: this.setRowId.bind(this) //CtlGridIdRender.bind(this)\n      }\n    }\n\n    if (_.isArray(this.dataSource)) {\n      //有数据，按 client 模式加载数据\n      _.assign(gridOptions, {\n        rowModelType: 'clientSide',\n        rowData: this.data,\n        data: []\n      })\n    }\n\n    if (this.pagination) {\n      _.assign(gridOptions, {\n        rowModelType: 'clientSide',\n        rowData: [],\n        data: []\n      })\n    }\n\n    return gridOptions\n  }\n\n  private _filterChanged() {\n    if (this.dataSourceBind) {\n      if ((!_.isEqual(this.gridApi.getFilterModel(), this.dataSourceBind.lastFilterModel)) || this.refreshMode == GridRefreshMode.refreshAndClearFilter) {\n        const reload = _.get(this.dataSourceBind, 'reload')\n        if (typeof reload === 'function') {\n          reload.call(this.dataSourceBind);\n        }\n      }\n      console.log('_filterChanged', this.gridApi.getFilterModel());\n    }\n  }\n\n  private _gridReady() {\n    this.isGridReadReady = true\n    /** 分页视图 **/\n    this.gridPage = new CtlGridPage(this)\n    this._rebindDataSource()\n  }\n\n  private _resetGrid() {\n    this.isGridReadReady = false\n    const gridOptions = this._gridOptions()\n    const $el = $(this._webix._viewobj).find('[role=\"yvGrid\"]')[0]\n    const grid: any = new agGrid.Grid($el, gridOptions)\n    grid.gridOptions.api.vue = this\n    this.gridApi = grid.gridOptions.api\n    this.columnApi = grid.gridOptions.columnApi\n\n    //去掉 ag-unselectable 使表格允许被选定\n    if ($el) {\n      $($el)\n        .find('.ag-root.ag-unselectable')\n        .removeClass('ag-unselectable')\n    }\n  }\n\n  _rowDoubleClicked(e: any) {\n    YvEventDispatch(this.onRowDblClick, this, e.data)\n  }\n\n  /**\n   * 获取下拉框的数据选项\n   */\n  _getComboFilterData(easyuiCol: any) {\n    if (easyuiCol.editMode === 'combo') {\n      if (typeof easyuiCol.editParams.data === 'string') {\n        if (YvanUI.dict.hasOwnProperty(easyuiCol.editParams.data)) {\n          return YvanUI.dict[easyuiCol.editParams.data]\n        } else if (YvanUI.formatter.hasOwnProperty(easyuiCol.editParams.data)) {\n          return YvanUI.formatter[easyuiCol.editParams.data]\n        } else {\n          console.error(\n            '没有发现全局函数 YvanUI.formatter[dict].' +\n            easyuiCol.editParams.data\n          )\n        }\n      } else if (easyuiCol.editParams.data.constructor === Array) {\n        const editParams = easyuiCol.editParams\n        return _.map(editParams.data, item => {\n          return {\n            id: item[editParams.idField],\n            text: item[editParams.textField]\n          }\n        })\n      }\n    }\n\n    let formatter = easyuiCol.formatter\n    if (typeof easyuiCol.formatter === 'string') {\n      // formatter 是字符串，从全局 YvanUI.formatter 找方法\n      if (YvanUI.dict.hasOwnProperty(easyuiCol.formatter)) {\n        formatter = YvanUI.dict[easyuiCol.formatter]\n      } else if (YvanUI.formatter.hasOwnProperty(easyuiCol.formatter)) {\n        easyuiCol.formatter = YvanUI.formatter[easyuiCol.formatter]\n      } else {\n        console.error(\n          '没有发现全局函数 YvanUI.formatter[dict].' + easyuiCol.editParams.data\n        )\n      }\n    }\n\n    if (formatter && formatter.constructor === Array) {\n      // formatter 是数组，就是下拉数据本身\n      return formatter\n    }\n  }\n\n  /**\n   * 第一次数据被渲染之后\n   */\n  _firstDataRendered() {\n    YvEventDispatch(this.onFirstDataRendered, this, undefined)\n  }\n\n  /**\n   * 接受更新\n   * 状态位显示 OK, 删除 origin 数据, 并闪烁当前行\n   */\n  _acceptChanges(node: any) {\n    if (node.origin) {\n      node.cstate = 'ok'\n      delete node.origin\n      this.flashRow(node)\n      node.setDataValue('__ID__', _.uniqueId())\n    }\n  }\n\n  /**\n   * 清空所有状态，准备获取新数据\n   * 当前编辑都应该清空, 勾选也应该清空\n   */\n  _clearCache() {\n    this.checkedIds = []\n    this.gridApi.forEachNode((node: any) => {\n      delete node.cstate\n      delete node.origin\n    })\n  }\n\n  /**\n   * 根据行，获取主键 ID, 当主键不存在时 返回 undefined\n   */\n  _getIdByRow(row: any) {\n    if (!row) return\n    if (this.idField) {\n      if (this.idField.constructor === Array) {\n        //联合组件，用valueSep分割\n        return _.map(this.idField, f => _.toString(row[f])).join(this.valueSep)\n      }\n\n      return row[this.idField]\n    }\n    console.error('表格没有设置主键！！')\n    return undefined\n  }\n\n  /**\n   * 重新绑定数据源\n   */\n  _rebindDataSource() {\n    const innerMethod = () => {\n      if (this.dataSourceBind) {\n        this.dataSourceBind.destory()\n        this.dataSourceBind = undefined\n      }\n\n      if (this._webix && this._module) {\n        this.dataSourceBind = new YvanDataSourceGrid(this, this.dataSource)\n      }\n    }\n\n    if (!this._module.loadFinished) {\n      // onload 函数还没有执行（模块还没加载完）, 延迟调用 rebind\n      _.defer(innerMethod)\n\n    } else {\n      // 否则实时调用 rebind\n      innerMethod()\n    }\n  }\n\n  /**\n   * 每次 AJAX 请求完毕之后会回调这里\n   */\n  _bindingComplete() {\n    YvEventDispatch(this.onBindingComplete, this, undefined)\n  }\n\n  /**\n   * 找到某行的 node, （一旦匹配到 condition 就停止）\n   */\n  _findNode(condition: GridSelectCondition) {\n    if (!condition) {\n      //返回第一条被找到的数据\n      condition = () => true\n    } else if (typeof condition === 'string') {\n      //以主键查找的方式\n      const key = condition\n      condition = (n: any) => {\n        return this._getIdByRow(n.data) === key\n      }\n    } else if (typeof condition === 'object') {\n      //就是 node 对象, 直接返回\n      return condition\n    }\n\n    const me = this\n    let findNode = undefined\n    try {\n      this.gridApi.forEachNode((node: any) => {\n        if ((condition as any).call(me, node)) {\n          findNode = node\n          throw Error()\n        }\n      })\n    } catch (e) { }\n    return findNode\n  }\n\n  _cellKeyDown(param: any) {\n    //event.stopPropagation();\n    //event.preventDefault();\n\n    //通知外部\n    const r = YvEventDispatch(this.onKeyDown, this, param)\n    if (r === true) {\n      //已经被自定义函数处理掉\n      return\n    }\n\n    if (param.event.keyCode === 13) {\n      param.event.stopPropagation()\n      param.event.preventDefault()\n      return\n    }\n\n    if (param.event.keyCode === 27) {\n      //按下 ESC 还原数据到 origin 状态, 并删除所有编辑形式\n      if (param.node.origin) {\n        param.event.stopPropagation()\n        param.event.preventDefault()\n\n        const data = {\n          ...param.data,\n          ...param.node.origin\n        }\n        delete param.node.cstate\n        delete param.node.origin\n        param.node.updateData(data)\n        param.node.setDataValue('__ID__', _.uniqueId())\n      }\n    }\n    //console.log('cellKeyDown', param);\n  }\n\n  _modelUpdated() {\n    if (this.autoSizeColumns && this.gridApi) {\n      this.gridApi.sizeColumnsToFit()\n    }\n  }\n\n  _cellFocused(param: any) {\n    YvEventDispatch(this.onCellFocused, this, param)\n  }\n\n  _cellClicked(param: any) {\n    YvEventDispatch(this.onCellClicked, this, param)\n  }\n\n  _rowSelected(param: any) {\n    const { node } = param\n    const { selected, id } = node\n\n    if (!selected) {\n      //行离开事件,查看是否有数据正在编辑，提交校验\n      this._rowEditingStopped(id, param)\n      return\n    }\n\n    //触发 entity 改变\n    if (_.size(this.entityName) > 0) {\n      _.set(this.getModule(), this.entityName + '.selectedRow', param.data)\n      //this.vcxt.module.$set(this.vcxt.module[this.entityName], \"selectedRow\", param.data);\n    }\n\n    //触发 onRowSelect 事件\n    YvEventDispatch(this.onRowSelect, this, param.data)\n  }\n\n  _cellEditingStarted(param: any) {\n    let rowId\n    if (param.node.rowPinned === 'top') {\n      //在添加行上\n      rowId = -1\n    } else if (!param.node.rowPinned) {\n      //在数据行上\n      rowId = param.node.id\n    }\n    this._rowEditingStarted(rowId, param)\n  }\n\n  _cellEditingStopped(param: any) {\n    //触发单元格校验事件\n    if (this.saveOn !== 'editFinish') {\n      //保存时机，是不是结束编辑后立刻保存\n      return\n    }\n\n    const origin = param.node.origin\n    if (!origin) {\n      // 这一行没有进入过编辑模式\n      return\n    }\n\n    const data = _.cloneDeep(param.data)\n    delete data['__ID__']\n    delete data['__CB__']\n\n    _.forOwn(origin, (value, key) => {\n      if (typeof value === 'number') {\n        origin[key] = _.toString(value)\n      }\n    })\n    _.forOwn(data, (value, key) => {\n      if (typeof value === 'number') {\n        data[key] = _.toString(value)\n      }\n    })\n\n    if (_.isEqual(origin, data)) {\n      //相同，改变状态位 same\n      param.node.cstate = 'same'\n    } else {\n      //不相同, 提交校验\n      param.node.cstate = 'validate'\n\n      if (this.dataSourceBind) {\n        if (this.dataSourceBind.updateSupport()) {\n          this.dataSourceBind._updateRow(param)\n        }\n      }\n      //console.log(this.dataSource, param.node)\n      //setTimeout(() => {\n      //    this._acceptChanges(param.node)\n      //}, 2000)\n    }\n    param.node.setDataValue('__ID__', _.uniqueId())\n  }\n\n  _rowEditingStarted(rowId: any, param: any) {\n    if (!param.node.origin) {\n      // 以前从来没有编辑过这一行, 记录 origin\n      const data = _.cloneDeep(param.data)\n      delete data['__ID__']\n      delete data['__CB__']\n      param.node.origin = data\n    }\n\n    param.node.cstate = 'editing'\n    param.node.setDataValue('__ID__', _.uniqueId())\n  }\n\n  _rowEditingStopped(rowId: any, param: any) {\n    if (this.saveOn !== 'rowChanged') {\n      //保存时机，是不是行更改后立刻保存\n      return\n    }\n\n    const origin = param.node.origin\n    if (!origin) {\n      // 这一行没有进入过编辑模式\n      return\n    }\n\n    const data = _.cloneDeep(param.data)\n    delete data['__ID__']\n    delete data['__CB__']\n\n    _.forOwn(origin, (value, key) => {\n      if (typeof value === 'number') {\n        origin[key] = _.toString(value)\n      }\n    })\n    _.forOwn(data, (value, key) => {\n      if (typeof value === 'number') {\n        data[key] = _.toString(value)\n      }\n    })\n\n    if (_.isEqual(origin, data)) {\n      //相同，改变状态位 same\n      param.node.cstate = 'same'\n    } else {\n      //不相同, 提交校验\n      param.node.cstate = 'validate'\n\n      if (this.dataSourceBind) {\n        this.dataSourceBind._updateRow(param)\n      }\n      //console.log(this.dataSource, param.node)\n      //setTimeout(() => {\n      //    this._acceptChanges(param.node)\n      //}, 2000)\n    }\n    param.node.setDataValue('__ID__', _.uniqueId())\n  }\n\n  /**\n   * Tab键导航\n   */\n  _tabToNextCell(params: any) {\n    const previousCell = params.previousCellPosition\n    const nextCellPosition = params.nextCellPosition\n\n    //tab 永不换行\n    return {\n      ...nextCellPosition,\n      rowIndex: previousCell.rowIndex\n    }\n  }\n\n  /**\n   * 上下左右键导航\n   */\n  _navigateToNextCell(params: any) {\n    const KEY_LEFT = 37\n    const KEY_UP = 38\n    const KEY_RIGHT = 39\n    const KEY_DOWN = 40\n\n    const previousCell = params.previousCellPosition\n    const suggestedNextCell = params.nextCellPosition\n    switch (params.key) {\n      case KEY_UP: {\n        const nextRowIndex = previousCell.rowIndex - 1\n        if (nextRowIndex < 0) {\n          // returning null means don't navigate\n          return null\n        }\n        this.selectRow(node => node.rowIndex === nextRowIndex)\n        return {\n          rowIndex: nextRowIndex,\n          column: previousCell.column,\n          floating: previousCell.floating\n        }\n      }\n\n      case KEY_DOWN: {\n        // return the cell below\n        const rowIndex = previousCell.rowIndex + 1\n        const renderedRowCount = this.gridApi.getModel().getRowCount()\n        if (rowIndex >= renderedRowCount) {\n          // returning null means don't navigate\n          return null\n        }\n        this.selectRow(node => node.rowIndex === rowIndex)\n        return {\n          rowIndex: rowIndex,\n          column: previousCell.column,\n          floating: previousCell.floating\n        }\n      }\n\n      case KEY_LEFT:\n      case KEY_RIGHT:\n        return suggestedNextCell\n      default:\n        throw 'this will never happen, navigation is always one of the 4 keys above'\n    }\n  }\n\n  /**\n   * 列设置计算\n   */\n  _gridCols(resultCols: any[]): void {\n    _.each(this.columns, column => {\n      const easyuiCol = _.merge(\n        {\n          ..._.clone(YvGridColumnProp),\n          editParams: {\n            ..._.clone(YvGridColumnEditProp)\n          }\n        },\n        column\n      )\n\n      //=========================== 设计模式属性 ===========================\n      // if (this._isDesignMode) {\n      //     resultCols.push({\n      //         suppressMovable: true,\n      //         field: easyuiCol.field,\n      //         headerName: easyuiCol.title,\n      //         resizable: true,\n      //         filter: false,\n      //         editable: false,\n      //         sortable: false,\n      //         //unSortIcon: true,\n      //         hide: false,\n      //         width: easyuiCol.width,\n      //         minWidth: easyuiCol.minwidth,\n      //         maxWidth: easyuiCol.maxwidth\n      //     });\n      //     return;\n      // }\n\n      //=========================== 基本属性 ===========================\n      const col: any = {\n        suppressMovable: true,\n        field: easyuiCol.field,\n        headerName: easyuiCol.title,\n        resizable: easyuiCol.resizable,\n        filter: false,\n        editable: false,\n        sortable: easyuiCol.sortable,\n        //unSortIcon: true,\n        hide: easyuiCol.hidden\n      }\n\n      if (typeof easyuiCol.width !== 'undefined') col.width = easyuiCol.width\n      if (typeof easyuiCol.minwidth !== 'undefined')\n        col.minWidth = easyuiCol.minwidth\n      if (typeof easyuiCol.maxwidth !== 'undefined')\n        col.maxWidth = easyuiCol.maxwidth\n\n      if (typeof easyuiCol.align !== 'undefined') {\n        col.cellClass = function (params: any) {\n          return ['yv-align-' + easyuiCol.align]\n        }\n      }\n\n      if (_.size(easyuiCol.field) > 0) {\n        col.tooltipField = easyuiCol.field\n      }\n\n      //=========================== buttons 属性 ===========================\n      if (easyuiCol.buttons) {\n        //col.cellRendererFramework = 'yvGridButton'\n        col.cellRenderer = 'CtlGridCellButton'\n        col.cellRendererParams = {\n          buttons: easyuiCol.buttons\n        }\n      }\n\n      //=========================== 编辑与formatter属性 ===========================\n      const { editParams } = easyuiCol\n      let formatable = false\n      if (easyuiCol.editable) {\n        if (easyuiCol.editMode === 'checkbox') {\n          //勾选框编辑\n          formatable = false\n          col.cellRenderer = 'CtlGridCellCheckbox'\n          col.cellRendererParams = {\n            editParams: easyuiCol.editParams,\n            on: editParams.on,\n            off: editParams.off,\n            onChange: (newValue: any) => {\n              YvEventDispatch(editParams.onValidate, this, {\n                value: newValue\n              })\n            },\n            onValidate: (value: any) => {\n              YvEventDispatch(editParams.onValidate, this, {\n                value: value\n              })\n            }\n          }\n\n          if (easyuiCol.editable) {\n            //允许编辑\n            _.assign(col, {\n              editable: true,\n              cellEditor: 'CtlGridEditorCombo',\n              cellEditorParams: {\n                editParams: easyuiCol.editParams,\n                options: [\n                  { id: editParams.on, text: '勾选' },\n                  { id: editParams.off, text: '不勾' }\n                ],\n                onChange: (newValue: any) => {\n                  YvEventDispatch(editParams.onValidate, this, {\n                    value: newValue\n                  })\n                },\n                onValidate: (value: any) => {\n                  YvEventDispatch(editParams.onValidate, this, {\n                    value: value\n                  })\n                }\n              }\n            })\n          }\n        } else if (easyuiCol.editMode === 'combo') {\n          //下拉框编辑\n          formatable = false\n          _.assign(col, {\n            editable: true,\n            cellEditor: 'CtlGridEditorCombo',\n            cellEditorParams: {\n              editParams: easyuiCol.editParams,\n              options: this._getComboFilterData(easyuiCol),\n              onChange: (newValue: any) => {\n                YvEventDispatch(editParams.onValidate, this, {\n                  value: newValue\n                })\n              },\n              onValidate: (value: any) => {\n                YvEventDispatch(editParams.onValidate, this, {\n                  value: value\n                })\n              }\n            }\n          })\n          //下拉框的 formatter 逻辑是固定的\n          const data = this._getComboFilterData(easyuiCol)\n          if (typeof data === 'function') {\n            col.valueFormatter = (params: any) => {\n              return data(params.value)\n            }\n          } else {\n            col.valueFormatter = (params: any) => {\n              if (_.size(params.data) <= 0) return\n\n              const optionItem = _.find(data, item => {\n                const id = _.toString(item['id'])\n                return id && id === _.toString(params.value)\n              })\n\n              if (optionItem) {\n                //找到text属性值\n                return optionItem['text']\n              }\n              return params.value\n            }\n          }\n\n        } else if (easyuiCol.editMode === 'area') {\n          //大型富文本框编辑\n          formatable = true\n          _.assign(col, {\n            editable: true,\n            cellEditor: 'agLargeTextCellEditor',\n            cellEditorParams: {\n              editParams: easyuiCol.editParams,\n              maxLength: editParams.maxlength\n            }\n          })\n\n        } else if (easyuiCol.editMode === 'text' || easyuiCol.editMode === 'number') {\n          //普通文本框编辑\n          formatable = true\n          _.assign(col, {\n            editable: true,\n            cellEditor: 'CtlGridEditorText',\n            cellEditorParams: {\n              type: easyuiCol.editMode,\n              editParams: easyuiCol.editParams,\n              onChange: (newValue: any) => {\n                YvEventDispatch(editParams.onValidate, this, {\n                  value: newValue\n                })\n              },\n              onValidate: (value: any) => {\n                YvEventDispatch(editParams.onValidate, this, {\n                  value: value\n                })\n              },\n              onInput: (e: any) => {\n                YvEventDispatch(editParams.onInput, this, this, {\n                  event: e\n                })\n              }\n            }\n          })\n\n        } else if (easyuiCol.editMode === 'date' || easyuiCol.editMode === 'datetime') {\n          formatable = true\n          // _.assign(col, {\n          //     editable: true,\n          //     cellEditor: \"YvGridEditorDate\",\n          //     cellEditorParams: {\n          //         type: easyuiCol.editMode,\n          //         editParams: easyuiCol.editParams,\n          //         onChange: newValue => {\n          //             this.$yvDispatch(editParams.onValidate, newValue, this.getEditRow());\n          //         },\n          //         onValidate: value => {\n          //             this.$yvDispatch(editParams.onValidate, value, this.getEditRow());\n          //         },\n          //         onInput: e => {\n          //             this.$yvDispatch(editParams.onInput, e, this.getEditRow());\n          //         }\n          //     }\n          // });\n          console.error('not support date editor')\n        }\n      } else {\n        //不允许编辑的情况，全都允许格式化\n        formatable = true\n      }\n\n      //=========================== formatter属性 ===========================\n      if (formatable) {\n        const data = this._getComboFilterData(easyuiCol)\n        if (data) {\n          //从下拉框逻辑中找到了固定映射关系\n          col.valueFormatter = (params: any) => {\n            if (_.size(params.data) <= 0) return undefined\n            const optionItem = _.find(data, item => {\n              const id = _.toString(item['id'])\n              return id && id === _.toString(params.value)\n            })\n\n            if (optionItem) {\n              //找到text属性值\n              return optionItem['text']\n            }\n            return params.value\n          }\n        } else {\n          //以 function 方式获得显示逻辑\n          let formatter = easyuiCol.formatter\n          if (typeof easyuiCol.formatter === 'string') {\n            // formatter 是字符串，从全局 YvanUI.formatter 找方法\n            if (!YvanUI.formatter.hasOwnProperty(easyuiCol.formatter)) {\n              console.error(\n                '没有发现全局函数 YvanUI.formatter.' + easyuiCol.formatter\n              )\n            } else {\n              formatter = YvanUI.formatter[easyuiCol.formatter]\n            }\n          }\n\n          if (typeof formatter === 'function') {\n            //formatter 是函数，调用函数来显示\n            col.valueFormatter = (params: any) => {\n              if (_.size(params.data) <= 0) return undefined\n              return formatter.call(\n                this,\n                params.data[easyuiCol.field],\n                this,\n                params.data\n              )\n            }\n          }\n        }\n      }\n\n      //=========================== 过滤属性 ===========================\n      if (this.filterable && easyuiCol.filterable && !easyuiCol.hidden) {\n        const datas = this._getComboFilterData(easyuiCol)\n        if (typeof datas === 'object') {\n          //下拉框过滤\n          _.assign(col, {\n            filter: 'CtlGridFilterSet',\n            //suppressMenu: true,\n            filterParams: {\n              data: datas,\n            },\n          })\n        } else if (easyuiCol.editMode === 'number') {\n          //数字过滤\n          _.assign(col, {\n            filter: 'agNumberColumnFilter', //NumberFilter = 26850\n            //suppressMenu: true,\n            filterParams: {\n              applyButton: true,\n              clearButton: true,\n              suppressAndOrCondition: true,\n              filterOptions: [\n                // 服务器已经设置条件，浏览器不进行实际比对\n                { displayKey: 'equals', displayName: '等于', test() { return true; } },\n                { displayKey: 'notEqual', displayName: '不等于', test() { return true; } },\n                { displayKey: 'lessThan', displayName: '小于', test() { return true; } },\n                { displayKey: 'greaterThan', displayName: '大于', test() { return true; } },\n                { displayKey: 'lessThanOrEqual', displayName: '小于等于', test() { return true; } },\n                { displayKey: 'greaterThanOrEqual', displayName: '大于等于', test() { return true; } },\n                { displayKey: 'inRange', displayName: '范围', test() { return true; } },\n              ]\n            }\n          })\n\n        } else if (easyuiCol.editMode === 'date' || easyuiCol.editMode === 'datetime') {\n          //日期筛选\n          _.assign(col, {\n            filter: 'agDateColumnFilter',\n            filterParams: {\n              applyButton: true,\n              clearButton: true,\n              filterOptions: ['inRange'],\n              suppressAndOrCondition: true,\n              inRangeInclusive: true,\n              comparator(v1: any, v2: any) {\n                // 服务器已经设置条件，浏览器不进行实际比对\n                // 0 的情况，一定要包含 inRangeInclusive 条件\n                return 0\n              }\n            }\n          })\n        } else {\n          //其他情况都是字符串筛选\n          _.assign(col, {\n            filter: 'agTextColumnFilter',\n            filterParams: {\n              applyButton: true,\n              clearButton: true,\n              filterOptions: ['startsWith', 'equals', 'contains'],\n              suppressAndOrCondition: true,\n              textCustomComparator() {\n                // 服务器已经设置条件，浏览器不进行实际比对\n                return true;\n              }\n            }\n          })\n        }\n      }\n\n      //=========================== 渲染属性 ===========================\n      if (typeof easyuiCol.onStyle === 'function') {\n        _.assign(col, {\n          cellStyle: (param: any) => {\n            return easyuiCol.onStyle.call(this, param)\n          }\n        })\n      }\n\n      resultCols.push(col)\n    })\n  }\n}\n\nexport type GridSelectCondition = ((row: any) => boolean) | string\n","import { CtlInput } from '../input/CtlInput'\nimport { parseYvanPropChangeVJson } from '../../CtlUtils'\nimport { CtlSwitchDefault } from '../../CtlDefaultValue'\n\nexport class CtlSwitch extends CtlInput<CtlSwitch> {\n  static create(module: any, vjson: any): CtlSwitch {\n    const that = new CtlSwitch(vjson)\n    that._module = module\n\n    _.defaultsDeep(vjson, CtlSwitchDefault)\n\n    // 基础属性先执行\n    that._create(vjson, that)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, ['value'])\n\n    // 将 yvanProp 合并至当前 Ctl 对象\n    _.assign(that, yvanProp)\n\n    // 将 _webixConfig 合并至 vjson, 最终合交给 webix 做渲染\n    _.merge(vjson, that._webixConfig, {\n      view: 'switch',\n      on: {}\n    })\n\n    return that\n  }\n\n  /**\n   * 交换状态\n   */\n  toggle() {\n    this._webix.toggle()\n  }\n\n  /**\n   * 设置值\n   */\n  set value(nv: any) {\n    if (!this._webix) {\n      this._webixConfig.value = nv\n    } else {\n      this._webix.setValueHere(nv)\n    }\n  }\n\n  /**\n   * 获取值\n   */\n  get value(): any {\n    if (!this._webix) {\n      return this._webixConfig.value\n    }\n    return this._webix.getValue()\n  }\n}\n","import { CtlInput } from './CtlInput'\nimport { parseYvanPropChangeVJson } from '../../CtlUtils'\nimport { CtlNumberDefault } from '../../CtlDefaultValue'\n\nexport class CtlNumber extends CtlInput<CtlNumber> {\n  static create(module: any, vjson: any): CtlNumber {\n    const that = new CtlNumber(vjson)\n    that._module = module\n\n    _.defaultsDeep(vjson, CtlNumberDefault)\n\n    // 基础属性先执行\n    that._create(vjson, that)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, ['precision'])\n\n    // 将 yvanProp 合并至当前 Ctl 对象\n    _.assign(that, yvanProp)\n\n    // 将 _webixConfig 合并至 vjson, 最终合交给 webix 做渲染\n    _.merge(vjson, that._webixConfig, {\n      view: 'text',\n      type: 'number'\n      // attr: {\n      //     min: \"0.00\",\n      //     step: \"0.01\"\n      // }\n    })\n\n    return that\n  }\n\n  /*============================ 公共属性部分 ============================*/\n  public precision?: number\n\n  private _testNumber(value: any) {\n    if (this.precision && this.precision > 0) {\n      value = value.replace(/[^\\d.-]/g, '') //清除\"数字\"和\".\"以外的字符\n      if (value.length > 1 && value.indexOf('.') > 1) {\n        let t\n        while (1) {\n          t = value\n          value = value.replace(/^0/g, '')\n          if (t.length === value.length) {\n            break\n          }\n        }\n        //value = value.replace(/^0/g, '') //验证第一个字符不是0.\n      }\n      value = value.replace(/^\\./g, '') //验证第一个字符是数字而不是.\n      value = value.replace(/\\.{2,}/g, '.') //只保留第一个. 清除多余的.\n      value = value\n        .replace('.', '$#$')\n        .replace(/\\./g, '')\n        .replace('$#$', '.') //只允许输入一个小数点\n\n      const r = eval('/^(\\\\-)*(\\\\d+)\\\\.(\\\\d{0,' + this.precision + '}).*$/')\n      value = value.replace(r, '$1$2.$3') //只能输入固定位数的小数\n    } else {\n      value = value.replace(/[^\\d-]/g, '') //清除\"数字\"和\"-\"以外的字符\n      if (value.length > 1) {\n        value = value.replace(/^0/g, '') //验证第一个字符不是0.\n      }\n      if (value.startsWith('-')) {\n        value = '-' + value.substr(1).replace(/[^\\d]/g, '')\n      } else {\n        value = value.replace(/[^\\d]/g, '')\n      }\n    }\n    return value\n  }\n\n  onInputEvent(e: Event) {\n    let value = (e.target as any).value\n      ; (e.target as any).value = this._testNumber(value)\n    super.onInputEvent(e)\n  }\n\n  /**\n   * 设置值 (如果不符合数字或小数位数格式，会被清空)\n   */\n  set value(nv: any) {\n    nv = this._testNumber(nv)\n    if (!this._webix) {\n      this._webixConfig.value = nv\n    } else {\n      this._webix.setValue(nv)\n    }\n  }\n\n  /**\n   * 获取值(可能取到空值)\n   */\n  get value(): any {\n    if (!this._webix) {\n      return this._webixConfig.value\n    }\n    return this._webix.getValue()\n  }\n}\n","import { CtlInput } from '../input/CtlInput'\nimport { parseYvanPropChangeVJson } from '../../CtlUtils'\nimport { CtlRadioDefault } from '../../CtlDefaultValue'\n\nexport class CtlRadio extends CtlInput<CtlRadio> {\n  static create(module: any, vjson: any): CtlRadio {\n    const that = new CtlRadio(vjson)\n    that._module = module\n\n    _.defaultsDeep(vjson, CtlRadioDefault)\n\n    // 基础属性先执行\n    that._create(vjson, that)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, ['options'])\n\n    // 将 yvanProp 合并至当前 Ctl 对象\n    _.assign(that, yvanProp)\n\n    // 将 _webixConfig 合并至 vjson, 最终合交给 webix 做渲染\n    _.merge(vjson, that._webixConfig, {\n      view: 'radio',\n      on: {}\n    })\n\n    return that\n  }\n\n  /**\n   * 修改下拉选项\n   */\n  set options(nv: any[]) {\n    const value = nv.map(item => {\n      return { id: item.id, value: item.text }\n    })\n\n    if (!this._webix) {\n      _.merge(this._webixConfig, {\n        options: value\n      })\n      return\n    }\n    this._webix.define('options', value)\n    this._webix.refresh()\n  }\n}\n","import { CtlBase } from './CtlBase'\nimport { CtlCodeMirrorDefault } from './CtlDefaultValue'\nimport { parseYvanPropChangeVJson } from './CtlUtils'\nimport webix from 'webix'\n\nwebix.protoUI(\n  {\n    name: 'codemirror-editor',\n    defaults: {},\n    $init: function (config: any) {\n      this.$view.innerHTML =\n        \"<textarea style='width:100%;height:100%;'></textarea>\"\n      this._waitEditor = webix.promise.defer()\n      this.$ready.push(this._render_cm_editor)\n      _.extend(this.config, config)\n      if (config.on && typeof config.on.onInited === 'function') {\n        config.on.onInited.call(this)\n      }\n    },\n    _render_cm_editor: function () {\n      this._render_when_ready()\n      // if (this.config.cdn === false) {\n      //     this._render_when_ready;\n      //     return;\n      // }\n      //\n      // var cdn = this.config.cdn || \"//cdn.bootcss.com/codemirror/5.38.0/\";\n      // // basic\n      // var sources = [\n      //     cdn + \"/codemirror.css\",\n      //     cdn + \"/codemirror.js\"\n      // ];\n      //\n      // // mode\n      // if (this.config.mode === \"htmlmixed\") {\n      //     sources.push(cdn + \"/mode/xml/xml.js\");\n      //     sources.push(cdn + \"/mode/css/css.js\");\n      //     sources.push(cdn + \"/mode/javascript/javascript.js\");\n      //\n      // } else {\n      //     var mode = this.config.mode ? this.config.mode : \"javascript\";\n      //     sources.push(cdn + \"/mode/\" + mode + \"/\" + mode + \".js\");\n      // }\n      //\n      // // theme\n      // if (this.config.theme && this.config.theme !== \"default\") {\n      //     sources.push(cdn + \"/theme/\" + this.config.theme + \".css\")\n      // }\n      //\n      // // matchbrackets add-on\n      // if (this.config.matchBrackets) {\n      //     sources.push(cdn + \"/addon/edit/matchbrackets.js\")\n      // }\n      //\n      // webix.require(sources)\n      //     .then(webix.bind(this._render_when_ready, this))\n      //     .catch((e: any) => {\n      //         console.log(e);\n      //     });\n    },\n    _render_when_ready: function (this: any) {\n      const CodeMirror: any = _.get(window, 'CodeMirror')\n      this._editor = CodeMirror.fromTextArea(this.$view.firstChild, {\n        // mode: this.config.mode,\n        // lineNumbers: this.config.lineNumbers,\n        // matchBrackets: this.config.matchBrackets,\n        // theme: this.config.theme\n        ...this.config\n      })\n\n      this._waitEditor.resolve(this._editor)\n\n      this.setValue(this.config.value)\n      if (this._focus_await) {\n        this.focus()\n      }\n    },\n    _set_inner_size: function () {\n      if (!this._editor || !this.$width) return\n\n      this._updateScrollSize()\n      this._editor.scrollTo(0, 0) //force repaint, mandatory for IE\n    },\n    _updateScrollSize: function () {\n      var box = this._editor.getWrapperElement()\n      var height = (this.$height || 0) + 'px'\n\n      box.style.height = height\n      box.style.width = (this.$width || 0) + 'px'\n\n      var scroll = this._editor.getScrollerElement()\n      if (scroll.style.height !== height) {\n        scroll.style.height = height\n        this._editor.refresh()\n      }\n    },\n    $setSize: function (x: any, y: any) {\n      if (webix.ui.view.prototype.$setSize.call(this, x, y)) {\n        this._set_inner_size()\n      }\n    },\n    setValue: function (value: any) {\n      if (!value && value !== 0) {\n        value = ''\n      }\n\n      this.config.value = value\n      if (this._editor) {\n        this._editor.setValue(value)\n        //by default - clear editor's undo history when setting new value\n        if (!this.config.preserveUndoHistory) {\n          this._editor.clearHistory()\n        }\n        this._updateScrollSize()\n      }\n    },\n    getValue: function () {\n      return this._editor ? this._editor.getValue() : this.config.value\n    },\n    focus: function () {\n      this._focus_await = true\n      if (this._editor) {\n        this._editor.focus()\n      }\n    },\n    getEditor: function (waitEditor: any) {\n      return waitEditor ? this._waitEditor : this._editor\n    },\n    // //undo, redo, etc\n    // undo: function () {\n    //     this._editor.undo();\n    // },\n    // redo: function () {\n    //     this._editor.redo();\n    // },\n    undoLength: function () {\n      return this._editor.historySize().undo\n    }\n  },\n  webix.ui.view\n)\n\nexport class CtlCodeMirror extends CtlBase<CtlCodeMirror> {\n  static create(module: any, vjson: any): CtlCodeMirror {\n    const that = new CtlCodeMirror(vjson)\n    that._module = module\n\n    _.defaultsDeep(vjson, CtlCodeMirrorDefault)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, ['value'])\n\n    // 将 vjson 存至 _webixConfig\n    that._webixConfig = vjson\n\n    // 将 yvanProp 合并至当前 Ctl 对象, 期间会操作 _webixConfig\n    _.assign(that, yvanProp)\n\n    // 将 事件与 _webixConfig 一起存至 vjson 交给 webix 框架做渲染\n    _.merge(vjson, that._webixConfig, {\n      on: {\n        onInited(this: any) {\n          that.attachHandle(this, { ...vjson, ...yvanProp })\n        },\n        onAfterDelete() {\n          that.removeHandle()\n        }\n      }\n    })\n\n    return that\n  }\n\n  /**\n   * 撤销\n   */\n  undo() {\n    this._webix.getEditor().undo()\n  }\n\n  /**\n   * 重做\n   */\n  redo() {\n    this._webix.getEditor().redo()\n  }\n\n  /**\n   * 添加内容\n   */\n  append(msg: string) {\n    const editor = this._webix.getEditor();\n    const CodeMirror = _.get(window, 'CodeMirror');\n    editor.replaceRange(msg, CodeMirror.Pos(editor.lastLine()));\n  }\n\n  /**\n   * 移动光标到文档开始处\n   */\n  goDocStart() {\n    this._webix.getEditor().execCommand('goDocStart');\n  }\n\n  /**\n   * 移动光标到文档结束处\n   */\n  goDocEnd() {\n    this.execCommand('goDocEnd');\n  }\n\n  /**\n   * 移动光标到行开始处\n   */\n  goLineStart() {\n    this.execCommand('goLineStart');\n  }\n\n  /**\n   * 移动光标到行结束处\n   */\n  goLineEnd() {\n    this.execCommand('goLineEnd');\n  }\n\n  /**\n   * 移动光标到上一行\n   */\n  goLineUp() {\n    this.execCommand('goLineUp');\n  }\n\n  /**\n   * 移动光标到下一行\n   */\n  goLineDown() {\n    this.execCommand('goLineDown');\n  }\n\n  /**\n   * 获取对应行的内容\n   */\n  getLine(n: number): string {\n    return this._webix.getEditor().getLine(n)\n  }\n\n  /**\n   * 设置scroll到position位置\n   */\n  scrollTo(x: any, y: any) {\n    this._webix.getEditor().scrollTo(x, y);\n  }\n\n  clear() {\n    this.value = '';\n  }\n\n  /**\n   * 执行命令\n   */\n  execCommand(cmd: any) {\n    return this._webix.getEditor().execCommand(cmd);\n  }\n\n  /**\n   * 刷新编辑器\n   */\n  refresh() {\n    this._webix.getEditor().refresh();\n  }\n\n  /**\n   * 设置值\n   */\n  set value(nv: any) {\n    if (!this._webix) {\n      this._webixConfig.value = nv\n    } else {\n      this._webix.setValue(nv)\n    }\n  }\n\n  /**\n   * 获取值\n   */\n  get value(): any {\n    if (!this._webix) {\n      return this._webixConfig.value\n    }\n\n    return this._webix.getValue()\n  }\n}\n","import { CtlBase } from './CtlBase'\nimport { parseYvanPropChangeVJson } from './CtlUtils'\nimport { YvDataSource } from './YvanDataSourceImp'\nimport { YvEvent, YvEventDispatch } from './YvanEvent'\nimport { DataSource } from './YvanDataSource'\nimport { CtlSidebarDefault } from './CtlDefaultValue'\nimport { getFirstPinyin } from './Utils'\n\nexport class CtlSidebar extends CtlBase<CtlSidebar> {\n  static create(module: any, vjson: any): CtlSidebar {\n    const that = new CtlSidebar(vjson)\n    that._module = module\n\n    _.defaultsDeep(vjson, CtlSidebarDefault)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, [\n      // 'data',\n      'dataSource',\n      'onNodeClick',\n      'onDataComplete'\n    ])\n\n    // 将 vjson 存至 _webixConfig\n    that._webixConfig = vjson\n\n    // 将 yvanProp 合并至当前 Ctl 对象, 期间会操作 _webixConfig\n    _.assign(that, yvanProp)\n\n    // 将 事件与 _webixConfig 一起存至 vjson 交给 webix 框架做渲染\n    _.merge(vjson, that._webixConfig, {\n      select: true,\n      filterMode: {\n        showSubItems: false\n      },\n      on: {\n        onInited(this: any) {\n          that.attachHandle(this, { ...vjson, ...yvanProp })\n        },\n        onAfterDelete() {\n          that.removeHandle()\n        },\n        onItemClick(this: any, id: any) {\n          const item = this.getItem(id)\n          YvEventDispatch(that.onNodeClick, that, item)\n        },\n        onItemDblClick(this: any, id: any) {\n          const item = this.getItem(id)\n          YvEventDispatch(that.onNodeDblClick, that, item)\n        }\n      }\n    })\n\n    return that\n  }\n\n  /**\n   * 拼音方式过滤查找树\n   */\n  filter(nv: string) {\n    if (!nv) {\n      this._webix.filter('')\n      return\n    }\n\n    this._webix.filter((node: any) => {\n      const value = node.value\n      const nodePy = getFirstPinyin(value).toLowerCase()\n      return nodePy.indexOf(nv.toLowerCase()) >= 0 || value.toLowerCase().indexOf(nv) >= 0\n    })\n  }\n\n  /**\n   * 树上的数据\n   */\n  data?: any[]\n\n  /**\n   * 树节点被点击后触发\n   */\n  onNodeClick?: YvEvent<CtlSidebar, any>\n\n  /**\n   * 树节点被双击后触发\n   */\n  onNodeDblClick?: YvEvent<CtlSidebar, any>\n\n  /**\n   * 数据绑定完成后触发\n   */\n  onDataComplete?: YvEvent<CtlSidebar, any>\n\n  /**\n   * 设置值\n   */\n  set value(nv: any) {\n    if (!this._webix) {\n      this._webixConfig.value = nv\n    } else {\n      this._webix.setValue(nv)\n    }\n  }\n\n  /**\n   * 获取值\n   */\n  get value(): any {\n    if (!this._webix) {\n      return this._webixConfig.value\n    }\n    return this._webix.getValue()\n  }\n\n  /**\n   * 设置数据\n   */\n  set dataReal(nv: any[]) {\n    // dataSource call back\n    this._webix.clearAll()\n    this._webix.parse(nv)\n  }\n\n  /**\n   * 获取数据源设置\n   */\n  get dataSource(): DataSource<CtlSidebar> {\n    return this._dataSource\n  }\n\n  /**\n   * 设置数据源\n   */\n  set dataSource(nv: DataSource<CtlSidebar>) {\n    this._dataSource = nv\n    if (this._module.loadFinished) {\n      // onLoad 之后会触发 view.onInited -> attachHandle -> refreshState -> _rebindDataSource\n      // onLoad 之前都不需要主动触发 _rebindDataSource\n      this._rebindDataSource()\n    }\n  }\n\n  /**\n   * 重新请求数据\n   */\n  public reload(): void {\n    if (this.dataSourceBind && this.dataSourceBind.reload) {\n      this.dataSourceBind.reload()\n    }\n  }\n\n  /**\n   * 展开或收起状态互换\n   */\n  public toggle(): void {\n    return this._webix.toggle();\n  }\n\n  /**\n   * 是否折叠状态\n   */\n  public isCollapsed(): boolean {\n    return this._webix.config.collapsed;\n  }\n\n  /* =============================================== 以下部分为私有函数 =============================================== */\n\n  //数据源设置\n  private _dataSource: DataSource<CtlSidebar>\n\n  //数据源管理器\n  private dataSourceBind?: YvDataSource<CtlSidebar>\n\n  //重新绑定数据源\n  private _rebindDataSource() {\n    const innerMethod = () => {\n      if (this.dataSourceBind) {\n        this.dataSourceBind.destory()\n        this.dataSourceBind = undefined\n      }\n\n      if (this._webix && this._module) {\n        this.dataSourceBind = new YvDataSource(this, this.dataSource, this._dataSourceProcess.bind(this))\n        this.dataSourceBind.init()\n      }\n    }\n\n    if (!this._module.loadFinished) {\n      // onload 函数还没有执行（模块还没加载完）, 延迟调用 rebind\n      _.defer(innerMethod)\n\n    } else {\n      // 否则实时调用 rebind\n      innerMethod()\n    }\n  }\n\n  private _dataSourceProcess(data: any[]) {\n    if (\n      !this.dataSource ||\n      _.isArray(this.dataSource) ||\n      _.isFunction(this.dataSource)\n    ) {\n      return data\n    }\n\n    if (this.dataSource.type !== 'SQL' && this.dataSource.type !== 'function') {\n      return data\n    }\n\n    if (\n      !this.dataSource.parentField ||\n      !this.dataSource.displayField ||\n      !this.dataSource.valueField\n    ) {\n      return data\n    }\n\n    const idField = this.dataSource.valueField\n    const textField = this.dataSource.displayField\n    const parentField = this.dataSource.parentField\n\n    data = _.cloneDeep(data)\n\n    // 第一遍扫描, 建立映射关系\n    const nodeMap: any = {}\n    const rootNode = []\n    for (let i = 0; i < data.length; i++) {\n      const row = data[i]\n      nodeMap[row[idField]] = {\n        value: row[textField],\n        id: row[idField],\n        row: row\n      }\n      if (row.icon) {\n        nodeMap[row[idField]].icon = row.icon\n      }\n    }\n\n    // 第二遍扫描，建立父子关系\n    for (let i = 0; i < data.length; i++) {\n      const row = data[i]\n      const parent = row[parentField]\n      const id = row[idField]\n\n      if (!parent || parent === '0') {\n        // 没有父亲，作为根节点\n        rootNode.push(nodeMap[id])\n      } else if (nodeMap.hasOwnProperty(parent)) {\n        //找到父亲\n        const parentNode = nodeMap[parent]\n        if (parentNode.hasOwnProperty('data')) {\n          parentNode.data.push(nodeMap[id])\n        } else {\n          parentNode.data = [nodeMap[id]]\n        }\n      } else {\n        // 没有找到父亲，作为根节点\n        rootNode.push(nodeMap[id])\n      }\n    }\n\n    return rootNode\n  }\n\n  //刷新状态时，自动重绑数据源\n  protected refreshState() {\n    super.refreshState()\n    this._rebindDataSource()\n  }\n\n  /**\n   * 根据id获取一行数据\n   */\n  public getItem(id: any) {\n    return this._webix.getItem(id)\n  }\n\n  /**\n   * 选中一行\n   * @param id\n   */\n  public select(id: any) {\n    // this._webix.showItem(id);\n    let pid = id\n    while (pid) {\n      this._webix.open(pid)\n      pid = this._webix.getParentId(pid)\n    }\n\n    this._webix.select(id)\n  }\n}\n","import { CtlBase } from './CtlBase'\nimport { CtlXtermDefault } from './CtlDefaultValue'\nimport { parseYvanPropChangeVJson } from './CtlUtils'\nimport webix from 'webix'\nimport { Terminal } from 'xterm'\nimport { FitAddon } from 'xterm-addon-fit';\n\nwebix.protoUI(\n    {\n        name: 'xterm',\n        defaults: {},\n        $init: function (config: any) {\n            this._domid = webix.uid();\n            this.$view.innerHTML = `<div id='${this._domid}' style='width:100%;height:100%;'></div>`\n            this.$ready.push(this._ready)\n            _.extend(this.config, config)\n            if (config.on && typeof config.on.onInited === 'function') {\n                config.on.onInited.call(this)\n            }\n        },\n        _ready: function (this: any) {\n            const term = new Terminal();\n            const fitAddon = new FitAddon();\n\n            _.defer(() => {\n                term.loadAddon(fitAddon);\n                term.open(this.$view.firstChild);\n                fitAddon.fit();\n                this._term = term;\n                this._fitAddon = fitAddon;\n            })\n        },\n        _set_inner_size: function () {\n            if (!this._term || !this.$width) return\n\n            this._updateScrollSize()\n            // this._editor.scrollTo(0, 0) //force repaint, mandatory for IE\n        },\n        _updateScrollSize: function () {\n            var box = this._term.element;\n            var height = (this.$height || 0) + 'px'\n\n            box.style.height = height\n            box.style.width = (this.$width || 0) + 'px'\n\n            if (this._fitAddon) {\n                this._fitAddon.fit();\n            }\n        },\n        $setSize: function (x: any, y: any) {\n            if (webix.ui.view.prototype.$setSize.call(this, x, y)) {\n                _.defer(() => {\n                    this._set_inner_size()\n                })\n            }\n        }\n    },\n    webix.ui.view\n)\n\nexport class CtlXterm extends CtlBase<CtlXterm> {\n    static create(module: any, vjson: any): CtlXterm {\n        const that = new CtlXterm(vjson)\n        that._module = module\n\n        _.defaultsDeep(vjson, CtlXtermDefault)\n\n        const yvanProp = parseYvanPropChangeVJson(vjson, ['value'])\n\n        // 将 vjson 存至 _webixConfig\n        that._webixConfig = vjson\n\n        // 将 yvanProp 合并至当前 Ctl 对象, 期间会操作 _webixConfig\n        _.assign(that, yvanProp)\n\n        // 将 事件与 _webixConfig 一起存至 vjson 交给 webix 框架做渲染\n        _.merge(vjson, that._webixConfig, {\n            on: {\n                onInited(this: any) {\n                    that.attachHandle(this, { ...vjson, ...yvanProp })\n                },\n                onAfterDelete() {\n                    that.removeHandle()\n                }\n            }\n        })\n\n        return that\n    }\n\n    /**\n     * 获取终端\n     */\n    get term(): Terminal {\n        return this._webix._term\n    }\n\n    /**\n     * 获取填充插件\n     */\n    get fitAddon(): FitAddon {\n        return this._webix._fitAddon\n    }\n\n    get xtermWidth(): number {\n        return this._webix.$width\n    }\n\n    get xtermHeight(): number {\n        return this._webix.$height\n    }\n}\n","import { CtlBase } from './CtlBase'\nimport { CtlConsoleLogDefault } from './CtlDefaultValue'\nimport { parseYvanPropChangeVJson } from './CtlUtils'\nimport webix from 'webix'\n\nwebix.protoUI(\n  {\n    name: 'xconsolelog',\n    defaults: {},\n    $init: function (config: any) {\n      this._domid = webix.uid();\n      this.$view.innerHTML = `<div id='${this._domid}' class=\"vc-log\"></div>`\n      this.$ready.push(this._ready)\n      _.extend(this.config, config)\n      if (config.on && typeof config.on.onInited === 'function') {\n        config.on.onInited.call(this)\n      }\n    },\n    _ready: function (this: any) {\n\n    },\n    _set_inner_size: function () {\n      if (!this._term || !this.$width) return\n\n      this._updateScrollSize()\n      // this._editor.scrollTo(0, 0) //force repaint, mandatory for IE\n    },\n    _updateScrollSize: function () {\n      var box = this._term.element;\n      var height = (this.$height || 0) + 'px'\n\n      box.style.height = height\n      box.style.width = (this.$width || 0) + 'px'\n    },\n    $setSize: function (x: any, y: any) {\n      if (webix.ui.view.prototype.$setSize.call(this, x, y)) {\n        this._set_inner_size()\n      }\n    }\n  },\n  webix.ui.view\n)\n\nexport class CtlConsoleLog extends CtlBase<CtlConsoleLog> {\n  static create(module: any, vjson: any): CtlConsoleLog {\n    const that = new CtlConsoleLog(vjson)\n    that._module = module\n\n    _.defaultsDeep(vjson, CtlConsoleLogDefault)\n\n    const yvanProp = parseYvanPropChangeVJson(vjson, ['value'])\n\n    // 将 vjson 存至 _webixConfig\n    that._webixConfig = vjson\n\n    // 将 yvanProp 合并至当前 Ctl 对象, 期间会操作 _webixConfig\n    _.assign(that, yvanProp)\n\n    // 将 事件与 _webixConfig 一起存至 vjson 交给 webix 框架做渲染\n    _.merge(vjson, that._webixConfig, {\n      on: {\n        onInited(this: any) {\n          that.attachHandle(this, { ...vjson, ...yvanProp })\n          _.defer(() => {\n            $(this.$view).on('click', '.vc-fold', function (e) {\n              that.vcfoldclick(this)\n            })\n          })\n        },\n        onAfterDelete() {\n          that.removeHandle()\n        }\n      }\n    })\n    return that\n  }\n  /**\n   * @param logs 需要打印的json\n   */\n  public printLog(logs: any): void {\n    var logHtml = '<div class=\"vc-item\">';\n    if (!logs) {\n      logHtml += '<div><i class=\"vc-code-string\">undefined</i></div>';\n    } else {\n      logHtml += this.log2html(logs)\n    }\n    logHtml += \"</div>\"\n    this.renderDom(logHtml);\n  }\n\n  public renderDom(domHtml: string) {\n    // console.log(domHtml)\n    // var originDom;\n    // for (let index = 0; index < this._webix.$view.children.length; index++) {\n    //   const element = this._webix.$view.children[index];\n    //   if (element.classList.contains(\"vc-log\")) {\n    //     originDom = element;\n    //   }\n    // }\n    // var originHtml = originDom.innerHTML;\n    // var newHtml = originHtml + domHtml;\n    // originDom.innerHTML = newHtml;\n    // const that = this;\n    this._realHtml.push(domHtml);\n    this.realRender();\n  }\n\n  _realHtml = new Array<string>();\n\n  public realRender = _.debounce(() => {\n    $(this._webix.$view).find('.vc-log').append(this._realHtml.join(''));\n    this._realHtml = []\n  })\n\n  /**\n    * 递归生成html\n    */\n  public log2html(params: any): String {\n    if (this.isArray(params) || this.isObject(params)) {\n      return this.obj2html(params);\n    } else if (this.isNumber(params) || this.isBoolean(params)) {\n      return '<div><i class=\"vc-code-number\">' + params + '</i></div>'\n    } else {\n      return '<div><i class=\"vc-code-string\">\"' + params.toString() + '\"</i></div>'\n    }\n  }\n\n  public obj2html(params: any, title?: any): String {\n    var outer = '';\n    var json = this.JSONStringify(params);\n    var preview = json.substr(0, 36);\n    outer = this.getObjName(params);\n    if (json.length > 36) {\n      preview += '...';\n    }\n    outer += ' ' + preview;\n    var obj2htmlContent;\n    if (title) {\n      obj2htmlContent = '<div class=\"vc-fold\">\\\n      <div><i class=\"vc-code-key\">' +\n        title + '</i>:' +\n        '<i class=\"vc-fold-outer\">' +\n        outer +\n        '</i></div>\\\n      </div> \\\n      <div class=\"vc-fold-content vc-hidden\">';\n    } else {\n      obj2htmlContent = '<div class=\"vc-fold\">\\\n      <i class=\"vc-fold-outer\">' +\n        outer +\n        '</i> \\\n      </div> \\\n      <div class=\"vc-fold-content vc-hidden\">';\n    }\n    if (this.isObject(params)) {\n      var objKeys = this.getObjAllKeys(params);\n      for (var i = 0; i < objKeys.length; i++) {\n        var val = params[objKeys[i]];\n        if (this.isObject(val) || this.isArray(val)) {\n          obj2htmlContent += '<div>' + this.obj2html(val, objKeys[i]) + '</div>';\n        } else if (this.isNumber(val) || this.isBoolean(val)) {\n          obj2htmlContent += '<div><i class=\"vc-code-key\">' + objKeys[i] + '</i>: <i class=\"vc-code-number\">' + val + '</i></div>';\n        } else {\n          obj2htmlContent += '<div><i class=\"vc-code-key\">' + objKeys[i] + '</i>: <i class=\"vc-code-string\">\"' + val + '\"</i></div>';\n        }\n      }\n    } else if (this.isArray(params)) {\n      for (var i = 0; i < params.length; i++) {\n        obj2htmlContent += '<div>' + this.obj2html(params[i]) + '</div>';\n      }\n    }\n    obj2htmlContent += '</div>'\n    return obj2htmlContent;\n  }\n\n  /**\n   * div打开关闭\n   */\n  public vcfoldclick(params: any) {\n    var vcFoldElements = params.parentElement.children;\n    var vcFoldContent = vcFoldElements[vcFoldElements.length - 1];\n    if (vcFoldContent.classList.contains(\"vc-hidden\")) {\n      vcFoldContent.classList.remove(\"vc-hidden\");\n    } else {\n      vcFoldContent.classList.add(\"vc-hidden\");\n    }\n  }\n\n  /**\n * 搜索并打开div\n */\n  public searchText(inputValue: string) {\n    var items;\n    for (let index = 0; index < this._webix.$view.children.length; index++) {\n      const element = this._webix.$view.children[index];\n      if (element.classList.contains(\"vc-log\")) {\n        items = element;\n      }\n    }\n    this.removeSelected(items);\n    if (!inputValue) {\n      return;\n    }\n    this.itemContainsText(items, inputValue);\n  }\n\n  public itemContainsText(params: any, inputValue: any) {\n    for (var i = 0; i < params.children.length; i++) {\n      var item = params.children[i];\n      if (item.innerHTML.indexOf(inputValue) !== -1) {\n        if (item.classList.contains(\"vc-fold-content\")) {\n          item.classList.remove(\"vc-hidden\");\n        }\n        if (item.classList.contains(\"vc-code-key\") ||\n          item.classList.contains(\"vc-code-string\") ||\n          item.classList.contains(\"vc-code-number\") ||\n          item.classList.contains(\"vc-code-boolean\")) {\n          item.classList.add(\"vc-code-string-selected\");\n        }\n        this.itemContainsText(item, inputValue)\n      }\n    }\n  }\n\n  public removeSelected(params: any) {\n    for (var i = 0; i < params.children.length; i++) {\n      var item = params.children[i];\n      item.classList.remove(\"vc-code-string-selected\");\n      this.removeSelected(item)\n    }\n  }\n\n  /**\n * 全部清空\n */\n  public vcClearAll() {\n    var vcLog = $('#' + this._webix._domid)[0];\n    vcLog.innerHTML = '';\n  }\n\n  /**\n * 全部收起\n */\n  public vcCloseAll() {\n    var vcLog = $('#' + this._webix._domid)[0];\n    this.closeOrOpen(vcLog, false)\n  }\n\n  /**\n   * 全部展开\n   */\n  public vcOpenAll() {\n    var vcLog = $('#' + this._webix._domid)[0];\n    this.closeOrOpen(vcLog, true)\n\n    // var vvv = _.cloneDeepWith(vcLog, function customizer(value) {\n    //   if (_.isElement(value)) {\n    //     return value.cloneNode(true);\n    //   }\n    // });\n    // this.closeOrOpen(vvv, true);\n\n    // vcLog.innerHTML = vvv.innerHTML;\n  }\n\n  public closeOrOpen(items: any, isOpen: boolean) {\n    for (var i = 0; i < items.children.length; i++) {\n      var item = items.children[i];\n      if (item.classList.contains(\"vc-fold-content\")) {\n        if (isOpen) {\n          item.classList.remove(\"vc-hidden\");\n        } else {\n          item.classList.add(\"vc-hidden\");\n        }\n      }\n      this.closeOrOpen(item, isOpen)\n    }\n  }\n\n  /**\n   * tools\n   */\n  public isNumber(value: any): boolean {\n    return Object.prototype.toString.call(value) == '[object Number]';\n  }\n\n  public isString(value: any): boolean {\n    return Object.prototype.toString.call(value) == '[object String]';\n  }\n\n  public isArray(value: any): boolean {\n    return Object.prototype.toString.call(value) == '[object Array]';\n  }\n\n  public isBoolean(value: any): boolean {\n    return Object.prototype.toString.call(value) == '[object Boolean]';\n  }\n\n\n  public isUndefined(value: any): boolean {\n    return value === undefined;\n  }\n\n  public isNull(value: any): boolean {\n    return value === null;\n  }\n\n  public isSymbol(value: any): boolean {\n    return Object.prototype.toString.call(value) == '[object Symbol]';\n  }\n\n  public isFunction(value: any): boolean {\n    return Object.prototype.toString.call(value) == '[object Function]';\n  }\n\n  public isObject(value: any): boolean {\n    return (\n      Object.prototype.toString.call(value) == '[object Object]' ||\n      // if it isn't a primitive value, then it is a common object\n      (\n        !this.isNumber(value) &&\n        !this.isString(value) &&\n        !this.isBoolean(value) &&\n        !this.isArray(value) &&\n        !this.isNull(value) &&\n        !this.isFunction(value) &&\n        !this.isUndefined(value) &&\n        !this.isSymbol(value)\n      )\n    );\n  }\n\n  /**\n * Simple JSON stringify, stringify top level key-value\n */\n  public JSONStringify(stringObject: any): any {\n    if (!this.isObject(stringObject) && !this.isArray(stringObject)) {\n      return JSON.stringify(stringObject);\n    }\n\n    let prefix = '{',\n      suffix = '}';\n    if (this.isArray(stringObject)) {\n      prefix = '[';\n      suffix = ']'\n    }\n    let str = prefix;\n    const keys = this.getObjAllKeys(stringObject);\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      const value = stringObject[key];\n      try {\n        // key\n        if (!this.isArray(stringObject)) {\n          if (this.isObject(key) || this.isArray(key) || this.isSymbol(key)) {\n            str += Object.prototype.toString.call(key);\n          } else {\n            str += key;\n          }\n          str += ': ';\n        }\n\n        // value\n        if (this.isArray(value)) {\n          str += 'Array[' + value.length + ']';\n        } else if (this.isObject(value) || this.isSymbol(value) || this.isFunction(value)) {\n          str += Object.prototype.toString.call(value);\n        } else {\n          str += JSON.stringify(value);\n        }\n        if (i < keys.length - 1) {\n          str += ', ';\n        }\n      } catch (e) {\n        continue;\n      }\n    }\n    str += suffix;\n    return str;\n  }\n\n  /**\n * get an object's all keys ignore whether they are not enumerable\n */\n  public getObjAllKeys(obj: any): any {\n    if (!this.isObject(obj) && !this.isArray(obj)) {\n      return [];\n    }\n    if (this.isArray(obj)) {\n      const m: any[] = [];\n      obj.forEach((_: any, index: any) => {\n        m.push(index)\n      });\n      return m;\n    }\n    return Object.getOwnPropertyNames(obj).sort();\n  }\n\n  /**\n   * get an object's prototype name\n   */\n  public getObjName(obj: any): any {\n    return Object.prototype.toString.call(obj).replace('[object ', '').replace(']', '');\n  }\n}\n","/* eslint-disable */\nimport Vue from 'vue'\nimport { BaseModule, BizWatch, VJson } from './YvanUIModule'\nimport { CtlTree } from './CtlTree'\nimport { CtlTreeTable } from './CtlTreeTable'\nimport { CtlTab } from './CtlTab'\nimport { CtlDataview } from './CtlDataview'\nimport { CtlECharts } from './CtlECharts'\nimport { CtlButton } from './CtlButton'\nimport { CtlText } from './form/input/CtlText'\nimport { CtlCheckBox } from './form/other/CtlCheckBox'\nimport { CtlCombo } from './form/select/CtlCombo'\nimport { CtlDatePicker } from './form/input/CtlDatePicker'\nimport { CtlDateRangePicker } from './form/input/CtlDateRangePicker'\nimport { CtlForm } from './form/CtlForm'\nimport { CtlMultiCombo } from './form/select/CtlMultiCombo'\nimport { CtlSearch } from './form/input/CtlSearch'\nimport { CtlCarousel } from './CtlCarousel'\nimport { CtlGrid } from './CtlGrid'\nimport { CtlSwitch } from './form/other/CtlSwitch'\nimport { CtlNumber } from './form/input/CtlNumber'\nimport { CtlRadio } from './form/other/CtlRadio'\nimport { CtlCodeMirror } from './CtlCodeMirror'\nimport { CtlSidebar } from './CtlSidebar'\nimport { CtlXterm } from './CtlXterm'\nimport { CtlConsoleLog } from './CtlConsoleLog'\nimport webix from 'webix'\n\n// export const webix = require(\"../webix/webix\");\nwebix.i18n.setLocale('zh-CN')\n_.set(window, 'webix', webix);\n\n/**\n * 深度遍历 vjson\n * @param vjson 视图JSON\n * @param resolver 分析函数\n * @return 记录 resolver 方法返回 true 时，对象的访问路径\n */\nexport function deepTravVJson(vjson: VJson, resolver: (child: VJson) => any): Array<PathMarker> {\n  const markerList: Array<PathMarker> = []\n  deepTrav1(vjson, resolver, markerList)\n  return markerList\n}\n\n/**\n * 深度遍历 vjson 后，所有 mark 对象及访问方法\n */\nexport interface PathMarker {\n  id: number\n  keyName: string\n  object: any\n}\n\nfunction deepTrav1(obj: VJson, resolver: (child: VJson) => any, marker?: Array<PathMarker>) {\n  let isMarker = resolver(obj)\n  if (marker && isMarker === true) {\n    marker.unshift({ id: 0, keyName: '', object: obj })\n  }\n\n  _.forOwn(obj, (value, key) => {\n    if (typeof value !== 'object') {\n      return\n    }\n    if (_.has(obj, 'view') && obj.view === 'toolbar') {\n      if (key === 'dataSource' || key === 'suggest' || key === 'options') {\n        return\n      }\n    } else {\n      // 模型、数据、数据源不扫描\n      if (\n        key === 'data' ||\n        key === 'dataSource' ||\n        key === 'suggest' ||\n        key === 'options'\n      ) {\n        return\n      }\n    }\n\n    //事件不扫描\n    if (key === 'on' && _.isObject(value)) {\n      return\n    }\n    if (_.startsWith(key, 'on') && _.size(key) > 2) {\n      return\n    }\n    const isMarkerChild = deepTrav1(value, resolver, marker)\n    if (marker && isMarkerChild === true) {\n      isMarker = true\n      marker.unshift({ id: obj.id, keyName: key, object: value })\n    }\n  })\n\n  // 删除作废对象\n  _.remove(obj, (v: any) => v && v.isFiltered);\n\n  return isMarker\n}\n\n/**\n * 根据 vjson 中的 ctlName, 合并属性\n * @param vjson 原始 vjson 视图\n * @param ctlOption 要被扩展的 ctlName 属性对\n */\nexport function viewExtend(vjson: VJson, ctlOption: any): VJson {\n  // 收集所有 ctlName 属性，放到收集器的 collector.ctls\n  // 收集所有 entityName 属性，放到收集器的 collector.entity\n  const collector = {\n    ctls: {}\n  }\n\n  deepTravVJson(vjson, obj => {\n    if (obj.ctlName) {\n      _.set(collector.ctls, obj.ctlName, obj)\n    }\n  })\n\n  _.forOwn(ctlOption, (extendVJson, ctlName) => {\n    if (_.has(collector.ctls, ctlName)) {\n      _.merge(_.get(collector.ctls, ctlName), extendVJson)\n    }\n  })\n\n  return vjson\n}\n\nconst $internalHooks = ['data', 'destory', 'watches', 'computed']\n\n/**\n * 收集成员变量\n */\nfunction collectDataFromConstructor(vm: Vue, Component: any) {\n  // override _init to prevent to init as Vue instance\n  const originalInit = Component.prototype._init\n  Component.prototype._init = function (this: Vue) {\n    // proxy to actual vm\n    const keys = Object.getOwnPropertyNames(vm)\n    // 2.2.0 compat (props are no longer exposed as self properties)\n    if (vm.$options.props) {\n      for (const key in vm.$options.props) {\n        if (!vm.hasOwnProperty(key)) {\n          keys.push(key)\n        }\n      }\n    }\n    keys.forEach(key => {\n      if (key.charAt(0) !== '_') {\n        Object.defineProperty(this, key, {\n          get: () => _.get(vm, key),\n          set: value => {\n            _.set(vm, key, value)\n          },\n          configurable: true\n        })\n      }\n    })\n  }\n\n  // should be acquired class property values\n  const data = new Component()\n\n  // restore original _init to avoid memory leak (#209)\n  Component.prototype._init = originalInit\n\n  // create plain data object\n  const plainData = {}\n  Object.keys(data).forEach(key => {\n    if (data[key] !== undefined) {\n      _.set(plainData, key, data[key])\n    }\n  })\n\n  return plainData\n}\n\n/**\n * 收集成员方法\n */\nfunction collectMethods(proto: any, options: any) {\n  Object.getOwnPropertyNames(proto).forEach(key => {\n    // 如果是constructor，则不处理。\n    if (key === 'constructor') {\n      return\n    }\n\n    // 记录下每级的 viewExtend 方法\n    if (key === 'viewExtend') {\n      // options.viewExtends.push(proto[key]);\n      console.error(\n        '不支持使用 viewExtend, 请考虑使用 YvanUI.viewExtend(super.viewResolver(),{})'\n      )\n      return\n    }\n\n    // 记录下每级的 viewIntercept 方法\n    if (key === 'viewIntercept') {\n      // options.viewIntercepts.push(proto[key]);\n      console.error('不支持使用 viewIntercept, 请考虑使用 super.viewResolver()')\n      return\n    }\n\n    // 记录下每级的 onLoad 方法\n    if (key === 'onLoad') {\n      options.onLoads.push(proto[key])\n      return\n    }\n\n    // 记录下每级的 onShow 方法\n    if (key === 'onShow') {\n      options.onShows.push(proto[key])\n    }\n\n    // 如果原型属性(方法)名是vue生命周期钩子名，则直接作为钩子函数挂载在options最外层\n    if ($internalHooks.indexOf(key) > -1) {\n      options[key] = proto[key]\n      return\n    }\n\n    // 先获取到原型属性的descriptor。\n    // 在前文已提及，计算属性其实也是挂载在原型上的，所以需要对descriptor进行判断\n    const descriptor = Object.getOwnPropertyDescriptor(proto, key)!\n    if (descriptor.value !== void 0) {\n      // 如果属性值是一个function，则认为这是一个方法，挂载在methods下\n      if (typeof descriptor.value === 'function') {\n        if (!_.has(options.methods, key)) {\n          options.methods[key] = descriptor.value\n        }\n      } else {\n        // 如果不是，则认为是一个普通的data属性。\n        // 但是这是原型上，所以更类似mixins，因此挂在mixins下。\n        options.mixins.push({\n          data(this: Vue) {\n            return { [key]: descriptor.value }\n          }\n        })\n      }\n    } else if (descriptor.get || descriptor.set) {\n      // 如果value是undefined(ps：void 0 === undefined)。\n      // 且描述符具有get或者set方法，则认为是计算属性。不理解的参考我上面关于class转换成构造函数的例子\n      // 这里可能和普通的计算属性不太一样，因为一般计算属性只是用来获取值的，但这里却有setter。\n      // 不过如果不使用setter，与非class方式开发无异，但有这一步处理，在某些场景会有特效。\n      ; (options.computed || (options.computed = {}))[key] = {\n        get: descriptor.get,\n        set: descriptor.set\n      }\n    }\n  })\n}\n\n/**\n * 基础混入器\n */\nfunction createCommonMix<M, Refs, INP>() {\n  return {}\n}\n\n/**\n * 判断组件是否被删除后，是否需要预占宽度\n */\nfunction cmpNeedOccupied(code: any) {\n  switch (code.view) {\n    case 'text':\n    case 'combo':\n    case 'date':\n    case 'datetime':\n    case 'datepicker':\n    // case 'button': // button 按钮直接删除即可，不需要预占宽度\n    case 'checkbox':\n    case 'label':\n      return true;\n  }\n\n  // 高度和宽度可变的组件，不需要预占任何宽度\n  return false;\n}\n\n/**\n * 根据 vjson 格式，嵌入 yvan 组件, 生成能够为 webix 使用的 vjson\n */\nexport function wrapperWebixConfig<M, Refs, INP>(module: BaseModule<M, Refs, INP>, vjson: VJson) {\n  // 形成最终的 viewResolver 方法\n  deepTravVJson(vjson, obj => {\n\n    // 检查组件是否被过滤(不渲染)\n    let isFiltered = false;\n    const componentRenderFilter: Function = _.get(window, 'YvanUI.componentRenderFilter');\n    if (componentRenderFilter && componentRenderFilter(obj) === false) {\n      isFiltered = true;\n    }\n\n    if (isFiltered) {\n      // 组件不需要渲染\n      if (_.has(obj, 'hiddenPlaceholder')) {\n        // 如果有 hiddenPlaceholder 属性，最优先使用 hiddenPlaceholder, 替换现有的 vjson\n        const ph = obj.hiddenPlaceholder;\n        _.forOwn(obj, (v, k) => delete obj[k]);\n        _.assign(obj, ph);\n\n      } else if (cmpNeedOccupied(obj)) {\n        // 需要预占宽度的组件，变成 template\n        _.forOwn(obj, (v, k) => {\n          if (k !== 'height' && k !== 'width') {\n            delete obj[k]\n          }\n        });\n        obj.view = \"template\";\n        obj.borderless = true;\n        obj.template = \"\";\n\n      } else {\n        // 其他情况，直接告知外循环，删除本对象\n        obj.isFiltered = true;\n      }\n      return;\n    }\n\n    if (obj.view === 'iframe') {\n      return\n    }\n\n    // if (module && _.has(obj, 'id')) {\n    //   if (obj.id !== 'MainWindowFirstPage') {\n    //     console.error('禁用 ID 属性', obj)\n    //   }\n    // }\n\n    if (typeof obj.placeId === 'string') {\n      obj.id = module.instanceId + '$' + obj.placeId\n    }\n\n    if (typeof obj.view === 'string') {\n      switch (obj.view) {\n        case 'button':\n          CtlButton.create(module, obj);\n          break\n\n        case 'text':\n          CtlText.create(module, obj);\n          break\n\n        case 'number':\n        case 'counter':\n          CtlNumber.create(module, obj);\n          break\n\n        case 'datepicker':\n        case 'date':\n        case 'datetime':\n          CtlDatePicker.create(module, obj);\n          break\n\n        case 'codemirror-editor':\n          CtlCodeMirror.create(module, obj);\n          break\n\n        case 'dataview':\n          CtlDataview.create(module, obj);\n          break\n\n        case 'xterm':\n          CtlXterm.create(module, obj);\n          break\n\n        case 'xconsolelog':\n          CtlConsoleLog.create(module, obj);\n          break\n\n        case 'echarts':\n          CtlECharts.create(module, obj);\n          break\n\n        case 'sidebar':\n          CtlSidebar.create(module, obj);\n          break\n\n        case 'daterangepicker':\n        case 'daterange':\n        case 'datetimerange':\n          CtlDateRangePicker.create(module, obj);\n          break\n\n        case 'combo':\n        case 'combobox':\n          CtlCombo.create(module, obj);\n          break\n\n        case 'multicombo':\n          CtlMultiCombo.create(module, obj);\n          break\n\n        case 'search':\n        case 'searchbox':\n          CtlSearch.create(module, obj);\n          break\n\n        case 'check':\n        case 'checkbox':\n          CtlCheckBox.create(module, obj);\n          break\n\n        case 'switch':\n        case 'switchbox':\n          CtlSwitch.create(module, obj);\n          break\n\n        case 'radio':\n        case 'radiobox':\n          CtlRadio.create(module, obj);\n          break\n\n        case 'tree':\n          CtlTree.create(module, obj);\n          break\n\n        case 'treetable':\n          CtlTreeTable.create(module, obj);\n          break\n\n        case 'tabview':\n          CtlTab.create(module, obj);\n          break\n\n        case 'grid':\n          CtlGrid.create(module, obj);\n          break\n\n        case 'form':\n          CtlForm.create(module, obj);\n          break\n\n        case 'carousel':\n          CtlCarousel.create(module, obj);\n          break\n      }\n    }\n  })\n\n  if (module) {\n    vjson.$scope = module\n  }\n}\n\n/**\n * 将传统 ts Class 转换为 vue 对象.\n * 普通模块对象和 dialog 对象都要经过转换\n */\nexport function componentFactory<M, Refs, INP>(Component: BaseModule<M, Refs, INP> & any, options: any = {}): any {\n  //return VueComponent<BaseModule<M, Refs, INP>>(options)\n  if (!options.mixins) {\n    options.mixins = []\n  }\n\n  if (!options.methods) {\n    options.methods = {}\n  }\n\n  if (!options.viewExtends) {\n    options.viewExtends = []\n  }\n\n  if (!options.viewIntercepts) {\n    options.viewIntercepts = []\n  }\n\n  if (!options.onLoads) {\n    options.onLoads = []\n  }\n\n  if (!options.onShows) {\n    options.onShows = []\n  }\n\n  // 获取构造函数原型，这个原型上挂在了该类的method\n  for (\n    let proto = Component.prototype;\n    proto.constructor !== Vue;\n    proto = Object.getPrototypeOf(proto)\n  ) {\n    // 一直向上收集, 直到 Object 级\n    collectMethods(proto, options)\n  }\n\n  // 添加公共基础 MIX\n  options.mixins.push(createCommonMix<M, Refs, INP>())\n\n  // 解析 @Watch 装饰器方法，执行 watch\n  const watches = Component.prototype.watches\n  delete Component.prototype.watches\n\n  // 实例化Component构造函数，并收集其自身的(非原型上的)属性导出\n  options.mixins.push({\n    data(this: Vue) {\n      const data: any = {\n        refs: {},\n        dialog: undefined,\n        inParamter: undefined,\n        dialogParent: undefined,\n        instanceId: _.uniqueId('_mins_id_'),\n        loadFinished: false,\n        ...collectDataFromConstructor(this, Component)\n      }\n      return data\n    },\n    created(this: Vue & any) {\n      if (_.isArray(watches)) {\n        _.each(watches, (item: BizWatch) => {\n          this.$watch(item.expr, item.handler, {\n            deep: item.deep,\n            immediate: item.immediate\n          })\n          //console.log('$watch', item.expr, item.handler, { deep: item.deep, immediate: item.immediate })\n        })\n      }\n    },\n    destroyed() { },\n    methods: {\n      onLoad(this: Vue) {\n        _.each(options.onLoads, load => {\n          load.call(this)\n        })\n      },\n      onShow(this: Vue) {\n        _.each(options.onShows, load => {\n          load.call(this)\n        })\n      },\n      buildView<M, Refs, INP>(this: Vue & BaseModule<M, Refs, INP>) {\n        // 获取到 viewResolver 方法，拿到最原始的 vjson\n        const vjson: VJson = this.viewResolver()\n\n        // 与 yvan 组件进行交换，使 vjson 能被 webix 使用\n        wrapperWebixConfig(this, vjson)\n        return vjson\n      },\n      closeDialog(this: Vue & any) {\n        this.dialog.close()\n      },\n      setInParamter(this: Vue & BaseModule<M, Refs, INP> & any, inParamter: INP) {\n        this.inParamter = inParamter\n      },\n      showDialog(this: Vue & BaseModule<M, Refs, INP> & any, inParamter: INP, container: any, isFromSearchBox: boolean = false): void {\n        // 显示对话框\n        const module: any = this\n        module.inParamter = inParamter\n        module.dialogParent = container\n\n        // 获取到 viewResolver 方法，拿到最原始的 vjson\n        const vjson: any = module.viewResolver()\n        if (!_.has(vjson, 'body')) {\n          vjson.body = {\n            template: 'dialog 没有 body'\n          }\n        }else{\n          if(!_.has(vjson.body, 'padding')){\n            vjson.body.padding=10\n          }\n        }\n        // 与 yvan 组件进行交换，使 vjson 能被 webix 使用\n        wrapperWebixConfig(module, vjson.body)\n        // 构建 window\n        _.merge(vjson, {\n          view: 'window',\n          close: vjson.close === undefined ? true : vjson.close,\n          move: vjson.move === undefined ? true : vjson.move,\n          modal: vjson.modal === undefined ? true : vjson.modal,\n          position: 'center',\n          resize: vjson.resize === undefined ? true : vjson.resize,\n          head: {\n            view: \"toolbar\", margin: -4, cols: [\n              { view: \"label\", label: vjson.title, css: 'webix_header webix_win_title' },\n              {\n                view: \"icon\", icon: \"fa fa-expand\", click: function (this: any) {\n                  dialog.config.fullscreen = !dialog.config.fullscreen;\n                  if (dialog.config.fullscreen) {\n                    dialog.config.oldtop = dialog.config.top;\n                    dialog.config.oldleft = dialog.config.left;\n                    dialog.config.left = 0;\n                    dialog.config.top = 0;\n                    this.define({ icon: 'fa fa-compress' });\n                  } else {\n                    dialog.config.top = dialog.config.oldtop;\n                    dialog.config.left = dialog.config.oldleft;\n                    this.define({ icon: 'fa fa-expand' });\n                  }\n                  dialog.resize();\n                  this.refresh();\n                }\n              },\n              {\n                view: \"icon\", icon: \"fa fa-times\", title: '关闭', tooltip: '关闭', click: function () {\n                  dialog.close();\n                }\n              }\n            ]\n          },\n          on: {\n            onShow() {\n              module.onLoad()\n              module.loadFinished = true\n            },\n            onDestruct() {\n              module.onClose()\n            }\n          },\n        })\n        const dialog: any = webix.ui(vjson)\n        module._webixId = this.dialog = dialog\n        this.dialog.show();\n\n        $(this.dialog.$view).keypress((event) => {\n          if (event.keyCode === 27) {\n            module.onEsc()\n            event.stopPropagation()\n            event.preventDefault()\n            return;\n          }\n          if (event.keyCode === 13) {\n            module.onEnter()\n            if (isFromSearchBox) {\n              event.stopPropagation()\n            }\n            event.preventDefault()\n            return;\n          }\n        })\n      }\n    }\n  })\n\n  // 通过 vue.extend 生成一个 vue 类型的功能模块对象\n  const VueModule: any = Vue.extend(options)\n  return VueModule\n}\n\n/**\n * 在目标 DOM 选择器上渲染模块\n */\nexport function render<M, Refs, INP>(selector: string, baseModule: BaseModule<M, Refs, INP>) {\n  const lastHandle = _.get(window, 'LastRenderHandler')\n  if (lastHandle) {\n    lastHandle.destructor()\n    _.set(window, 'LastRenderHandler', null)\n  }\n\n  const cfg = (baseModule as any).buildView()\n  cfg.container = selector\n  baseModule._webixId = webix.ui(cfg)\n  baseModule.onLoad()\n\n  webix.event(<any>window, 'resize', () => {\n    // $$(baseModule._webixId).resize();\n    baseModule._webixId.resize()\n  })\n\n  _.set(window, 'LastRenderHandler', baseModule._webixId)\n  return baseModule._webixId\n}\n\n/**\n * 在占位空间 spaceId 上渲染 vjson\n * @param module 当前模块\n * @param spaceId 占位空间\n * @param vjson 界面描述\n */\nexport function renderPlace<M, Refs, INP>(\n  module: BaseModule<M, Refs, INP>,\n  spaceId: string,\n  vjson: VJson\n) {\n  wrapperWebixConfig(module, vjson)\n  webix.ui(vjson, webix.$$(module.instanceId + '$' + spaceId))\n}\n","import axios, { AxiosRequestConfig, AxiosResponse } from 'axios'\nimport Qs from 'qs'\n\nexport namespace Ajax {\n\n    export interface CreateAjaxOption {\n        baseUrl: string\n    }\n\n    export type MethodType = 'POST' | 'GET' | 'POST-JSON' | 'UPLOADEXCEL' | 'DOWNLOAD' | 'POST-FILE'\n\n    /**\n     * 请求参数\n     */\n    export interface Option {\n        /**\n         * url 地址\n         */\n        url: string,\n\n        /**\n         * 下载文件名\n         */\n        fileName?: string,\n\n        /**\n         * 请求方法\n         */\n        method: MethodType,\n\n        /**\n         * 上传文件（如果需要的话）\n         */\n        file?: any,\n\n        /**\n         * 请求参数\n         */\n        data?: any,\n\n        /**\n         * 请求头\n         */\n        headers?: any\n\n        /**\n         * 是否只传送 responseData\n         */\n        disableResponseData?: boolean\n    }\n\n    /**\n     * 数据响应\n     */\n    export interface Response<T> {\n        success: boolean\n        msg: string\n        data: T\n    }\n\n    export type Function = (option: Option) => Promise<Ajax.Response<any>>\n}\n\nexport function downLoad(downLoadUrl: string, filename: string, data: any, header: any) {\n    const YvanUI: any = _.get(window, 'YvanUI');\n    YvanUI.loading();\n    const createObjectURL = (object: any) => {\n        return (window.URL) ? window.URL.createObjectURL(object) : _.get(window, 'webkitURL').createObjectURL(object)\n    };\n\n    // const formData = new FormData();\n    // _.forOwn(data, (v, k) => {\n    //     formData.append(k, v);\n    // });\n    const formData = data ? Qs.stringify(data) : '';\n\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', downLoadUrl);\n    xhr.responseType = 'blob';\n    //xhr.setRequestHeader('Authorization', $.cookie('auth'))\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    if (header) {\n        _.forOwn(header, (v, k) => {\n            xhr.setRequestHeader(k, v);\n        })\n    }\n    xhr.onload = function (e: any) {\n        if (this.status === 200) {\n            const blob = this.response;\n            if (_.hasIn(window, 'navigator.msSaveOrOpenBlob')) {\n                navigator.msSaveBlob(blob, filename)\n                YvanUI.clearLoading();\n\n            } else {\n                const a = document.createElement('a');\n                const url = createObjectURL(blob);\n                a.href = url;\n                a.download = filename;\n                $('body').append(a);\n                a.click();\n                $(a).remove();\n                window.URL.revokeObjectURL(url)\n                YvanUI.clearLoading();\n            }\n        }\n    };\n    xhr.send(formData);\n}\n\n/**\n * 创建一个 Ajax 客户端\n */\nexport function createAjax(createOption: Ajax.CreateAjaxOption): Ajax.Function {\n\n    if (createOption.baseUrl) {\n        axios.defaults.baseURL = createOption.baseUrl;\n    }\n\n    return function (option: Ajax.Option) {\n\n        const ax: AxiosRequestConfig = {\n            url: option.url\n        };\n\n        if (option.method === 'DOWNLOAD') {\n            downLoad(createOption.baseUrl + option.url, option.fileName || 'file',\n                option.data, option.headers);\n            return new Promise<Ajax.Response<any>>((resolver, reject) => {\n            });\n        }\n\n        if (option.method === 'POST-JSON') {\n            ax.method = 'POST';\n            ax.headers = {\n                'Content-Type': 'application/json',\n                ...option.headers\n            };\n            ax.data = JSON.stringify(option.data)\n\n        } else if (option.method === 'POST-FILE') {\n            //TODO 刘壮. 上传文件\n            var forms = new FormData();\n            ax.headers = {\n                'Content-Type': 'multipart/form-data',\n                ...option.headers\n            };\n            _.forOwn(option.data, (value, key) => {\n                if (key === 'files') {\n                    let i = 0;\n                    _.each(value, f => {\n                        forms.append('file' + (++i), f)\n                    })\n                } else {\n                    forms.append(key, value)\n                }\n            });\n            ax.data = forms;\n            ax.method = 'POST'\n        } else if (option.method === 'POST') {\n            ax.method = 'POST';\n            ax.headers = {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                ...option.headers\n            };\n            ax.data = Qs.stringify(option.data)\n\n        } else if (option.method === 'GET') {\n            ax.method = 'GET';\n            ax.params = option.data\n            ax.headers = {\n                ...option.headers\n            }\n\n        } else {\n            throw new Error('not implements')\n        }\n\n        return new Promise<Ajax.Response<any>>((resolver, reject) => {\n            axios(ax).then((resolverRaw: AxiosResponse<any>) => {\n                resolver(resolverRaw.data)\n\n            }).catch((reason: any) => {\n                reject(reason)\n            })\n        })\n    }\n}\n","import { Ajax } from './YvanUIAjax';\n\nexport namespace Db {\n\n    export interface CreateDbOption {\n        baseUrl: string,\n        defaultDb: string,\n        ajax: Ajax.Function\n    }\n\n    export interface CompileOption {\n        sqlId: string\n    }\n\n    export interface ExecuteOption extends CompileOption {\n        params?: any\n    }\n\n    export interface QueryOption extends ExecuteOption {\n        limit?: number\n        limitOffset?: number\n        needCount?: boolean\n        filterModel?: any\n        orderByModel?: any\n    }\n\n    export interface Response extends Ajax.Response<any> {\n\n        /**\n         * 输出后台运行的实际 SQL (DEBUG 模式才会存在)\n         */\n        sql: string\n\n        /**\n         * 输出后台运行的实际 SQL参数 (DEBUG 模式才会存在)\n         */\n        params: any[]\n\n        pagination: {\n            /**\n             * 总行数\n             */\n            total?: number\n\n            /**\n             * 页大小\n             */\n            size?: number\n\n            /**\n             * 当前页\n             */\n            current?: number\n        }\n    }\n\n    export class Client {\n        private baseUrl: string;\n        private ajax: Ajax.Function;\n        private defaultDb: string;\n\n        constructor(createOption: Db.CreateDbOption) {\n            this.baseUrl = createOption.baseUrl\n            this.ajax = createOption.ajax\n            this.defaultDb = createOption.defaultDb\n        }\n\n        execute(option: Db.ExecuteOption): Promise<Db.Response> {\n            return new Promise(((resolve, reject) => {\n                const sqlTimeId = _.uniqueId('SQL')\n                console.time(sqlTimeId)\n\n                this.ajax({\n                    url: this.baseUrl + '/execute',\n                    method: 'POST-JSON',\n                    data: {\n                        db: this.defaultDb,\n                        sqlId: option.sqlId,\n                        params: option.params\n                    }\n\n                }).then((root) => {\n                    if (root && root.success) {\n                        const { sql, params: resParams, data } = root.data\n                        if (sql) {\n                            console.log('SQL-execute', { sql, resParams })\n                        }\n                        resolve(data)\n                        return\n                    }\n                    reject(root.msg)\n\n                }).catch((err) => {\n                    reject(err)\n\n                }).finally(() => {\n                    console.timeEnd(sqlTimeId)\n                })\n\n            }))\n        }\n\n        query(option: Db.QueryOption): Promise<Db.Response> {\n            return new Promise(((resolve, reject) => {\n                const sqlTimeId = _.uniqueId('SQL')\n                console.time(sqlTimeId)\n\n                this.ajax({\n                    url: this.baseUrl + '/query',\n                    method: 'POST-JSON',\n                    data: {\n                        db: this.defaultDb,\n                        filterModel: option.filterModel,\n                        orderByModel: option.orderByModel,\n                        limit: option.limit,\n                        limitOffset: option.limitOffset,\n                        needCount: option.needCount,\n                        sqlId: option.sqlId,\n                        params: option.params,\n                    }\n\n                }).then((root) => {\n                    if (root && root.success) {\n                        const { sql, params: resParams, data } = root.data\n                        if (sql) {\n                            console.log('SQL-query', { sql, resParams })\n                        }\n                        resolve(root.data)\n                        return\n                    }\n                    reject(root.msg)\n\n                }).catch((err) => {\n                    reject(err)\n\n                }).finally(() => {\n                    console.timeEnd(sqlTimeId)\n                })\n            }))\n        }\n    }\n}\n\n/**\n * 创建一个 db 客户端\n */\nexport function createDb(createOption: Db.CreateDbOption): Db.Client {\n    return new Db.Client(createOption)\n}\n","/**\n * 获取页面 URL 问号之后的参数\n */\nexport function getQueryString(): any {\n    const url = document.location.search;\n    const theRequest: any = {};\n    if (url.indexOf(\"?\") >= 0) {\n        let str = url.substr(1);\n        const strs = str.split(\"&\");\n        for (var i = 0; i < strs.length; i++) {\n            const vs = strs[i].split(\"=\");\n            theRequest[vs[0]] = unescape(vs[1]);\n        }\n    }\n    return theRequest;\n}\n\n/**\n * 统一吧下划线（字符串/对象/数组）变成驼峰命名\n */\nexport function camelCase(obj: any): any {\n    if (typeof obj === 'string') {\n        return _.camelCase(obj)\n    }\n    if (_.isArray(obj)) {\n        return _.map(obj, (item) => {\n            return camelCase(item)\n        })\n    }\n    if (typeof obj === 'object') {\n        const ret: any = {}\n        _.forOwn(obj, (value, key) => {\n            ret[_.camelCase(key)] = value\n        })\n        return ret\n    }\n    console.error('无法转换' + obj)\n}\n\n/**\n * 统一吧驼峰（字符串/对象/数组）变成下划线\n */\nexport function snakeCase(obj: any): any {\n    if (typeof obj === 'string') {\n        return _.snakeCase(obj)\n    }\n    if (_.isArray(obj)) {\n        return _.map(obj, (item) => {\n            return snakeCase(item)\n        })\n    }\n    if (typeof obj === 'object') {\n        const ret: any = {}\n        _.forOwn(obj, (value, key) => {\n            ret[_.snakeCase(key)] = value\n        })\n        return ret\n    }\n    console.error('无法转换' + obj)\n}\n\n\n/**\n * 将任意 planObject 对象，转换为 hash 描述\n */\nexport function param(obj: any): string {\n    return $.param(obj)\n}\n\n/**\n * 将 hash 描述转换为 planObject 对象\n * @param s\n */\nexport function unparam(query: string): any {\n    const queryString: any = {};\n    if (query.slice(0, 1) === \"#\") {\n        query = query.slice(1);\n    }\n    const vars = query.split(\"&\");\n    for (let i = 0; i < vars.length; i++) {\n        const pair = vars[i].split(\"=\");\n        pair[0] = decodeURIComponent(pair[0]);\n        pair[1] = decodeURIComponent(pair[1]);\n        // If first entry with this name\n        if (typeof queryString[pair[0]] === \"undefined\") {\n            queryString[pair[0]] = pair[1];\n        } else if (typeof queryString[pair[0]] === \"string\") {\n            const arr = [queryString[pair[0]], pair[1]];\n            queryString[pair[0]] = arr;\n        } else {\n            queryString[pair[0]].push(pair[1]);\n        }\n    }\n    return queryString;\n}\n","import Vue from 'vue'\nimport { componentFactory } from './YvanRender'\nimport webix from 'webix'\n\nexport type VJson = any\n\nexport type ViewExtendType<T> = {\n  [P in keyof T]?: Partial<T[P]>\n}\n\n/**\n * 业务模块接口\n */\nexport interface Module<M, Refs, INP> {\n  viewResolver(): VJson\n\n  viewIntercept?(vjson: VJson, inParamter?: INP): void\n\n  viewExtend?(inParamter?: INP): ViewExtendType<Refs>\n\n  onLoad?(): void\n}\n\nexport abstract class BaseModule<M, Refs, INP> extends Vue implements Module<M, Refs, INP> {\n  /**\n   * 组件对象引用\n   */\n  refs!: Refs\n\n  /**\n   * showDialog 带来的参数\n   */\n  inParamter!: INP\n\n  _webixId: any\n\n  /**\n   * 模块实例 ID (运行时自动创建)\n   */\n  instanceId!: string\n\n  /**\n * 模块是否加载完毕\n */\n  loadFinished!: boolean\n\n  /**\n   * 模块被渲染完成之后调用\n   */\n  onLoad(): void { }\n\n  /**\n   * 每次从隐藏状态换显出来后调用\n   */\n  onShow(): void { }\n\n  abstract viewResolver(): VJson\n\n  /**\n   * 根据名称，获取空白区域操作句柄\n   */\n  getPlace(placeId: string): any {\n    return webix.$$(_.get(this, 'instanceId') + '$' + placeId)\n  }\n\n  /**\n   * 从外部设置输入参数\n   */\n  setInParamter!: (inParamter: INP) => void\n\n  validate(entityName: string): Promise<any> {\n    return new Promise<any>((resolver, reject) => {\n      const ctlMappings: any = _.get(this, '_entityCtlMapping.' + entityName);\n\n      const result = {};\n      if (_.get(ctlMappings, '_required') === true || _.has(ctlMappings, '_validate')) {\n        const validateResult = ctlMappings._resultToShowOrHide();\n        if (validateResult) {\n          ctlMappings._showTootip(validateResult)\n          ctlMappings._showValidateError()\n          ctlMappings.focus()\n          _.set(result, ctlMappings.entityName, validateResult)\n        }\n      }\n      else {\n        let isShow = false;\n        _.forEach(ctlMappings, (ctl, key) => {\n          if (_.get(ctl, '_required') === true || _.has(ctl, '_validate')) {\n            const validateResult = ctl._resultToShowOrHide();\n            if (validateResult) {\n              ctl._showValidateError()\n              _.set(result, key, validateResult)\n              if (!isShow) {\n                isShow = true\n                ctl._showTootip(validateResult)\n                ctl.focus()\n              }\n            }\n          }\n        });\n      }\n      if (_.size(result) > 0) {\n        reject(result)\n      } else {\n        resolver(_.get(this, entityName));\n      }\n    });\n  }\n\n  /**\n   * 获取或设置 window 标题\n   */\n  set title(v: string) {\n    if (this._webixId) {\n      // webix 对象已经出现\n      this._webixId.define('title', v)\n      $(this._webixId.$view).find('.webix_win_head .webix_win_title .webix_el_box').html(v);\n      return\n    }\n    console.error('无法设置 title')\n  }\n\n  get title(): string {\n    if (this._webixId) {\n      // webix 对象已经出现\n      return <string>this._webixId.config.title;\n    }\n    return '无法获取';\n  }\n}\n\nexport abstract class BaseDialog<M, Refs, INP> extends BaseModule<M, Refs, INP> {\n  /**\n   * 对话框 DOM 对象\n   */\n  layero: any\n\n  /**\n   * 组件对象引用\n   */\n  refs!: Refs\n\n  /**\n   * 显示对话框\n   * @param inParamter 输入参数\n   * @param container 父容器\n   */\n  showDialog!: (\n    inParamter: INP,\n    container: any,\n    isFromSearchBox?: boolean\n  ) => void\n\n  /**\n   * 关闭对话框\n   */\n  closeDialog!: () => void\n\n  /**\n   * 按下 ESC 键\n   */\n  onEsc() {\n    this.closeDialog()\n  }\n\n  /**\n   * 按下 Enter 键\n   */\n  onEnter() {\n    debugger\n  }\n\n  /**\n   * 关闭后触发\n   */\n  onClose() { }\n\n  /**\n   * 对话框的父亲（打开者）\n   */\n  dialogParent!: any\n\n  /**\n   * 对话框标题\n   */\n  get title(): string {\n    return $(this.layero)\n      .find('.layui-layer-title')\n      .html()\n  }\n\n  /**\n   * 设置对话框标题\n   */\n  set title(nv: string) {\n    $(this.layero)\n      .find('.layui-layer-title')\n      .html(nv)\n  }\n\n  /**\n   * 显示进行中的状态\n   */\n  showLoading() {\n    webix.extend(this._webixId, webix.OverlayBox)\n    //this._webix.showOverlay(\"<div style='...'>There is no data</div>\");\n    this._webixId.showOverlay('Loading...')\n  }\n\n  /**\n   * 关闭进行中的状态\n   */\n  closeLoading() {\n    this._webixId.hideOverlay()\n  }\n}\n\nexport type BaseModuleType<M, Refs, INP> = typeof BaseModule\n\n/**\n * 装饰业务模块\n * @param options\n */\nexport function BizModule<M, Refs, INP>(option?: any): Function {\n  return function (Component: BaseModule<M, Refs, INP>) {\n    return componentFactory(Component, option)\n  }\n\n  // const option = {\n  //     ...createOption,\n  //     template: `<webix-ui ref='webixui' :config='viewResolver()'/>`,\n  //     ...createMixins<M, Refs, INP>(createOption)\n  // }\n\n  // return VueComponent<BaseModule<M, Refs, INP>>(option)\n}\n\nexport interface BizWatch {\n  /**\n   * 监听的表达式\n   */\n  expr: string\n\n  /**\n   * 深度监听\n   */\n  deep: boolean\n\n  /**\n   * 是否立刻执行\n   */\n  immediate: boolean\n\n  /**\n   * 执行的方法\n   */\n  handler: any\n}\n\n/**\n * 装饰字段（监听某个属性值变化）\n */\nexport function Watch(\n  propName: string,\n  deep: boolean = false,\n  immediate: boolean = false\n) {\n  if (typeof deep === 'undefined') {\n    deep = false\n  }\n  if (typeof immediate === 'undefined') {\n    immediate = false\n  }\n  return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n    if (typeof target.watches === 'undefined') {\n      target.watches = []\n    }\n    const watch: BizWatch = {\n      expr: propName,\n      deep,\n      immediate,\n      handler: descriptor.value\n    }\n    target.watches.push(watch)\n  }\n}\n","// eslint-disable-next-line import/no-extraneous-dependencies\nimport ts from 'typescript'\n\n/**\n * 导出代码生成器\n */\nexport function getTS(): typeof ts {\n    return ts;\n}\n\n/**\n * 导出代码生成器\n */\nexport function tsCodeGenerate(tsNode: ts.Node): string {\n    const resultFile = ts.createSourceFile(\n        \"someFileName.ts\",\n        \"\",\n        ts.ScriptTarget.ES2019,\n        /*setParentNodes*/ false,\n        ts.ScriptKind.TS\n    );\n    const printer = ts.createPrinter({\n        newLine: ts.NewLineKind.LineFeed\n    });\n    const result = printer.printNode(\n        ts.EmitHint.Unspecified,\n        tsNode,\n        resultFile\n    );\n\n    return result;\n}\n\n/**\n * 导出代码AST解析器\n */\nexport function tsCodeParse(content: string): ts.NodeArray<ts.Statement> {\n    const file = ts.createSourceFile(\n        \"someFileName.ts\",\n        content,\n        ts.ScriptTarget.ES2019,\n        /*setParentNodes*/ false,\n        ts.ScriptKind.TS\n    );\n    return file.statements;\n}\n\nexport function getTSDemo2(): any {\n    const resultFile = ts.createSourceFile(\n        \"someFileName.ts\",\n        contentText,\n        ts.ScriptTarget.ES2019,\n        /*setParentNodes*/ false,\n        ts.ScriptKind.TS\n    );\n\n    return resultFile;\n}\n\nexport function getTSDemo(): string {\n\n    function makeFactorialFunction() {\n\n        const functionName = ts.createIdentifier(\"factorial\");\n        const paramName = ts.createIdentifier(\"n\");\n        const parameter = ts.createParameter(\n            /*decorators*/ undefined,\n            /*modifiers*/ undefined,\n            /*dotDotDotToken*/ undefined,\n            paramName\n        );\n\n        const condition = ts.createBinary(\n            paramName,\n            ts.SyntaxKind.LessThanEqualsToken,\n            ts.createLiteral(1)\n        );\n\n        const ifBody = ts.createBlock(\n            [ts.createReturn(ts.createLiteral(1))],\n            /*multiline*/ true\n        );\n        const decrementedArg = ts.createBinary(\n            paramName,\n            ts.SyntaxKind.MinusToken,\n            ts.createLiteral(1)\n        );\n        const recurse = ts.createBinary(\n            paramName,\n            ts.SyntaxKind.AsteriskToken,\n            ts.createCall(functionName, /*typeArgs*/ undefined, [decrementedArg])\n        );\n        const statements = [\n            ts.createEnumDeclaration(\n                undefined,\n                undefined,\n                ts.createIdentifier(\"MyEnum\"),\n                [\n                    ts.createEnumMember(\n                        ts.createIdentifier(\"member\"),\n                        undefined\n                    ),\n                    ts.createEnumMember(\n                        ts.createIdentifier(\"user\"),\n                        undefined\n                    )\n                ]\n            ),\n            ts.createIf(condition, ifBody), ts.createReturn(recurse)\n        ];\n\n        return ts.createFunctionDeclaration(\n            /*decorators*/ undefined,\n            /*modifiers*/ [ts.createToken(ts.SyntaxKind.ExportKeyword)],\n            /*asteriskToken*/ undefined,\n            functionName,\n            /*typeParameters*/ undefined,\n            [parameter],\n            /*returnType*/ ts.createKeywordTypeNode(ts.SyntaxKind.NumberKeyword),\n            ts.createBlock(statements, /*multiline*/ true)\n        );\n    }\n\n    const resultFile = ts.createSourceFile(\n        \"someFileName.ts\",\n        \"\",\n        ts.ScriptTarget.ES2019,\n        /*setParentNodes*/ false,\n        ts.ScriptKind.TS\n    );\n    const printer = ts.createPrinter({\n        newLine: ts.NewLineKind.LineFeed\n    });\n    const result = printer.printNode(\n        ts.EmitHint.Unspecified,\n        makeFactorialFunction(),\n        resultFile\n    );\n\n    return result;\n}\n\nconst contentText = `export type Refs = {\n};\n\nexport default abstract class<M, INP> extends YvanUI.BaseDialog<M, Refs, INP> {\n\n    main: {\n        FADMINID:string,\n        FADMINNAME: string,\n        FADMINPHONE: string,\n        FEMAIL: string\n    } = {\n        FADMINID:'',\n        FADMINNAME: '',\n        FADMINPHONE:'',\n        FEMAIL:''\n    };\n\n    viewResolver(): any {\n        console.log(this, this.inParamter);\n\n        return {\n            title: '联系方式维护',\n            modal: true,\n            width: 400,\n            height: 200,\n            body: {\n                rows: [\n                    {\n                        view: 'text',\n                        entityName: \"main.FADMINNAME\",\n                        label: \"管理员名称\",\n                        required: true,\n                        width: 320,\n                    },\n                    {\n                        view: 'text',\n                        entityName: 'main.FADMINPHONE',\n                        label: '管理员联系方式',\n                        width: 320,\n                        required: true,\n                    },\n                    {\n                        view: 'text',\n                        entityName: \"main.FEMAIL\",\n                        label: \"联系EMAIL\",\n                        width: 320,\n                        required: true,\n                    },\n                    {\n                        cols: [\n                            {width: 110},\n                            {\n                                view: \"button\", text: \"确定\", cssType: \"primary\", width: 0,\n                                onClick: {\n                                    type: 'function',\n                                    bind: 'ok'\n                                }\n                            },\n                            {\n                                view: \"button\", text: \"取消\", cssType: 'default', width: 0,\n                                onClick: {\n                                    type: 'function',\n                                    bind: 'cancel'\n                                }\n                            }\n                        ]\n                    }\n                ]\n            }\n        }\n    }\n}`;\n","export type GroupType = 'css' | 'data' | 'bind' | 'common'\n\nexport interface PropertyValue {\n  /**\n   * 属性名\n   */\n  name: string\n\n  /**\n   * 默认值\n   */\n  default: any\n\n  /**\n   * 隶属分组\n   */\n  group: GroupType\n\n  /**\n   * 描述\n   */\n  desc: string\n\n  /**\n   * 取值范围\n   */\n  type:\n    | 'boolean'\n    | 'number'\n    | 'string'\n    | 'object'\n    | 'dataSource'\n    | 'valid'\n    | Array<string>\n}\n\nexport interface EventValue {\n  /**\n   * 属性名\n   */\n  name: string\n\n  /**\n   * 描述\n   */\n  desc: string\n}\n\nexport interface PropertyDescriptionInterface {\n  props: PropertyValue[]\n  events?: EventValue[]\n}\n\nexport class PropertyDescription {\n  propertyes: PropertyDescriptionInterface = {\n    props: [],\n    events: []\n  }\n\n  constructor(...args: PropertyDescriptionInterface[]) {\n    _.each(args, arg => {\n      this.merge(arg)\n    })\n  }\n\n  merge(pd: PropertyDescriptionInterface) {\n    this.propertyes.props = <any>(\n      _.uniqBy([...this.propertyes.props, ...pd.props], 'name')\n    )\n    if (pd.events) {\n      if (this.propertyes.events) {\n        this.propertyes.events = <any>(\n          _.uniqBy([...this.propertyes.events, ...pd.events], 'name')\n        )\n      } else {\n        this.propertyes.events = <any>_.uniqBy([...pd.events], 'name')\n      }\n    }\n  }\n\n  /**\n   * 根据分组名 获取属性定义\n   */\n  getPropsByGroup(name: GroupType): PropertyValue[] {\n    return _.filter(this.propertyes.props, i => i.group === name)\n  }\n\n  /**\n   * 获取全部事件\n   */\n  getEvents(): EventValue[] {\n    return this.propertyes.events!\n  }\n}\n","import {\n  PropertyDescription,\n  PropertyDescriptionInterface\n} from './PropertyDescription'\n\nexport const PropertyDescriptionTable = new Map<String, PropertyDescription>()\n\nPropertyDescriptionTable.set(\n  'layout',\n  new PropertyDescription({\n    props: [\n      {\n        name: 'borderless',\n        default: true,\n        group: 'css',\n        desc: '有无边框',\n        type: 'boolean'\n      },\n      {\n        name: 'type',\n        default: '',\n        group: 'css',\n        desc: '布局类型',\n        type: ['line', 'clean', 'wide', 'space', 'form']\n      }\n    ]\n  })\n)\n\nconst YvBase: PropertyDescriptionInterface = {\n  props: [\n    {\n      name: 'entityName',\n      default: '',\n      group: 'bind',\n      desc: '实体类名',\n      type: 'string'\n    },\n    {\n      name: 'ctlName',\n      default: '',\n      group: 'bind',\n      desc: '控件名',\n      type: 'string'\n    },\n    {\n      name: 'css',\n      default: '',\n      group: 'css',\n      desc: '样式类名',\n      type: 'string'\n    },\n    {\n      name: 'attr',\n      default: {},\n      group: 'css',\n      desc: 'HTML属性',\n      type: 'object'\n    },\n    {\n      name: 'render',\n      default: true,\n      group: 'common',\n      desc: '是否显示',\n      type: 'boolean'\n    },\n    {\n      name: 'padding',\n      default: undefined,\n      group: 'css',\n      desc: '内边距',\n      type: 'object'\n    },\n    {\n      name: 'margin',\n      default: undefined,\n      group: 'css',\n      desc: '外边距',\n      type: 'object'\n    },\n    {\n      name: 'ff',\n      default: 0,\n      group: 'common',\n      desc: '自动定焦时间',\n      type: 'number'\n    }\n  ],\n  events: [{ name: 'onRender', desc: '第一次控件被渲染时触发' }]\n}\n\nconst YvDataSource: PropertyDescriptionInterface = {\n  props: [\n    {\n      name: 'type',\n      default: '',\n      group: 'data',\n      desc: '数据源类型',\n      type: 'dataSource'\n    }\n  ],\n  events: [{ name: 'onDataComplete', desc: '数据绑定完成后触发' }]\n}\n\nPropertyDescriptionTable.set(\n  'template',\n  new PropertyDescription(YvBase, {\n    props: [\n      {\n        name: 'template',\n        default: '',\n        group: 'common',\n        desc: 'HTML内容',\n        type: 'string'\n      }\n    ]\n  })\n)\n\nPropertyDescriptionTable.set(\n  'text',\n  new PropertyDescription(YvBase, {\n    props: [\n      {\n        name: 'label',\n        default: '',\n        group: 'common',\n        desc: '文本描述',\n        type: 'string'\n      },\n      {\n        name: 'labelAlign',\n        default: '',\n        group: 'common',\n        desc: '描述对齐方式',\n        type: ['left', 'right', 'center']\n      },\n      {\n        name: 'labelWidth',\n        default: undefined,\n        group: 'common',\n        desc: '文本宽度',\n        type: 'number'\n      },\n      {\n        name: 'gravity',\n        default: 1,\n        group: 'common',\n        desc: '占位权重',\n        type: 'number'\n      },\n      {\n        name: 'readonly',\n        default: false,\n        group: 'common',\n        desc: '只读',\n        type: 'boolean'\n      },\n      {\n        name: 'disabled',\n        default: false,\n        group: 'common',\n        desc: '禁用',\n        type: 'boolean'\n      },\n      {\n        name: 'required',\n        default: false,\n        group: 'common',\n        desc: '必填',\n        type: 'boolean'\n      },\n      {\n        name: 'value',\n        default: '',\n        group: 'common',\n        desc: '字段值',\n        type: 'string'\n      },\n      {\n        name: 'prompt',\n        default: '请输入',\n        group: 'common',\n        desc: '水印',\n        type: 'string'\n      },\n      {\n        name: 'validType',\n        default: '',\n        group: 'common',\n        desc: '校验类型',\n        type: 'valid'\n      }\n    ]\n  })\n)\n\nPropertyDescriptionTable.set(\n  'button',\n  new PropertyDescription(YvBase, {\n    props: [\n      {\n        name: 'text',\n        default: '',\n        group: 'common',\n        desc: '按钮标题',\n        type: 'string'\n      },\n      {\n        name: 'icon',\n        default: '',\n        group: 'common',\n        desc: '图标样式',\n        type: 'string'\n      },\n      {\n        name: 'disabled',\n        default: false,\n        group: 'common',\n        desc: '是否禁用',\n        type: 'boolean'\n      },\n      {\n        name: 'gravity',\n        default: 1,\n        group: 'css',\n        desc: '占位权重',\n        type: 'number'\n      },\n      {\n        name: 'tooltip',\n        default: '',\n        group: 'common',\n        desc: '悬停提示',\n        type: 'string'\n      },\n      {\n        name: 'cssType',\n        default: 'default',\n        group: 'css',\n        desc: '样式类型',\n        type: ['default', 'primary', 'danger', 'success']\n      }\n    ],\n    events: [{ name: 'onClick', desc: '第一次控件被渲染时触发' }]\n  })\n)\n\nPropertyDescriptionTable.set(\n  'label',\n  new PropertyDescription(YvBase, {\n    props: [\n      {\n        name: 'label',\n        default: '',\n        group: 'common',\n        desc: '标签内容',\n        type: 'string'\n      },\n      {\n        name: 'align',\n        default: 'left',\n        group: 'common',\n        desc: '对齐方式',\n        type: ['left', 'right', 'center']\n      },\n      {\n        name: 'disabled',\n        default: false,\n        group: 'common',\n        desc: '是否禁用',\n        type: 'boolean'\n      },\n      {\n        name: 'width',\n        default: 100,\n        group: 'css',\n        desc: '宽度',\n        type: 'number'\n      },\n      {\n        name: 'gravity',\n        default: 1,\n        group: 'css',\n        desc: '占位权重',\n        type: 'number'\n      },\n      {\n        name: 'tooltip',\n        default: '',\n        group: 'common',\n        desc: '悬停提示',\n        type: 'string'\n      }\n    ]\n  })\n)\n\nPropertyDescriptionTable.set(\n  'tree',\n  new PropertyDescription(YvDataSource, YvBase, {\n    props: [\n      {\n        name: 'showCheckbox',\n        default: false,\n        group: 'common',\n        desc: '显示勾选',\n        type: 'boolean'\n      },\n      {\n        name: 'showLeftIcon',\n        default: true,\n        group: 'common',\n        desc: '显示左侧图标',\n        type: 'boolean'\n      },\n      {\n        name: 'showIcon',\n        default: true,\n        group: 'common',\n        desc: '显示图标',\n        type: 'boolean'\n      }\n    ],\n    events: [\n      { name: 'onNodeClick', desc: '节点被点击后触发' },\n      { name: 'onNodeDblClick', desc: '节点被双击后触发' }\n    ]\n  })\n)\n","function userComponentFactory(Component: any, name: string) {\n\n}\n\n/**\n * 自定义组件\n */\nexport function UserComponent(name: string): Function {\n    return function (Component: any) {\n        return userComponentFactory(Component, name);\n    };\n}\n\n// 自定义组件\nexport abstract class UserComponentBase<T> {\n\n    /**\n     * 执行渲染\n     */\n    abstract render(parentElement: Element): void;\n\n}\n"],"names":["componentRenderFilter","ajax","YvanUI.dbs","YvanUI.getServerPrefix","YvanUI.complexValid","YvanMessage.showTooltip","YvanMessage.hideTooltip","GridRefreshMode","YvanUI.dict","YvanUI.formatter","formatter","Terminal","FitAddon","Db","YvDataSource"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WA6BgB,eAAe,CAC7B,KAAkC,EAClC,MAAS,EACT,IAAU,EACV,KAAW;MAEX,IAAI,CAAC,KAAK,EAAE;;UAEV,OAAM;OACP;MAED,IAAM,GAAG,GAAQ,MAAM,CAAA;MACvB,IAAM,GAAG,GAAG,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,GAAG,KAAK,CAAA;MAE5D,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE;;UAE/B,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,CAAA;OACrC;MAED,IAAI,KAAK,CAAC,IAAI,KAAK,UAAU,EAAE;UAC7B,IAAM,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,CAAC,CAAA;UACzC,IAAI,OAAO,UAAU,KAAK,UAAU,EAAE;cACpC,OAAO,CAAC,KAAK,CAAC,8BAAQ,KAAK,CAAC,IAAI,kBAAK,CAAC,CAAA;cACtC,OAAM;WACP;UAED,OAAO,UAAU,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAA;OAC7C;EACH,CAAC;;;ECzDD,IAAI,UAAU,GAAG,KAAK,CAAC;AAEvB,WAAgB,UAAU;MACtB,UAAU,GAAG,IAAI,CAAC;EACtB,CAAC;AAED,WAAgB,YAAY;MACxB,OAAO,UAAU,CAAC;EACtB,CAAC;;;ECHD;MAgDE,iBAAY,KAAU;;;;UAxBf,OAAE,GAAW,CAAC,CAAA;UAyBnB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAA;UAE/B,IAAI,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE;cACpC,SAAQ;WACT;OACF;;;;MAKM,uBAAK,GAAZ;UACE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;cAChB,OAAM;WACP;UACD,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAA;OACpB;MAKD,sBAAI,4BAAO;;;;eAAX,UAAY,EAAW;cACrB,IAAI,EAAE,EAAE;kBACN,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,UAAU,CAAC,CAAA;;kBAE3C,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,CAAA;eACtC;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAA;eAC1B;WACF;;;SAAA;;;;MAKM,2BAAS,GAAhB;UACE,OAAO,IAAI,CAAC,OAAO,CAAA;OACpB;;;;MAKS,8BAAY,GAAtB,UAAuB,YAAiB,EAAE,KAAU;UAClD,IAAI,CAAC,MAAM,GAAG,YAAY,CAAA;UAC1B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAA;UAEjC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,SAAS,CAAC,CAAA;UAC/C,IAAI,CAAC,YAAY,EAAE,CAAA;UAEnB,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,YAAY,CAAC,EAAE;cAC9B,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,oBAAoB,GAAG,KAAK,CAAC,YAAY,CAAC,EAAE,IAAI,CAAC,CAAA;WACtE;OACF;MAES,gCAAc,GAAxB,UAAyB,OAAY;UAArC,iBAoCC;UAnCC,IAAI,WAAW,GAAU,EAAE,CAAA;UAC3B,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;cACtB,OAAO,CAAC,OAAO,CAAC,UAAC,IAAS;kBACxB,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAA;eAC9D,CAAC,CAAA;WACH;eACI,IAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;cAC5B,IAAI,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;kBAClC,IAAI,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;kBACnC,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;eAC7C;cACD,IAAI,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;kBAClC,IAAI,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;kBACnC,KAAK,CAAC,OAAO,CAAC,UAAC,IAAS;sBACtB,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAA;mBAC9D,CAAC,CAAC;eACJ;mBACI,IAAI,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;kBACvC,IAAI,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;kBACnC,KAAK,CAAC,OAAO,CAAC,UAAC,IAAS;sBACtB,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAA;mBAC9D,CAAC,CAAC;eACJ;mBACI,IAAI,OAAO,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE;kBAC3C,IAAI,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;kBACvC,KAAK,CAAC,OAAO,CAAC,UAAC,IAAS;sBACtB,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAA;mBAC9D,CAAC,CAAC;eACJ;mBACI,IAAI,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;kBACvC,IAAI,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;kBAClC,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAA;eAC9D;WACF;UACD,OAAO,WAAW,CAAC;OACpB;;;;MAKS,8BAAY,GAAtB;UACE,IAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAA;UACrB,IAAI,CAAC,CAAC,EAAE;cACN,OAAM;WACP;UAED,IAAI,CAAC,MAAM,GAAG,SAAS,CAAA;UACvB,IAAI,CAAC,EAAE;cACL,CAAC,CAAC,UAAU,EAAE,CAAA;WACf;UACD,IAAI,CAAC,YAAY,EAAE,CAAA;OACpB;;;;MAKS,gCAAc,GAAxB,UAAyB,KAAU;UACjC,IAAI,IAAI,CAAC,UAAU,EAAE;;cAEnB,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAAA;WAC5C;OACF;;;;MAKS,8BAAY,GAAtB;UAAA,iBAwCC;UAvCC,IAAI,YAAY,EAAE,EAAE;cAClB,OAAM;WACP;UACD,IAAI,IAAI,CAAC,MAAM,EAAE;;cAEf,IAAI,IAAI,CAAC,OAAO,EAAE;;kBAEhB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,CAAA;eACvC;cAED,IAAI,IAAI,CAAC,UAAU,EAAE;;kBAEnB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CACrC,IAAI,CAAC,UAAU,EACf,UAAC,EAAO,EAAE,EAAO;sBACf,CAAC,CAAC,GAAG,CAAC,KAAI,EAAE,OAAO,EAAE,EAAE,CAAC,CAAA;mBACzB,EACD,EAAE,SAAS,EAAE,IAAI,EAAE,CACpB,CAAA;eACF;cAED,OAAM;WACP;;UAGD,IAAI,IAAI,CAAC,OAAO,EAAE;;cAEhB,IAAI,IAAI,CAAC,OAAO,EAAE;kBAChB,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;eACvC;WACF;UAED,IAAI,IAAI,CAAC,YAAY,EAAE;;cAErB,IAAI,CAAC,YAAY,EAAE,CAAA;cACnB,OAAO,IAAI,CAAC,YAAY,CAAA;WACzB;UAED,OAAO,IAAI,CAAC,OAAO,CAAA;OACpB;MAKD,sBAAI,2BAAM;eAaV;cACE,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAA;WAChC;;;;eAfD,UAAW,EAAW;cACpB,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,EAAE,CAAA;cAC7B,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,OAAM;eACP;cAED,IAAI,EAAE,EAAE;kBACN,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAA;eACnB;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAA;eACnB;WACF;;;SAAA;MAKH,cAAC;EAAD,CAAC,IAAA;;EC1OD;;;;;AAKA,WAAgB,wBAAwB,CAAC,KAAU,EAAE,KAAe;MAEhE,IAAM,QAAQ,GAAQ,EAAE,CAAC;MAEzB,CAAC,CAAC,OAAO,gBACF,KAAK;UACR,UAAU;UACV,SAAS;UACT,YAAY;UACZ,UAAU;UAEX,UAAA,IAAI;UACH,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE;cACpB,QAAQ,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;cAC7B,OAAO,KAAK,CAAC,IAAI,CAAC,CAAA;WACrB;OACJ,CAAC,CAAC;MAEH,OAAO,QAAQ,CAAA;EACnB,CAAC;;;MCwCY,OAAO,GAAG,OAAO,CAAA;AAE9B,EAKA;;;AAGA,MAAa,GAAG,GAAgC,EAAE,CAAC;EAEnD;;;AAGA,MAAa,SAAS,GAAwC,EAAE,CAAC;EAEjE;;;AAGA,MAAa,IAAI,GAAiC,EAAE,CAAC;EAErD;;;AAGA,MAAa,SAAS,GAA2C,EAAE,CAAC;EAEpE;;;AAGA,MAAa,YAAY,GAAkD,EAAE,CAAC;EAE9E;;;;AAIA,AAAWA,+BAAqB,GAAwD,SAAS,CAAC;AAElG,WAAgB,eAAe,CAAC,GAAW;MACvC,OAAO,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,wBAAwB,CAAC,GAAG,GAAG,CAAC;EACzD,CAAC;EAED;;;;AAIA,WAAgB,MAAM,CAAC,MAA6B;MAChD,IAAI,MAAM,CAAC,IAAI,EAAE;UACbC,YAAI,GAAG,MAAM,CAAC,IAAI,CAAA;OACrB;MAED,IAAI,MAAM,CAAC,cAAc,EAAE;UACvB,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,sBAAsB,EAAE,MAAM,CAAC,cAAc,EAAE,CAAC,CAAC;OACvE;MAED,IAAI,MAAM,CAAC,GAAG,EAAE;UACZ,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;OAC7B;MAED,IAAI,MAAM,CAAC,IAAI,EAAE;UACb,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;OAC/B;MAED,IAAI,MAAM,CAAC,SAAS,EAAE;UAClB,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;OACzC;MAED,IAAI,MAAM,CAAC,SAAS,EAAE;UAClB,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;OACzC;MAED,IAAI,MAAM,CAAC,YAAY,EAAE;UACrB,CAAC,CAAC,MAAM,CAAC,YAAY,EAAE,MAAM,CAAC,YAAY,CAAC,CAAC;OAC/C;MAED,IAAI,MAAM,CAAC,qBAAqB,EAAE;UAC9BD,6BAAqB,GAAG,MAAM,CAAC,qBAAqB,CAAA;OACvD;EACL,CAAC;;EC1HD;;;AAGA,WAAgB,YAAY,CAAC,SAAiB,EAAE,MAAc,EAAE,IAAS;MACrE,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAC,MAAM;UAC9B,IAAM,IAAI,GAAkB,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;UAEzD,IAAI,CAAC;cACD,GAAG,EAAE,SAAS,GAAG,GAAG,GAAG,MAAM;cAC7B,MAAM,EAAE,WAAW;cACnB,IAAI,EAAE,IAAI;WAEb,CAAC,CAAC,IAAI,CAAC,UAAA,GAAG;cACP,OAAO,CAAC,GAAG,CAAC,CAAC;WAEhB,CAAC,CAAC,KAAK,CAAC,UAAA,CAAC;cACN,MAAM,CAAC,CAAC,CAAC,CAAC;WACb,CAAC,CAAC;OACN,CAAC,CAAA;EACN,CAAC;EAED;;;AAGA,WAAgB,YAAY,CAAsC,WAAc;MAE5E,IAAM,YAAY,GAAQ,WAAW,CAAC;MACtC,IAAM,MAAM,GAAG,EAAE,CAAC;;MAElB,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,UAAA,GAAG;UAC1B,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE;cACf,OAAO,YAAY,CAAC,YAAY,CAAC,SAAS,EAAE,GAAG,EAAE;kBAC7C,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC;eAC9C,CAAC,CAAC;WACN,CAAC,CAAC;OACN,CAAC,CAAC;MAEH,OAAgC,MAAM,CAAC;EAC3C,CAAC;;;ECnDD;MAsGE,sBAAY,GAAQ,EAAE,MAAqB,EAAE,iBAA6C;UAA1F,iBAQC;UAzGO,YAAO,GAAe,EAAE,CAAA;UAGhC,+BAA0B,GAAG,CAAC,CAAC,QAAQ,CAAC,UAAC,MAAmC;cAC1E,IAAM,IAAI,GAAG,KAAI,CAAA;cAEjB,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,IAAI,CAAA;cACvB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE;kBACjC,eAAe,EAAf,UAAgB,IAAW;sBACzB,IAAI,IAAI,CAAC,iBAAiB,EAAE;;0BAE1B,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAA;uBACjD;2BAAM;0BACL,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAA;uBACzB;sBAED,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAA;sBACxB,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,CAAA;mBAC9D;kBACD,YAAY;sBACV,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,EAAE,CAAA;sBACtB,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAA;sBACxB,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,CAAA;mBAC9D;eACF,CAAC,CAAA;WACH,CAAC,CAAC;UAEH,oBAAe,GAAG,CAAC,CAAC,QAAQ,CAAC,UAAC,MAAuC;cACnE,IAAM,IAAI,GAAG,KAAI,CAAA;;cAGjB,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,IAAI,CAAA;cAEvB,IAAI,WAAiC,CAAC;cACtC,IAAI,MAAM,CAAC,IAAI,KAAK,KAAK,EAAE;kBACzB,WAAW,GAAGE,GAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC;sBACxC,MAAM,EAAE,MAAM,CAAC,MAAM;sBACrB,SAAS,EAAE,KAAK;sBAChB,KAAK,EAAE,MAAM,CAAC,KAAK;mBACpB,CAAC,CAAA;eAEH;mBAAM,IAAI,MAAM,CAAC,IAAI,KAAK,QAAQ,EAAE;kBAC7B,IAAA,gCAAiD,EAAhD,iBAAS,EAAE,cAAqC,CAAC;kBACxD,WAAW,GAAyB,YAAY,CAACC,eAAsB,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE;sBAC1F,MAAM,EAAE,MAAM,CAAC,MAAM;sBACrB,SAAS,EAAE,KAAK;mBACjB,CAAC,CAAA;eAEH;mBAAM;kBACL,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,MAAM,CAAC,CAAC;kBACpD,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,EAAE,CAAA;kBACtB,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAA;kBACxB,OAAO;eACR;cAED,WAAW,CAAC,IAAI,CAAC,UAAA,GAAG;kBACV,IAAA,qBAAgB,EAAE,sBAAiB,CAAQ;kBAEnD,IAAI,KAAI,CAAC,iBAAiB,EAAE;;sBAE1B,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,KAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAA;mBACvD;uBAAM;sBACL,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,UAAU,CAAA;mBAC/B;kBACD,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,CAAA;eAE9D,CAAC,CAAC,KAAK,CAAC,UAAA,CAAC;kBACR,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,EAAE,CAAA;eAEvB,CAAC,CAAC,OAAO,CAAC;kBACT,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAA;eAEzB,CAAC,CAAA;WACH,CAAC,CAAC;UAyBD,IAAI,YAAY,EAAE,EAAE;cAClB,OAAM;WACP;UACD,IAAI,CAAC,GAAG,GAAG,GAAG,CAAA;UACd,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;UACpB,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAA;UAC1C,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAA;OAChC;;;;MA3BD,4CAAqB,GAArB,UAAsB,MAAmC;UACvD,IAAM,IAAI,GAAG,IAAI,CAAA;UACjB,IAAI,CAAC,MAAM,GAAG;cACZ,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,CAAA;WACxC,CAAA;UACD,IAAI,CAAC,MAAM,EAAE,CAAA;OACd;;;;MAKD,iCAAU,GAAV,UAAW,MAAuC;UAChD,IAAM,IAAI,GAAG,IAAI,CAAA;UACjB,IAAI,CAAC,MAAM,GAAG;cACZ,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAA;WAC7B,CAAA;UACD,IAAI,CAAC,MAAM,EAAE,CAAA;OACd;MAYM,2BAAI,GAAX;UAAA,iBAqDC;UApDC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;;cAEhB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAA;cACvB,OAAM;WACP;UAED,IAAI,OAAO,IAAI,CAAC,MAAM,KAAK,UAAU,EAAE;;cAErC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;cACvC,OAAM;WACP;UAED,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;;cAE1B,IAAI,CAAC,MAAM,GAAG;kBACZ,KAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,KAAI,CAAC,MAAM,CAAA;kBAC/B,KAAI,CAAC,GAAG,CAAC,WAAW,CAAC,KAAI,CAAC,GAAG,CAAC,cAAc,CAAC,CAAA;eAC9C,CAAA;cACD,IAAI,CAAC,MAAM,EAAE,CAAA;cACb,OAAM;WACP;;UAGD,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,UAAA,QAAQ;cAChC,IAAM,OAAO,GAAG,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE;kBAC3C,IAAI,KAAI,CAAC,MAAM,EAAE;sBACf,KAAI,CAAC,MAAM,EAAE,CAAA;mBACd;eACF,CAAC,CAAA;cACF,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;WAC3B,CAAC,CAAA;UAEF,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,UAAU,EAAE;;cAEnC,IAAI,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,UAAU,EAAE;kBAC1C,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;eAC7C;mBAAM;kBACL,IAAM,YAAY,GAAgC,CAAC,CAAC,GAAG,CACrD,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,MAAM,CAAC,IAAI,CACc,CAAA;kBAChC,IAAI,CAAC,YAAY,EAAE;sBACjB,OAAO,CAAC,KAAK,CAAC,gDAAW,IAAI,CAAC,MAAM,CAAC,IAAI,wBAAM,CAAC,CAAA;sBAChD,OAAM;mBACP;kBACD,IAAI,CAAC,qBAAqB,CAAC,YAAY,CAAC,CAAA;eACzC;WACF;eAAM,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,QAAQ,EAAE;cACtE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;WAC7B;eAAM;cACL,OAAO,CAAC,KAAK,CAAC,kDAAU,CAAC,CAAA;WAC1B;OACF;MAED,8BAAO,GAAP;;UAEE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,UAAA,OAAO;cAC1B,OAAO,EAAE,CAAA;WACV,CAAC,CAAA;UACF,IAAI,CAAC,MAAM,GAAG,SAAS,CAAA;UACvB,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,EAAE,CAAA;OACvB;MACH,mBAAC;EAAD,CAAC,IAAA;;ECtLM,IAAM,gBAAgB,GAAQ;MACjC,IAAI,EAAE,EAAE;MACR,IAAI,EAAE,EAAE;;MAER,IAAI,EAAE,MAAM;MACZ,SAAS,EAAE,IAAI;GAElB,CAAC;AAEF,EAAO,IAAM,kBAAkB,GAAQ,EAAE,CAAC;AAE1C,EAAO,IAAM,cAAc,GAAQ;MAC/B,YAAY,EAAE,KAAK;MACnB,YAAY,EAAE,IAAI;MAClB,QAAQ,EAAE,IAAI;GACjB,CAAC;AAEF,EAAO,IAAM,iBAAiB,GAAQ,EAErC,CAAA;AAED,EAAO,IAAM,eAAe,GAAQ,EAEnC,CAAA;AAED,EAAO,IAAM,oBAAoB,GAAQ,EAExC,CAAA;AAED,EAAO,IAAM,oBAAoB,GAAG;MAChC,IAAI,EAAE,KAAK;MACX,cAAc,EAAE,IAAI;MACpB,WAAW,EAAE,IAAI;MACjB,WAAW,EAAE,IAAI;MACjB,aAAa,EAAE,IAAI;MACnB,SAAS,EAAE,IAAI;MACf,SAAS,EAAE,EAAE,YAAY,EAAE,cAAc,EAAE;MAC3C,WAAW,EAAE;UACT,MAAM,EAAE;cACJ,KAAK,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,WAAW,CAAC;cACrC,SAAS,EAAE,CAAC,MAAM,EAAE,YAAY,EAAE,MAAM,CAAC;WAC5C;OACJ;GACJ,CAAC;EAEF,IAAM,eAAe,GAAQ;MACzB,UAAU,EAAE,GAAG;MACf,UAAU,EAAE,OAAO;;MAEnB,MAAM,EAAE,KAAK;GAChB,CAAC;AAEF,EAAO,IAAM,cAAc,gBACpB,eAAe,CACrB,CAAC;AAEF,EAAO,IAAM,gBAAgB,yBACtB,eAAe,KAClB,SAAS,EAAE,CAAC,GACf,CAAC;AAEF,EAAO,IAAM,cAAc,yBACpB,eAAe,KAClB,MAAM,EAAE,KAAK,GAChB,CAAC;AAEF,EAAO,IAAM,kBAAkB,yBACxB,eAAe;;MAElB,MAAM,EAAE,KAAK,GAChB,CAAC;AAEF,EAAO,IAAM,mBAAmB,yBACzB,eAAe;;MAElB,SAAS,EAAE,KAAK,EAChB,MAAM,EAAE,SAAS,GACpB,CAAC;AAEF,EAAO,IAAM,uBAAuB,yBAC7B,eAAe;;MAElB,SAAS,EAAE,KAAK,EAChB,MAAM,EAAE,SAAS,GACpB,CAAC;AAEF,EAAO,IAAM,eAAe,yBACrB,eAAe,KAClB,MAAM,EAAE,KAAK,GAChB,CAAC;AAEF,EAAO,IAAM,oBAAoB,yBAC1B,eAAe,KAClB,SAAS,EAAE,GAAG,EACd,MAAM,EAAE,KAAK,GAChB,CAAC;AAEF,EAAO,IAAM,gBAAgB,yBACtB,eAAe,KAClB,MAAM,EAAE,OAAO,GAClB,CAAC;AAGF,EAAO,IAAM,kBAAkB,GAAQ;;MAEnC,UAAU,EAAE,OAAO;MACnB,UAAU,EAAE,GAAG;MACf,YAAY,EAAE,GAAG;GACpB,CAAC;AAEF,EAAO,IAAM,gBAAgB,GAAQ;;MAEjC,UAAU,EAAE,OAAO;MACnB,UAAU,EAAE,GAAG;MACf,YAAY,EAAE,GAAG;GACpB,CAAC;AAEF,EAAO,IAAM,eAAe,GAAQ;MAChC,UAAU,EAAE,GAAG;MACf,UAAU,EAAE,OAAO;GACtB,CAAC;;;WCxHc,cAAc,CAAC,GAAW;MACtC,OAAO,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC,GAAG,CAAC,CAAC;EAChD,CAAC;;;;MCM4B,2BAAgB;MAA7C;UAAA,qEAmcC;;;;UAxUC,kBAAY,GAAY,KAAK,CAAA;;;;UAK7B,kBAAY,GAAY,IAAI,CAAA;;;;UAK5B,cAAQ,GAAY,IAAI,CAAA;;OA8TzB;MAlcQ,cAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,OAAO,CAAC,KAAK,CAAC,CAAA;UAC/B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,cAAc,CAAC,CAAA;UAErC,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE;;cAE/C,YAAY;cACZ,aAAa;cACb,gBAAgB;cAChB,gBAAgB;cAChB,cAAc;cACd,cAAc;cACd,UAAU;WACX,CAAC,CAAA;;UAGF,IAAI,CAAC,YAAY,GAAG,KAAK,CAAA;;UAGzB,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,MAAM,EAAE,IAAI;cACZ,UAAU,EAAE;kBACV,YAAY,EAAE,KAAK;eACpB;cACD,EAAE,EAAE;kBACF,QAAQ,EAAR;sBACE,IAAI,CAAC,YAAY,CAAC,IAAI,wBAAO,KAAK,GAAK,QAAQ,EAAG,CAAA;mBACnD;kBACD,aAAa;sBACX,IAAI,CAAC,YAAY,EAAE,CAAA;mBACpB;kBACD,WAAW,EAAX,UAAuB,EAAO;sBAC5B,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;sBAC7B,eAAe,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;mBAC9C;kBACD,cAAc,EAAd,UAA0B,EAAO;sBAC/B,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;sBAC7B,eAAe,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;mBACjD;eACF;cACD,QAAQ,EAAE,UAAU,GAAQ,EAAE,MAAW;kBACvC,IAAI,CAAC,GAAG,EAAE,CAAA;kBACV,IAAI,IAAI,CAAC,YAAY,EAAE;sBACrB,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;mBAClC;kBACD,IAAI,IAAI,CAAC,QAAQ,EAAE;sBACjB,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;mBAChC;kBACD,IAAI,IAAI,CAAC,YAAY,EAAE;sBACrB,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;mBAC9B;kBACD,CAAC,IAAI,GAAG,CAAC,KAAK,CAAA;kBACd,OAAO,CAAC,CAAA;eACT;;cAED,IAAI,EAAE;kBACJ,MAAM,EAAE,UAAU,GAAQ;sBACxB,IAAI,GAAG,CAAC,IAAI,EAAE;0BACZ,QACE,8FAA8F;8BAC9F,GAAG,CAAC,IAAI;8BACR,WAAW,EACZ;uBACF;sBACD,OAAO,EAAE,CAAA;mBACV;eACF;WACF,CAAC,CAAA;UAEF,IAAI,KAAK,CAAC,UAAU,KAAK,KAAK,IAAI,IAAI,CAAC,YAAY,EAAE;cACnD,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;WACzB;eAAM;cACL,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;WAC1B;UAED,OAAO,IAAI,CAAA;OACZ;;;;MAKD,wBAAM,GAAN,UAAO,EAAU;UACf,IAAI,CAAC,EAAE,EAAE;cACP,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;cACtB,OAAM;WACP;UAED,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAC,IAAS;cAC3B,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;cACxB,IAAM,MAAM,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAA;cAClD,OAAO,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAA;WACrF,CAAC,CAAA;OACH;MAwCD,sBAAI,0BAAK;;;;eAWT;cACE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAA;eAC/B;cACD,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;WAC9B;;;;eAhBD,UAAU,EAAO;cACf,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;eAC7B;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;eACzB;WACF;;;SAAA;MAeD,sBAAI,6BAAQ;;;;eAAZ,UAAa,EAAS;;cAEpB,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;cACtB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;WACtB;;;SAAA;MAKD,sBAAI,+BAAU;;;;eAAd;cACE,OAAO,IAAI,CAAC,WAAW,CAAA;WACxB;;;;eAKD,UAAe,EAAuB;cACpC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAA;cACrB,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;;;kBAG7B,IAAI,CAAC,iBAAiB,EAAE,CAAA;eACzB;WACF;;;SAZA;;;;MAiBM,wBAAM,GAAb;UACE,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;cACrD,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAA;WAC7B;OACF;;;;MAKM,4BAAU,GAAjB;UACE,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAA;OAChC;;;;MAKM,sBAAI,GAAX,UAAY,EAAO;UACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;OACrB;;;;MAKM,uBAAK,GAAZ;UACE,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;OACvB;;;;MAKM,4BAAU,GAAjB;UACE,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAA;OACzB;;;;MAKM,yBAAO,GAAd,UAAe,EAAO;UACpB,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;OAC/B;;;;MAKM,+BAAa,GAApB,UAAqB,EAAO;UAC1B,IAAM,GAAG,GAAG,EAAE,CAAA;UACd,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,EAAE,CAAC,CAAA;UACvC,OAAO,CAAC,EAAE;cACR,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAA;cAChC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAA;WACpC;UACD,OAAO,GAAG,CAAA;OACX;;;;MAKM,6BAAW,GAAlB,UAAmB,EAAO;UACxB,IAAM,GAAG,GAAG,EAAE,CAAA;UACd,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,EAAE,CAAC,CAAA;UACvC,OAAO,CAAC,EAAE;cACR,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;cACX,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAA;WACpC;UACD,OAAO,GAAG,CAAA;OACX;;;;MAKM,+BAAa,GAApB;UACE,OAAO,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAA;OACnC;;;;MAKM,iCAAe,GAAtB;UACE,OAAO,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,CAAA;OACrC;;;;MAKM,2BAAS,GAAhB,UAAiB,EAAO;UACtB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAA;OAC1B;;;;;MAMM,wBAAM,GAAb,UAAc,EAAO;;UAEnB,IAAI,GAAG,GAAG,EAAE,CAAA;UACZ,OAAO,GAAG,EAAE;cACV,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;cACrB,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAA;WACnC;UAED,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;OACvB;;;;MAKM,4BAAU,GAAjB,UAAkB,GAAU;UAC1B,KAAe,UAAG,EAAH,WAAG,EAAH,iBAAG,EAAH,IAAG,EAAE;cAAf,IAAI,EAAE,YAAA;cACT,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAA;WAC1B;OACF;;;;MAKM,6BAAW,GAAlB,UAAmB,EAAO;UACxB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAA;OAC5B;;;;MAKM,+BAAa,GAApB;UACE,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAA;OAChC;;;;MAKM,iCAAe,GAAtB;UAAA,iBAEC;UADC,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,UAAA,CAAC,IAAI,OAAA,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,GAAA,CAAC,CAAA;OACpE;;;;MAKM,2BAAS,GAAhB,UAAiB,EAAO;UACtB,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAA;OACjC;;;;MAKM,2BAAS,GAAhB;UACE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;OACtB;;;;MAKM,6BAAW,GAAlB;UACE,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;OACvB;;;;MAKM,sBAAI,GAAX,UAAY,SAAiC;UAC3C,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;OACpC;;MAWO,mCAAiB,GAAzB;UAAA,iBAqBC;UApBC,IAAM,WAAW,GAAG;cAClB,IAAI,KAAI,CAAC,cAAc,EAAE;kBACvB,KAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAA;kBAC7B,KAAI,CAAC,cAAc,GAAG,SAAS,CAAA;eAChC;cAED,IAAI,KAAI,CAAC,MAAM,IAAI,KAAI,CAAC,OAAO,EAAE;kBAC/B,KAAI,CAAC,cAAc,GAAG,IAAI,YAAY,CAAC,KAAI,EAAE,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAA;kBACjG,KAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAA;eAC3B;WACF,CAAA;UAED,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;;cAE9B,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAA;WAErB;eAAM;;cAEL,WAAW,EAAE,CAAA;WACd;OACF;MAEO,oCAAkB,GAA1B,UAA2B,IAAW;UACpC,IACE,CAAC,IAAI,CAAC,UAAU;cAChB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC;cAC1B,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,EAC7B;cACA,OAAO,IAAI,CAAA;WACZ;UAED,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,UAAU,EAAE;cACzE,OAAO,IAAI,CAAA;WACZ;UAED,IACE,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW;cAC5B,CAAC,IAAI,CAAC,UAAU,CAAC,YAAY;cAC7B,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,EAC3B;cACA,OAAO,IAAI,CAAA;WACZ;UAED,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAA;UAC1C,IAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAA;UAC9C,IAAM,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAA;UAE/C,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;;UAGxB,IAAM,OAAO,GAAQ,EAAE,CAAA;UACvB,IAAM,QAAQ,GAAG,EAAE,CAAA;UACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;cACpC,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;cACnB,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG;kBACtB,IAAI,EAAE,GAAG,CAAC,MAAM,CAAC;kBACjB,KAAK,EAAE,GAAG,CAAC,SAAS,CAAC;kBACrB,EAAE,EAAE,GAAG,CAAC,OAAO,CAAC;kBAChB,GAAG,EAAE,GAAG;eACT,CAAA;WACF;;UAGD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;cACpC,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;cACnB,IAAM,QAAM,GAAG,GAAG,CAAC,WAAW,CAAC,CAAA;cAC/B,IAAM,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC,CAAA;cAEvB,IAAI,CAAC,QAAM,IAAI,QAAM,KAAK,GAAG,EAAE;;kBAE7B,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAA;eAC3B;mBAAM,IAAI,OAAO,CAAC,cAAc,CAAC,QAAM,CAAC,EAAE;;kBAEzC,IAAM,UAAU,GAAG,OAAO,CAAC,QAAM,CAAC,CAAA;kBAClC,IAAI,UAAU,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;sBACrC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAA;mBAClC;uBAAM;sBACL,UAAU,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAA;mBAChC;eACF;mBAAM;;kBAEL,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAA;eAC3B;WACF;UAED,OAAO,QAAQ,CAAA;OAChB;;MAGS,8BAAY,GAAtB;UACE,iBAAM,YAAY,WAAE,CAAA;UACpB,IAAI,CAAC,iBAAiB,EAAE,CAAA;OACzB;MACH,cAAC;EAAD,CAncA,CAA6B,OAAO;;;MCFF,gCAAqB;MAAvD;UAAA,qEAsVC;;;;UAxPC,kBAAY,GAAY,KAAK,CAAA;;;;UAK7B,kBAAY,GAAY,IAAI,CAAA;;;;UAK5B,cAAQ,GAAY,IAAI,CAAA;;OA8OzB;MArVQ,mBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,YAAY,CAAC,KAAK,CAAC,CAAA;UACpC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,IAAI,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE;cACpC,SAAQ;WACT;UAED,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE;cAC/C,MAAM;cACN,YAAY;cACZ,aAAa;cACb,gBAAgB;cAChB,cAAc;cACd,cAAc;cACd,UAAU;WACX,CAAC,CAAA;;UAGF,IAAI,CAAC,YAAY,GAAG,KAAK,CAAA;;UAGzB,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,EAAE,EAAE;kBACF,QAAQ,EAAR;sBACE,IAAI,CAAC,YAAY,CAAC,IAAI,wBAAO,KAAK,GAAK,QAAQ,EAAG,CAAA;mBACnD;kBACD,aAAa;sBACX,IAAI,CAAC,YAAY,EAAE,CAAA;mBACpB;kBACD,WAAW,EAAX,UAAuB,EAAO;sBAC5B,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;sBAC7B,eAAe,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;mBAC9C;kBACD,cAAc,EAAd,UAA0B,EAAO;sBAC/B,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;sBAC7B,eAAe,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;mBACjD;eACF;cACD,QAAQ,EAAE,UAAU,GAAQ,EAAE,MAAW;kBACvC,IAAI,CAAC,GAAG,EAAE,CAAA;kBACV,IAAI,IAAI,CAAC,YAAY,EAAE;sBACrB,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;mBAClC;kBACD,IAAI,IAAI,CAAC,QAAQ,EAAE;sBACjB,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;mBAChC;kBACD,IAAI,IAAI,CAAC,YAAY,EAAE;sBACrB,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;mBAC9B;kBACD,CAAC,IAAI,GAAG,CAAC,KAAK,CAAA;kBACd,OAAO,CAAC,CAAA;eACT;cACD,UAAU,EAAE,IAAI,CAAC,YAAY;;cAE7B,IAAI,EAAE;kBACJ,MAAM,EAAE,UAAU,GAAQ;sBACxB,IAAI,GAAG,CAAC,IAAI,EAAE;0BACZ,QACE,8FAA8F;8BAC9F,GAAG,CAAC,IAAI;8BACR,WAAW,EACZ;uBACF;sBACD,OAAO,EAAE,CAAA;mBACV;eACF;WACF,CAAC,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;MAmCD,sBAAI,+BAAK;;;;eAWT;cACE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAA;eAC/B;cACD,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;WAC9B;;;;eAhBD,UAAU,EAAO;cACf,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;eAC7B;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;eACzB;WACF;;;SAAA;MAeD,sBAAI,kCAAQ;;;;eAAZ,UAAa,EAAS;cACpB,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;cACtB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;WACtB;;;SAAA;MAKD,sBAAI,oCAAU;;;;eAAd;cACE,OAAO,IAAI,CAAC,WAAW,CAAA;WACxB;;;;eAKD,UAAe,EAA4B;cACzC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAA;cACrB,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;;;kBAG7B,IAAI,CAAC,iBAAiB,EAAE,CAAA;eACzB;WACF;;;SAZA;;;;MAiBM,6BAAM,GAAb;UACE,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;cACrD,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAA;WAC7B;OACF;;;;MAKM,4BAAK,GAAZ;UACE,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;OACvB;;;;MAKM,iCAAU,GAAjB;UACE,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAA;OACzB;;;;MAKM,8BAAO,GAAd,UAAe,EAAO;UACpB,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;OAC/B;;;;MAKM,gCAAS,GAAhB,UAAiB,EAAO;UACtB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAA;OAC1B;;;;;MAMM,6BAAM,GAAb,UAAc,EAAO;UACnB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;UACxB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;OACvB;;;;MAKM,iCAAU,GAAjB,UAAkB,GAAU;UAC1B,KAAe,UAAG,EAAH,WAAG,EAAH,iBAAG,EAAH,IAAG,EAAE;cAAf,IAAI,EAAE,YAAA;cACT,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAA;WAC1B;OACF;;;;MAKM,kCAAW,GAAlB,UAAmB,EAAO;UACxB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAA;OAC5B;;;;MAKM,iCAAU,GAAjB;UACE,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAA;OAChC;;;;MAKM,gCAAS,GAAhB,UAAiB,EAAO;UACtB,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAA;OACjC;;;;MAKM,gCAAS,GAAhB;UACE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;OACtB;;;;MAKM,kCAAW,GAAlB;UACE,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;OACvB;;;;MAKM,6BAAM,GAAb,UAAc,SAA+B;UAC3C,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAA;OAC9B;;MAWO,wCAAiB,GAAzB;UAAA,iBAqBC;UApBC,IAAM,WAAW,GAAG;cAClB,IAAI,KAAI,CAAC,cAAc,EAAE;kBACvB,KAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAA;kBAC7B,KAAI,CAAC,cAAc,GAAG,SAAS,CAAA;eAChC;cAED,IAAI,KAAI,CAAC,MAAM,IAAI,KAAI,CAAC,OAAO,EAAE;kBAC/B,KAAI,CAAC,cAAc,GAAG,IAAI,YAAY,CAAC,KAAI,EAAE,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAA;kBACjG,KAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAA;eAC3B;WACF,CAAA;UAED,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;;cAE9B,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAA;WAErB;eAAM;;cAEL,WAAW,EAAE,CAAA;WACd;OACF;MAGO,yCAAkB,GAA1B,UAA2B,IAAW;UACpC,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;cACnF,OAAO,IAAI,CAAA;WACZ;UAED,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,UAAU,EAAE;cACzE,OAAO,IAAI,CAAA;WACZ;UAED,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE;cAC/D,OAAO,IAAI,CAAA;WACZ;UAED,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAA;UAC1C,IAAM,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAA;UAE/C,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;;UAGxB,IAAM,OAAO,GAAQ,EAAE,CAAA;UACvB,IAAM,QAAQ,GAAG,EAAE,CAAA;UACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;cACpC,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;cACnB,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,GAAG,CAAA;WAC5B;;UAGD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;cACpC,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;cACnB,IAAM,QAAM,GAAG,GAAG,CAAC,WAAW,CAAC,CAAA;cAC/B,IAAM,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC,CAAA;cAEvB,IAAI,CAAC,QAAM,IAAI,QAAM,KAAK,GAAG,EAAE;;kBAE7B,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAA;eAE3B;mBAAM,IAAI,OAAO,CAAC,cAAc,CAAC,QAAM,CAAC,EAAE;;kBAEzC,IAAM,UAAU,GAAG,OAAO,CAAC,QAAM,CAAC,CAAA;kBAClC,IAAI,UAAU,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;sBACrC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAA;mBAClC;uBAAM;sBACL,UAAU,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAA;mBAChC;eACF;mBAAM;;kBAEL,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAA;eAC3B;WACF;UAED,OAAO,QAAQ,CAAA;OAChB;;MAGS,mCAAY,GAAtB;UACE,iBAAM,YAAY,WAAE,CAAA;UACpB,IAAI,CAAC,iBAAiB,EAAE,CAAA;OACzB;MACH,mBAAC;EAAD,CAtVA,CAAkC,OAAO;;ECHzC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,WAAgB,iBAAiB,CAAC,MAAW,EAAE,KAAU;MACvD,IAAM,SAAS,GAAG,IAAI,GAAG,EAAe,CAAA;MAExC,SAAS,SAAS,CAAC,WAAgB;UACjC,IAAM,GAAG,GAAG,IAAI,KAAK,EAAO,CAAA;UAC5B,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,UAAA,IAAI;cACtB,IAAI,CAAC,IAAI;kBAAE,OAAM;cACjB,IAAI,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,IAAI,KAAK,GAAG,EAAE;kBACrC,GAAG,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,WAAW,EAAE,CAAC,CAAA;eACrC;cACD,IAAI,IAAI,CAAC,IAAI,EAAE;kBACb,IAAM,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAA;kBAC9B,SAAS,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;kBAE/B,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;sBAC5B,GAAG,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;mBAClE;uBAAM;sBACL,GAAG,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,IAAA,EAAE,CAAC,CAAA;mBACnC;eACF;WACF,CAAC,CAAA;UACF,OAAO,GAAG,CAAA;OACX;MAED,IAAM,OAAO,GAAG,KAAK,CAAC,EAAE,CAAC;UACvB,IAAI,EAAE,aAAa;UACnB,IAAI,EAAE,SAAS,CAAC,MAAM,CAAC;UACvB,EAAE,EAAE;cACF,eAAe,EAAE,UAAoB,EAAO;kBAC1C,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;sBACrB,eAAe,CACb,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,EACjB,IAAI,EACJ,IAAI,CAAC,UAAU,EAAE,EACjB,IAAI,CAAC,MAAM,CACZ,CAAA;mBACF;eACF;WACF;UACD,MAAM,EAAE,KAAK;OACd,CAAC,CAAA;MACF,OAAO,OAAO,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA6BhB,CAAC;;;;MCxG2B,0BAAe;MAA3C;UAAA,qEAuOC;UArKC,qBAAe,GAAG,CAAC,CAAA;;;;;UAoKnB,iBAAW,GAAQ,SAAS,CAAA;;OAC7B;MAtOQ,aAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,CAAA;UAC9B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,IAAI,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE;cACpC,SAAQ;WACT;UAED,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE;cAC/C,mBAAmB;cACnB,iBAAiB;cACjB,cAAc;cACd,aAAa;WACd,CAAC,CAAA;;UAGF,IAAI,CAAC,YAAY,GAAG,KAAK,CAAA;;UAGzB,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,EAAE,EAAE;kBACF,QAAQ,EAAR;sBACE,IAAI,CAAC,YAAY,CAAC,IAAI,wBAAO,KAAK,GAAK,QAAQ,EAAG,CAAA;sBAClD,CAAC,CAAC,KAAK,CAAC;0BACN,IAAI,QAAQ,CAAC,eAAe,GAAG,CAAC,EAAE;;8BAEhC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE,CAAA;2BACnE;0BAED,IAAI,IAAI,CAAC,WAAW,EAAE;8BACpB,IAAM,WAAW,GAAG,iBAAiB,CACnC,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,SAAS,EAAE,CACjB,CAAA;8BACD,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,KAAK,CAAC,CAAA;2BACpD;uBACF,CAAC,CAAA;mBACH;eACF;cACD,MAAM,EAAE;;kBAEN,EAAE,EAAE;sBACF,aAAa;0BACX,IAAI,CAAC,YAAY,EAAE,CAAA;uBACpB;sBACD,QAAQ,EAAR,UAAS,SAAiB;0BACxB,eAAe,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,SAAS,CAAC,CAAA;uBACpD;sBACD,cAAc,EAAd,UAAe,SAAiB;0BAC9B,eAAe,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,SAAS,CAAC,CAAA;uBACnD;mBACF;eACF;cACD,SAAS,EAAE;kBACT,SAAS,EAAE,IAAI;;eAEhB;WACF,CAAC,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;MAiBD,sBAAI,qCAAiB;;;;eAArB,UAAsB,MAAW;cAC/B,IAAI,CAAC,WAAW,GAAG,MAAM,CAAA;WAC1B;;;SAAA;;;;MAKD,yBAAQ,GAAR,UAAS,MAAkB;UAA3B,iBAWC;UAVC,IAAM,MAAM,GAAG,IAAI,KAAK,EAAO,CAAA;UAC/B,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,MAAM,EAAE,UAAA,IAAI;cAC5C,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;kBACvC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;eAC5B;WACF,CAAC,CAAA;UAEF,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,UAAA,EAAE;cACf,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,CAAA;WAC3B,CAAC,CAAA;OACH;;;;;;;MAQD,0BAAS,GAAT,UAAU,IAAY,EAAE,EAAU,EAAE,GAAQ;UAC1C,IAAM,IAAI,GAAG,IAAI,CAAA;UACjB,IAAM,GAAG,GAAG,GAAG,CAAC,SAAS,EAAE,CAAA;UAE3B,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;cAChC,MAAM,EAAE,IAAI;cACZ,KAAK,EAAE,IAAI;cACX,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE;kBACjB,EAAE,EAAE,EAAE;kBACN,EAAE,EAAE;sBACF,UAAU;0BACR,IAAI,GAAG,CAAC,OAAO,EAAE;8BACf,GAAG,CAAC,OAAO,EAAE,CAAC;2BACf;0BACD,GAAG,CAAC,QAAQ,EAAE,CAAA;0BACd,OAAO,GAAG,CAAC,cAAc,CAAA;uBAC1B;sBACD,UAAU,EAAV;0BACE,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE;8BACvB,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAA;8BACpB,GAAG,CAAC,cAAc,GAAG,IAAI,CAAA;;8BAEzB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;8BAC1D,GAAG,CAAC,MAAM,EAAE,CAAA;2BACb;0BAED,GAAG,CAAC,MAAM,EAAE,CAAA;uBACb;;;;;;;mBAOF;eACF,CAAC;WACH,CAAC,CAAA;UAEF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;UAC3B,IAAI,IAAI,CAAC,QAAQ,KAAK,CAAC,EAAE;;;cAGvB,eAAe,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,EAAE,CAAC,CAAA;WAC7C;OACF;;;;;;;MAQD,2BAAU,GAAV,UAAW,IAAY,EAAE,EAAU,EAAE,KAAU,EAAE,IAAU;UACzD,IAAM,IAAI,GAAG,IAAI,CAAA;UAEjB,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE;;cAEtB,OAAM;WACP;UAED,IAAI,KAAK,GAAG,IAAI,CAAA;UAChB,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,EAAE;cAChC,KAAK,GAAG,KAAK,CAAA;WACd;UAED,kBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,KAAK,CAAC,CAAA;UAE3C,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;cAChC,MAAM,EAAE,IAAI;cACZ,KAAK,OAAA;cACL,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE;kBACnB,EAAE,EAAE,EAAE;eACP,CAAC;WACH,CAAC,CAAA;UAEF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;UAC3B,IAAI,IAAI,CAAC,QAAQ,KAAK,CAAC,EAAE;;;cAGvB,eAAe,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,EAAE,CAAC,CAAA;WAC7C;OACF;MAKD,sBAAI,4BAAQ;;;;eAAZ;cACE,OAAO,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,MAAM,CAAC,MAAM,CAAA;WAChD;;;SAAA;;;;MAKM,0BAAS,GAAhB,UAAiB,EAAU;UACzB,IAAI,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;cAChB,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAA;cACnB,OAAO,IAAI,CAAA;WACZ;UACD,OAAO,KAAK,CAAA;OACb;;;;MAKM,yBAAQ,GAAf,UAAgB,EAAU;UACxB,IAAI,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;cAChB,OAAO,IAAI,CAAA;WACZ;UACD,OAAO,KAAK,CAAA;OACb;;;;MAKM,iCAAgB,GAAvB;UACE,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,QAAQ,EAAE,CAAA;OAC1C;MAQH,aAAC;EAAD,CAvOA,CAA4B,OAAO;;;MCAF,+BAAoB;MAArD;;OA2MC;MA1MQ,kBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC,CAAA;UACnC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,kBAAkB,CAAC,CAAA;UAEzC,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE;;cAE/C,YAAY;cACZ,cAAc;cACd,aAAa;cACb,gBAAgB;cAChB,gBAAgB;WACjB,CAAC,CAAA;;UAGF,IAAI,CAAC,YAAY,GAAG,KAAK,CAAA;;UAGzB,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,MAAM,EAAE,IAAI;cACZ,EAAE,EAAE;kBACF,QAAQ,EAAR;sBACE,IAAI,CAAC,YAAY,CAAC,IAAI,wBAAO,KAAK,GAAK,QAAQ,EAAG,CAAA;mBACnD;kBACD,aAAa;sBACX,IAAI,CAAC,YAAY,EAAE,CAAA;mBACpB;kBACD,WAAW,EAAX,UAAuB,EAAO;sBAC5B,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;sBAC7B,eAAe,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;mBAC9C;kBACD,cAAc,EAAd,UAA0B,EAAO;sBAC/B,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;sBAC7B,eAAe,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;mBACjD;kBACD,aAAa,EAAb,UAAyB,EAAO;sBAC9B,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;sBAC7B,eAAe,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;mBAC/C;eACF;WACF,CAAC,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;MA8BD,sBAAI,8BAAK;;;;eAWT;cACE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAA;eAC/B;cACD,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;WAC9B;;;;eAhBD,UAAU,EAAO;cACf,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;eAC7B;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;eACzB;WACF;;;SAAA;MAeD,sBAAI,iCAAQ;;;;eAAZ,UAAa,EAAS;;cAEpB,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;cACtB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;WACtB;;;SAAA;MAKD,sBAAI,mCAAU;;;;eAAd;cACE,OAAO,IAAI,CAAC,WAAW,CAAA;WACxB;;;;eAKD,UAAe,EAA2B;cACxC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAA;cACrB,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;;;kBAG7B,IAAI,CAAC,iBAAiB,EAAE,CAAA;eACzB;WACF;;;SAZA;;;;MAiBM,4BAAM,GAAb;UACE,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;cACrD,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAA;WAC7B;OACF;MAEM,4BAAM,GAAb,UAAc,IAAc;UAC1B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;OAC1B;;MAWO,uCAAiB,GAAzB;UAAA,iBAqBC;UApBC,IAAM,WAAW,GAAG;cAClB,IAAI,KAAI,CAAC,cAAc,EAAE;kBACvB,KAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAA;kBAC7B,KAAI,CAAC,cAAc,GAAG,SAAS,CAAA;eAChC;cAED,IAAI,KAAI,CAAC,MAAM,IAAI,KAAI,CAAC,OAAO,EAAE;kBAC/B,KAAI,CAAC,cAAc,GAAG,IAAI,YAAY,CAAC,KAAI,EAAE,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAA;kBACjG,KAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAA;eAC3B;WACF,CAAA;UAED,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;;cAE9B,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAA;WAErB;eAAM;;cAEL,WAAW,EAAE,CAAA;WACd;OACF;MAEO,wCAAkB,GAA1B,UAA2B,IAAW;UACpC,IACE,CAAC,IAAI,CAAC,UAAU;cAChB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC;cAC1B,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,EAC7B;cACA,OAAO,IAAI,CAAA;WACZ;UAED,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,UAAU,EAAE;cACzE,OAAO,IAAI,CAAA;WACZ;UAED,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE;cAC5B,OAAO,IAAI,CAAA;WACZ;UAED,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAA;UAEvC,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;;UAGxB,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,UAAA,IAAI;cACf,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,CAAA;WACxB,CAAC,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;;MAGS,kCAAY,GAAtB;UACE,iBAAM,YAAY,WAAE,CAAA;UACpB,IAAI,CAAC,iBAAiB,EAAE,CAAA;OACzB;MACH,kBAAC;EAAD,CA3MA,CAAiC,OAAO;;ECFxC;;;EAGA,KAAK,CAAC,OAAO,CACX;MACE,IAAI,EAAE,SAAS;GAChB,EACD,KAAK,CAAC,EAAE,CAAC,QAAQ,CAClB,CAAA;AAED;MAAgC,8BAAmB;MAAnD;;OA6FC;MA5FQ,iBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAA;UAC/C,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,IAAI,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE;cACpC,SAAQ;WACT;;UAGD,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;;UAGpD,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,UAAC,KAAK,EAAE,GAAG;cACzB,OAAO,KAAK,CAAC,GAAG,CAAC,CAAA;WAClB,CAAC,CAAA;UACF,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE;cACb,IAAI,EAAE,SAAS;cACf,QAAQ,EAAE,8BAA4B;cACtC,EAAE,EAAE;kBACF,aAAa,EAAE;sBACb,IAAI,CAAC,YAAY,CAAC,IAAI,wBAAO,KAAK,GAAK,QAAQ,EAAG,CAAA;sBAClD,IAAI,CAAC,aAAa,EAAE,CAAA;mBACrB;kBACD,UAAU,EAAV;sBACE,IAAI,IAAI,CAAC,eAAe,EAAE;0BACxB,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAA;0BAC9B,OAAO,IAAI,CAAC,eAAe,CAAA;uBAC5B;sBACD,IAAI,CAAC,YAAY,EAAE,CAAA;mBACpB;eACF;WACF,CAAC,CAAA;UACF,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE;cACjB,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAA;WACzB;UACD,OAAO,IAAI,CAAA;OACZ;MAQD,8BAAS,GAAT,UAAU,MAAW,EAAE,IAAU;UAAjC,iBAKC;UAJC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,CAAC,CAAA;UAC5C,CAAC,CAAC,KAAK,CAAC;cACN,KAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAA;WAC9B,CAAC,CAAA;OACH;MAED,sBAAW,8BAAM;eAAjB;cACE,OAAY,IAAI,CAAC,eAAe,CAAA;WACjC;;;SAAA;;;;;;;;;;;;;;MAgBD,2BAAM,GAAN;UACE,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAA;OAC9B;MAED,0BAAK,GAAL;UACE,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAA;OAC7B;MAKO,kCAAa,GAArB;UAAA,iBAQC;UAPC,IAAM,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAA;UAC/D,IAAI,EAAE,GAAQ,GAAG,CAAA;UACjB,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;UAEvC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,MAAW;cAC3C,eAAe,CAAC,KAAI,CAAC,OAAO,EAAE,KAAI,EAAE,MAAM,CAAC,CAAA;WAC5C,CAAC,CAAA;OACH;MACH,iBAAC;EAAD,CA7FA,CAAgC,OAAO,GA6FtC;;;EC9FD;;;;AAIA;MAA+B,6BAAkB;MAAjD;UAAA,qEAmLC;;UAXS,WAAK,GAAW,EAAE,CAAA;UAClB,WAAK,GAAW,EAAE,CAAA;;OAU3B;MAlLQ,gBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,SAAS,CAAC,KAAK,CAAC,CAAA;UACjC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,gBAAgB,CAAC,CAAA;UAEvC,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE;cAC/C,SAAS;cACT,SAAS;cACT,MAAM;cACN,OAAO;cACP,OAAO;cACP,MAAM;WACP,CAAC,CAAA;;UAGF,IAAI,CAAC,YAAY,GAAG,KAAK,CAAA;;UAGzB,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,IAAI,EAAE,MAAM;cACZ,EAAE,EAAE;kBACF,QAAQ,EAAE;sBACR,IAAI,CAAC,YAAY,CAAC,IAAI,wBAAO,KAAK,GAAK,QAAQ,EAAG,CAAA;mBACnD;kBACD,UAAU;sBACR,IAAI,CAAC,YAAY,EAAE,CAAA;mBACpB;kBACD,WAAW,EAAE;sBACX,IAAI,YAAY,EAAE,EAAE;0BAClB,OAAM;uBACP;sBACD,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,SAAS,CAAC,CAAA;mBAC/C;eACF;WACF,CAAC,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;MAYD,sBAAI,4BAAK;;;;eAAT,UAAU,EAA+B;cACvC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,EAAE,EAAE;sBACN,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;mBAC7B;uBAAM;sBACL,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAA;mBAC7B;kBACD,OAAM;eACP;cAED,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC,CAAA;cAC/B,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAA;WACrB;;;SAAA;MAKD,sBAAI,4BAAK;;;;eAAT,UAAU,EAAsB;cAC9B,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,EAAE,EAAE;sBACN,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;mBAC7B;uBAAM;sBACL,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAA;mBAC/B;kBACD,OAAM;eACP;cAED,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC,CAAA;cAC/B,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAA;WACrB;;;SAAA;MAKD,sBAAI,8BAAO;;;;eAAX,UAAY,EAAiB;cAC3B,IAAI,GAAG,GAAG,EAAE,CAAA;cACZ,QAAQ,EAAE;kBACR,KAAK,SAAS;sBACZ,GAAG,GAAG,cAAc,CAAA;sBACpB,MAAK;kBAEP,KAAK,QAAQ;sBACX,GAAG,GAAG,aAAa,CAAA;sBACnB,MAAK;kBAEP,KAAK,SAAS;sBACZ,GAAG,GAAG,cAAc,CAAA;sBACpB,MAAK;kBAEP,KAAK,SAAS;sBACZ,GAAG,GAAG,EAAE,CAAA;sBACR,MAAK;eACR;cAED,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,GAAG,EAAE;sBACP,IAAI,CAAC,YAAY,CAAC,GAAG,GAAG,GAAG,CAAA;mBAC5B;uBAAM;sBACL,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAA;mBAC7B;kBACD,OAAM;eACP;cAED,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,4BAA4B,CAAC,CAAA;cAC9D,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAA;WAC/B;;;SAAA;MAKD,sBAAI,2BAAI;;;;eAQR;cACE,OAAO,IAAI,CAAC,KAAK,CAAA;WAClB;;;;eAVD,UAAS,EAAU;cACjB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAA;cACf,IAAI,CAAC,YAAY,EAAE,CAAA;WACpB;;;SAAA;MAYD,sBAAI,2BAAI;;;;eAQR;cACE,OAAO,IAAI,CAAC,KAAK,CAAA;WAClB;;;;eAVD,UAAS,EAAU;cACjB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAA;cACf,IAAI,CAAC,YAAY,EAAE,CAAA;WACpB;;;SAAA;MAYD,sBAAI,6BAAM;;;;eAAV;cACE,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAA;WAClC;eAED,UAAW,EAAW;cACpB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,CAAC,EAAE,CAAA;kBAChC,OAAM;eACP;cACD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,EAAE,CAAC,CAAA;WACpC;;;SARA;MAeO,gCAAY,GAApB;UACE,IAAM,EAAE,GAAG,gBAAa,IAAI,CAAC,KAAK,qBAAe,IAAI,CAAC,KAAK,YAAS,CAAA;UACpE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;cAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;cAC5B,OAAM;WACP;UACD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;OACzB;MACH,gBAAC;EAAD,CAnLA,CAA+B,OAAO,GAmLrC;;;ECjJD;;;AAGA,WAAgB,OAAO,CAAC,GAAY;MAClC,YAAY,EAAE,CAAA;MACd,IAAI,CAAC,GAAG,EAAE;UACR,GAAG,GAAG,KAAK,CAAA;OACZ;MACD,IAAM,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,CAAA;MACvB,KAAK,CAAC,MAAM,CAAC,ssBAaqB,GAAG,iBAAc,CAAC,CAAA;MAEpD,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,iFAA6E,CAAC,CAAC,CAAA;EAChG,CAAC;EAED;;;AAGA,WAAgB,YAAY;MAC1B,IAAM,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,CAAA;MACvB,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,EAAE,CAAA;MACjC,KAAK,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,MAAM,EAAE,CAAC;EAC3C,CAAC;EAED;;;AAGA,WAAgB,GAAG,CAAC,OAAe;MACjC,IAAM,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,CAAA;MAEvB,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM,EAAE,CAAA;MAClC,IAAM,EAAE,GAAG,CAAC,CACV,+DAA+D;UAC/D,kCAAkC;UAClC,OAAO;UACP,cAAc,CACf,CAAA;MACD,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;MAEhB,IAAM,WAAW,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAY,CAAA;MACjD,IAAM,YAAY,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,MAAM,EAAY,CAAA;MAEnD,IAAM,WAAW,GAAG,EAAE,CAAC,KAAK,EAAY,CAAA;MACxC,IAAM,YAAY,GAAG,EAAE,CAAC,MAAM,EAAY,CAAA;MAE1C,IAAI,QAAQ,GAAG,CAAC,WAAW,GAAG,WAAW,IAAI,CAAC,CAAA;MAC9C,IAAI,SAAS,GAAG,CAAC,YAAY,GAAG,YAAY,IAAI,CAAC,CAAA;MACjD,IAAI,YAAY,GAAG,YAAY,IAAI,SAAS,GAAG,CAAC,EAAE;UAChD,SAAS,GAAG,CAAC,CAAA;OACd;MACD,IAAI,WAAW,GAAG,WAAW,IAAI,QAAQ,GAAG,CAAC,EAAE;UAC7C,QAAQ,GAAG,CAAC,CAAA;OACb;MACD,EAAE,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,SAAS,EAAE,CAAC,CAAA;MAC1C,UAAU,CAAC;UACT,EAAE,CAAC,MAAM,EAAE,CAAA;OACZ,EAAE,IAAI,CAAC,CAAA;EACV,CAAC;EAED;;;AAGA,WAAgB,WAAW,CAAC,GAAQ,EAAE,OAAe;MACnD,IAAM,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,CAAA;MACvB,IAAM,SAAS,GAAG,GAAG,CAAC,EAAE,GAAG,UAAU,CAAC;MAEtC,IAAI,KAAK,CAAC,IAAI,CAAC,MAAI,SAAW,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;UAC1C,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,MAAI,SAAW,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAA;UACvD,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,WAAW,EAAE,OAAO,CAAC,CAAC;UAClC,OAAO;OACR;MAED,IAAM,EAAE,GAAG,CAAC,CACV,4CAA4C;UAC5C,yCAAyC;UACzC,OAAO;UACP,cAAc,CACf,CAAA;MACD,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,SAAS,CAAA;MACpB,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;MAEhB,IAAM,QAAQ,GAAQ,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE,CAAA;MAClD,IAAM,MAAM,GAAQ,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,GAAG,QAAQ,CAAC,IAAI,GAAG,EAAE,CAAA;MACpE,EAAE,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,GAAG,EAAE,CAAC,CAAA;EAC9C,CAAC;AAED,WAAgB,WAAW,CAAC,GAAQ;MAClC,IAAM,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,CAAA;MACvB,IAAM,SAAS,GAAG,GAAG,CAAC,EAAE,GAAG,UAAU,CAAC;MACtC,KAAK,CAAC,IAAI,CAAC,MAAI,SAAW,CAAC,CAAC,MAAM,EAAE,CAAA;EACtC,CAAC;EAED;;;;;AAKA,WAAgB,MAAM,CAAC,KAAuB,EAAE,QAAqB;MAA9C,sBAAA,EAAA,eAAuB;MAAE,yBAAA,EAAA,aAAqB;MACnE,IAAM,GAAG,GAAQ,KAAK,CAAC,GAAG,EAAE,CAAA;MAC5B,IAAI,MAAM,GAAQ,SAAS,CAAC;MAC5B,OAAO,IAAI,OAAO,CAAS,UAAC,OAAO,EAAE,MAAM;UAEzC,SAAS,SAAS;cAChB,IAAM,KAAK,GAAS,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAE,CAAC,QAAQ,EAAE,CAAA;cACxD,IAAI,KAAK,EAAE;kBACT,OAAO,CAAC,KAAK,CAAC,CAAC;kBACf,MAAM,CAAC,KAAK,EAAE,CAAC;kBACf,OAAO;eACR;cAED,GAAG,CAAC,OAAO,CAAC,CAAC;WACd;UAED,SAAS,QAAQ;cACf,MAAM,EAAE,CAAC;cACT,MAAM,CAAC,KAAK,EAAE,CAAC;WAChB;UAED,IAAM,KAAK,GAAG;cACZ,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK;cAC1G,IAAI,EAAE,KAAK;cACX,EAAE,EAAE;kBACF,MAAM,EAAN;;sBAEQ,KAAK,CAAC,EAAE,CAAC,GAAG,CAAE,CAAC,KAAK,EAAE,CAAC;mBAC9B;eACF;cACD,IAAI,EAAE;kBACJ,IAAI,EAAE;sBACJ,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE;sBAC9D;0BACE,IAAI,EAAE;8BACJ,EAAE;8BACF;kCACE,IAAI,EAAE,QAAQ;kCACd,KAAK,EAAE,IAAI;kCACX,KAAK,EAAE,GAAG;kCACV,GAAG,EAAE,cAAc;kCACnB,KAAK,EAAE,SAAS;+BACjB;8BACD;kCACE,IAAI,EAAE,QAAQ;kCACd,KAAK,EAAE,IAAI;kCACX,KAAK,EAAE,GAAG;kCACV,GAAG,EAAE,SAAS;kCACd,KAAK,EAAE;sCACL,QAAQ,EAAE,CAAA;mCACX;+BACF;2BACF;uBACF;mBACF;eACF;WAEF,CAAC;UACF,MAAM,GAAG,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;UACzB,MAAM,CAAC,IAAI,EAAE,CAAC;UACd,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAC,CAAC;;cAE/B,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,EAAE;kBACpB,QAAQ,EAAE,CAAC;kBACX,CAAC,CAAC,cAAc,EAAE,CAAC;kBACnB,OAAO;eACR;cACD,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,EAAE;kBACpB,SAAS,EAAE,CAAC;kBACZ,CAAC,CAAC,cAAc,EAAE,CAAC;kBACnB,OAAO;eACR;WACF,CAAC,CAAA;OAEH,CAAC,CAAC;EACL,CAAC;EAED;;;;AAIA,WAAgB,KAAK,CAAC,OAAe;MACnC,KAAK,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,GAAG,CAAC,CAAC;EAC/C,CAAC;EAED;;;;AAIA,WAAgB,KAAK,CAAC,OAAe;MACnC,KAAK,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC;EACzF,CAAC;EAED;;;;AAIA,WAAgB,OAAO,CAAC,OAAe;MACrC,OAAO,IAAI,OAAO,CAAO,UAAC,OAAO,EAAE,MAAM;UACvC,KAAK,CAAC,OAAO,CAAC;cACZ,KAAK,EAAE,IAAI;cACX,IAAI,EAAE,OAAO;cACb,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI;WAEvB,CAAC,CAAC,IAAI,CAAC;cACN,OAAO,EAAE,CAAC;WAEX,CAAC,CAAC,KAAK,CAAC;cACP,MAAM,EAAE,CAAC;WACV,CAAC,CAAC;OACJ,CAAC,CAAA;EACJ,CAAC;EAED;;;;AAIA,WAAgB,QAAQ,CAAC,OAAe;MACtC,IAAM,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAA;MACtC,IAAI,CAAC,MAAM,EAAE;UACX,KAAK,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAA;OAC5D;WAAM;UACL,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAA;OAC5B;EACH,CAAC;EAED;;;;AAIA,WAAgB,UAAU,CAAC,OAAe;MACxC,IAAM,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAA;MACtC,IAAI,CAAC,MAAM,EAAE;UACX,KAAK,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAA;OAChE;WAAM;UACL,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,CAAA;OAC9B;EACH,CAAC;EAED;;;;AAIA,WAAgB,OAAO,CAAC,OAAe;MACrC,IAAM,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAA;MACtC,IAAI,CAAC,MAAM,EAAE;UACX,KAAK,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAA;OAC7D;WAAM;UACL,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;OACrB;;EAEH,CAAC;;EChTD;MAAiC,4BAAU;MAA3C;UAAA,qEA8nBC;;;;UA1YC,wBAAkB,GAAY,KAAK,CAAA;UAEnC,cAAQ,GAAW,EAAE,CAAA;;;;UAuErB,QAAE,GAAW,CAAC,CAAA;;;;UAKd,eAAS,GAAY,SAAS,CAAA;;UAqJ9B,qBAAe,GAAY,IAAI,CAAA;UAU/B,0BAAoB,GAAQ;cAC1B,IAAM,MAAM,GAAG,KAAI,CAAC,mBAAmB,EAAE,CAAC;cAC1C,IAAI,MAAM,EAAE;kBACV,KAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAA;kBACxB,KAAI,CAAC,kBAAkB,EAAE,CAAA;eAC1B;mBAAM;kBACL,KAAI,CAAC,WAAW,EAAE,CAAA;kBAClB,KAAI,CAAC,kBAAkB,EAAE,CAAA;eAC1B;WACF,CAAA;UAED,0BAAoB,GAAQ;cAC1B,IAAM,MAAM,GAAG,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;cACjD,IAAI,QAAQ,CAAC,aAAa,KAAK,MAAM,CAAC,CAAC,CAAC,EAAE;kBACxC,KAAI,CAAC,WAAW,EAAE,CAAA;eACnB;WACF,CAAA;;OA6IF;MA7nBW,0BAAO,GAAjB,UAAyC,KAAU,EAAE,EAAK;UACxD,IAAM,IAAI,GAAM,EAAE,CAAA;;UAGlB,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE;cAC/C,IAAI;cACJ,SAAS;cACT,UAAU;cACV,SAAS;cACT,WAAW;cACX,SAAS;cACT,SAAS;cACT,OAAO;cACP,SAAS;cACT,UAAU;cACV,QAAQ;cACR,WAAW;cACX,oBAAoB;cACpB,IAAI;cACJ,OAAO;cACP,YAAY;cACZ,YAAY;cACZ,UAAU;cACV,UAAU;cACV,UAAU;cACV,OAAO;cACP,QAAQ;WACT,CAAC,CAAA;;UAGF,IAAI,CAAC,YAAY,GAAG,KAAK,CAAA;UACzB,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE;cACb,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAA;WAC/B;;UAGD,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;UAExB,SAAS,SAAS,CAAC,KAAU;cAC3B,eAAe,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,KAAK,CAAC,CAAA;WAC7C;;UAGD,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,EAAE,EAAE;kBACF,QAAQ,EAAE;sBACR,IAAI,CAAC,YAAY,CAAC,IAAI,wBAAO,KAAK,GAAK,QAAQ,EAAG,CAAA;mBACnD;kBACD,aAAa,EAAE;sBACb,IAAM,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;sBAC1C,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;sBAChD,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC,CAAA;sBAC/B,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,EAAE;0BACpC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;uBACzB;sBACD,IAAM,MAAM,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAA;sBACzC,IAAI,MAAM,EAAE;0BACV,IAAI,CAAC,kBAAkB,EAAE,CAAA;uBAC1B;2BAAM;0BACL,IAAI,CAAC,kBAAkB,EAAE,CAAA;uBAC1B;sBACD,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,WAAW,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE;0BACvE,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,oBAAoB,EAAE;8BAClD,IAAI,CAAC,aAAa,CAChB,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,GAAG,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,EACvD,kBAAkB,CACnB,CAAA;2BACF;+BAAM;8BACL,IAAI,CAAC,aAAa,CAChB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC,MAAM,IAAI,CAAC,EAC/C,kBAAkB,CACnB,CAAA;2BACF;uBACF;sBACD,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,EAAE,CAAC,CAAA;sBACjC,IAAI,IAAI,CAAC,EAAE,GAAG,CAAC,EAAE;0BACf,UAAU,CAAC;8BACT,IAAI,CAAC,KAAK,EAAE,CAAA;8BACZ,IAAI,CAAC,EAAE,GAAG,CAAC,CAAA;2BACZ,EAAE,IAAI,CAAC,EAAE,CAAC,CAAA;uBACZ;mBACF;kBACD,UAAU,EAAE;sBACV,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,EAAE,CAAC,CAAA;sBACjC,IAAM,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;sBAC1C,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAA;sBACnB,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;sBACrB,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAA;sBAC1B,IAAI,CAAC,YAAY,EAAE,CAAA;sBACnB,IAAI,CAAC,WAAW,EAAE,CAAA;mBACnB;kBACD,WAAW,EAAX;sBACE,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,SAAS,CAAC,CAAA;mBAC/C;kBACD,OAAO,EAAP;sBACE,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,SAAS,CAAC,CAAA;mBAC/C;kBACD,OAAO,EAAP;sBACE,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,EAAE;0BACpC,IAAM,MAAM,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;0BAC1C,IAAI,MAAM,EAAE;8BACV,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAA;8BACxB,IAAI,CAAC,kBAAkB,EAAE,CAAA;2BAC1B;+BACI;8BACH,IAAI,CAAC,WAAW,EAAE,CAAA;8BAClB,IAAI,CAAC,kBAAkB,EAAE,CAAA;2BAC1B;uBACF;sBACD,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,SAAS,CAAC,CAAA;mBAC/C;kBACD,QAAQ,EAAR,UAAoB,QAAa,EAAE,QAAa;sBAC9C,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;;0BAE9B,OAAM;uBACP;sBACD,IAAI,IAAI,CAAC,aAAa,IAAI,OAAO,IAAI,CAAC,aAAa,KAAK,UAAU,EAAE;0BAClE,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAA;uBACvC;sBACD,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAA;sBACtC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAA;sBAC7B,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE;0BAC9B,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,oBAAoB,EAAE;8BAClD,IAAI,CAAC,aAAa,CAChB,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,GAAG,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,EACvD,kBAAkB,CACnB,CAAA;2BACF;+BAAM;8BACL,IAAI,CAAC,aAAa,CAChB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC,MAAM,IAAI,CAAC,EAC/C,kBAAkB,CACnB,CAAA;2BACF;uBACF;sBAED,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAA;mBAC/C;kBACD,MAAM,EAAN;sBACE,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,EAAE;0BACpC,IAAM,MAAM,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;0BAC1C,IAAI,MAAM,EAAE;8BACV,IAAI,CAAC,kBAAkB,EAAE,CAAA;2BAC1B;+BACI;8BACH,IAAI,CAAC,kBAAkB,EAAE,CAAA;2BAC1B;uBACF;sBACD,IAAI,CAAC,WAAW,EAAE,CAAA;sBAClB,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE;0BAC9B,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,oBAAoB,EAAE;8BAClD,IAAI,CAAC,aAAa,CAChB,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,GAAG,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,EACvD,kBAAkB,CACnB,CAAA;2BACF;+BAAM;8BACL,IAAI,CAAC,aAAa,CAChB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC,MAAM,IAAI,CAAC,EAC/C,kBAAkB,CACnB,CAAA;2BACF;uBACF;sBACD,eAAe,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,EAAE,SAAS,CAAC,CAAA;mBAC9C;eACF;WACF,CAAC,CAAA;OACH;;MAGS,6BAAU,GAApB,UAAqB,KAAU;UAC7B,OAAO,IAAI,CAAA;OACZ;;MAGS,+BAAY,GAAtB,UAAuB,KAAU;UAC/B,OAAO,KAAK,CAAA;OACb;MAID,+BAAY,GAAZ,UAAa,KAAY;UACvB,IAAI,IAAI,CAAC,YAAY,IAAI,OAAO,IAAI,CAAC,YAAY,KAAK,UAAU,EAAE;cAChE,IAAI,CAAC,YAAY,CAAE,KAAK,CAAC,MAAc,CAAC,KAAK,CAAC,CAAA;WAC/C;UAED,IACE,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,SAAS;cACnC,IAAI,CAAC,SAAS;cACd,CAAC,CAAC,IAAI,CAAE,KAAK,CAAC,MAAc,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,SAAS,EACpD;cACG,KAAK,CAAC,MAAc,CAAC,KAAK,GAAI,KAAK,CAAC,MAAc,CAAC,KAAK,CAAC,SAAS,CACnE,CAAC,EACD,IAAI,CAAC,SAAS,CACf,CAAA;WACF;UACD,IAAI,IAAI,CAAC,kBAAkB,EAAE;;cAE3B,IAAI,CAAC,KAAK,GAAI,KAAK,CAAC,MAAc,CAAC,KAAK,CAAA;WACzC;;UAGD,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAA;OAC3C;MA8CD,sBAAI,6BAAO;eAsBX;cACE,OAAO,IAAI,CAAC,QAAQ,CAAA;WACrB;eAxBD,UAAY,EAAO;cACjB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAA;cAElB,IAAI,CAAM,CAAA;cACV,IAAI,CAAC,EAAE,EAAE;kBACP,CAAC,GAAG,SAAS,CAAA;eACd;mBAAM;kBACL,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;eACnB;cAED,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,EAAE;sBACL,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,CAAC,CAAA;mBAC9B;uBAAM;sBACL,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAA;mBACjC;eACF;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAA;kBAChC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAA;eACrB;WACF;;;SAAA;MAMD,sBAAI,wBAAE;eAUN;cACE,OAAO,IAAI,CAAC,GAAG,CAAA;WAChB;eAZD,UAAO,EAAO;cACZ,IAAI,CAAC,GAAG,GAAG,EAAE,CAAA;cACb,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,EAAE,GAAG,EAAE,CAAA;eAC1B;mBAAM;;kBAEL,OAAO,CAAC,KAAK,CAAC,6BAA6B,CAAC,CAAA;eAC7C;WACF;;;SAAA;MASD,sBAAI,2BAAK;;;;eAWT;cACE,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;kBACzB,MAAM,IAAI,KAAK,CAAC,aAAa,CAAC,CAAA;eAC/B;cAED,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAA;eAC/B;cAED,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;WAC9B;;;;eArBD,UAAU,EAAO;cACf,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;eAC7B;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;eACzB;WACF;;;SAAA;MAgCD,sBAAI,2BAAK;;;;;eAAT,UAAU,EAAU;cAClB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;kBAC5B,OAAM;eACP;cAED,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC,CAAA;cAC/B,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;WACtB;;;SAAA;MAKD,sBAAI,gCAAU;;;;eAAd,UAAe,EAA+B;cAC5C,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,EAAE,CAAA;kBACjC,OAAM;eACP;cAED,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,YAAY,EAAE,EAAE,CAAC,CAAA;cACpC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;WACtB;;;SAAA;MAKD,sBAAI,8BAAQ;;;;eAAZ,UAAa,EAAW;cACtB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAA;cACnB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,EAAE,CAAA;kBAC/B,OAAM;eACP;cACD,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,EAAE,CAAA;cAC/B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,CAAC,CAAA;cAClC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;WACtB;;;SAAA;MAKD,sBAAI,gCAAU;;;;eAAd,UAAe,EAAU;cACvB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,EAAE,CAAA;kBACjC,OAAM;eACP;cAED,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,YAAY,EAAE,EAAE,CAAC,CAAA;cACpC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;WACtB;;;SAAA;MAKD,sBAAI,8BAAQ;;;;eAAZ,UAAa,EAAW;cACtB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,EAAE,CAAA;kBAC/B,OAAM;eACP;cAED,IAAI,EAAE,EAAE;kBACN,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;eACtB;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAA;eACrB;WACF;;;SAAA;MAKD,sBAAI,8BAAQ;;;;eAAZ,UAAa,EAAW;cACtB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,EAAE,CAAA;kBAC/B,OAAM;eACP;cAED,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,CAAC,CAAA;cAClC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;WACtB;;;SAAA;MAKD,sBAAI,4BAAM;;;;eAAV,UAAW,EAAU;cACnB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,EAAE,CAAA;kBAClC,OAAM;eACP;cAED,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,EAAE,CAAC,CAAA;cACrC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;WACtB;;;SAAA;MAKD,sBAAI,2BAAK;;;;eAAT,UAAU,EAAiB;cACzB,IAAI,EAAE,KAAK,MAAM,IAAI,OAAO,EAAE,KAAK,WAAW,EAAE;kBAC9C,EAAE,GAAG,SAAS,CAAA;eACf;cAED,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;kBAC5B,OAAM;eACP;cAED,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC,CAAA;cAC/B,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;WACtB;;;SAAA;MAED,gCAAa,GAAb,UAAc,IAAS,EAAE,IAAS;;OAEjC;MAED,+BAAY,GAAZ,UAAa,KAAU;UACrB,IAAI,IAAI,CAAC,QAAQ,IAAI,OAAO,IAAI,CAAC,QAAQ,KAAK,UAAU,EAAE;cACxD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;WAC5C;OACF;MAMD,sBAAI,8BAAQ;eAcZ;cACE,OAAO,IAAI,CAAC,SAAS,CAAA;WACtB;;;;;eAhBD,UAAa,EAAO;cAClB,IAAM,IAAI,GAAG,IAAI,CAAA;cACjB,IAAI,OAAO,EAAE,KAAK,UAAU,EAAE;kBAC5B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAA;eACpB;mBAAM,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;kBACjC,IAAM,EAAE,GAAG,UAAU,KAAU,EAAE,IAAS;sBACxC,IAAI,GAAG,GAAGC,YAAmB,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,CAAA;sBAE/C,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,eAAe,CAAC,CAAA;mBAChD,CAAA;kBACD,IAAI,CAAC,SAAS,GAAG,EAAE,CAAA;eACpB;WACF;;;SAAA;MAmCD,6BAAU,GAAV,UAAW,KAAU;UACnB,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;UACxE,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;OACzE;MAED,gCAAa,GAAb,UAAc,KAAU;UACtB,KAAK,CAAC,OAAO,CAAC,mBAAmB,CAAC,YAAY,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;UAC3E,KAAK,CAAC,OAAO,CAAC,mBAAmB,CAAC,YAAY,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;OAC5E;MAED,qCAAkB,GAAlB;UACE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;OACtD;MAED,qCAAkB,GAAlB;UACE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,qBAAqB,CAAC,CAAC;OACzD;MAED,8BAAW,GAAX,UAAY,GAAW;UACrBC,WAAuB,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;OACpC;MAED,8BAAW,GAAX;UACEC,WAAuB,CAAC,IAAI,CAAC,CAAC;OAC/B;MAED,sCAAmB,GAAnB;UACE,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;cACf,IAAI,IAAI,CAAC,SAAS,EAAE;kBAClB,OAAO,QAAQ,CAAC;eACjB;WACF;eACI;cACH,IAAI,IAAI,CAAC,SAAS,EAAE;;kBAElB,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;kBAC1C,IAAI,MAAM,EAAE;sBACV,OAAO,MAAM,CAAA;mBACd;eACF;WACF;UACD,OAAO,IAAI,CAAA;OACZ;MAED,gCAAa,GAAb,UACE,GAAQ,EACR,IAA8D;UAE9D,IAAI,MAAY,CAAA;UAChB,IACE,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,SAAS;cACnC,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,WAAW;cACrC,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,UAAU,EACpC;cACA,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;WAC5C;eAAM,IACL,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,eAAe;cACzC,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,oBAAoB;cAC9C,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,eAAe;cACzC,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,gBAAgB,EAC1C;cACA,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAA;WAC3D;eAAM,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,WAAW,EAAE;cAChD,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;WAC7C;eAAM;cACL,OAAO,IAAI,CAAA;WACZ;UAED,QAAQ,IAAI;cACV,KAAK,eAAe,EAAE;kBACpB,IAAI,GAAG,EAAE;sBACP,MAAM,CAAC,IAAI,CAAC,UAAC,KAAU,EAAE,IAAS;0BAChC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC;8BACV,kBAAkB,EAAE,SAAS;8BAC7B,cAAc,EAAE,SAAS;2BAC1B,CAAC,CAAA;uBACH,CAAC,CAAA;sBACF,CAAC,CAAC,MAAI,IAAI,CAAC,EAAE,cAAW,CAAC,CAAC,MAAM,EAAE,CAAA;sBAClC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CACzB,eAAY,IAAI,CAAC,EAAE,8GAAsG,GAAG,WAAQ,CACrI,CAAA;sBACD,OAAO,KAAK,CAAA;mBACb;uBAAM;sBACL,MAAM,CAAC,IAAI,CAAC,UAAC,KAAU,EAAE,IAAS;0BAChC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC;8BACV,kBAAkB,EAAE,EAAE;8BACtB,cAAc,EAAE,EAAE;2BACnB,CAAC,CAAA;uBACH,CAAC,CAAA;sBACF,CAAC,CAAC,MAAI,IAAI,CAAC,EAAE,cAAW,CAAC,CAAC,MAAM,EAAE,CAAA;sBAClC,OAAO,IAAI,CAAA;mBACZ;eACF;cACD,KAAK,iBAAiB,EAAE;kBACtB,IAAI,GAAG,EAAE;sBACP,MAAM,CAAC,IAAI,CAAC,UAAC,KAAU,EAAE,IAAS;0BAChC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC;8BACV,kBAAkB,EAAE,SAAS;8BAC7B,cAAc,EAAE,SAAS;2BAC1B,CAAC,CAAA;uBACH,CAAC,CAAA;sBACF,CAAC,CAAC,MAAI,IAAI,CAAC,EAAE,cAAW,CAAC,CAAC,MAAM,EAAE,CAAA;sBAClC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CACzB,eAAY,IAAI,CAAC,EAAE,8GAAsG,GAAG,WAAQ,CACrI,CAAA;sBACD,OAAO,KAAK,CAAA;mBACb;uBAAM;sBACL,MAAM,CAAC,IAAI,CAAC,UAAC,KAAU,EAAE,IAAS;0BAChC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC;8BACV,kBAAkB,EAAE,EAAE;8BACtB,cAAc,EAAE,EAAE;2BACnB,CAAC,CAAA;uBACH,CAAC,CAAA;sBACF,CAAC,CAAC,MAAI,IAAI,CAAC,EAAE,cAAW,CAAC,CAAC,MAAM,EAAE,CAAA;sBAClC,OAAO,IAAI,CAAA;mBACZ;eACF;cACD,KAAK,kBAAkB,EAAE;kBACvB,IAAI,GAAG,EAAE;sBACP,MAAM,CAAC,IAAI,CAAC,UAAC,KAAU,EAAE,IAAS;0BAChC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC;8BACV,cAAc,EAAE,SAAS;2BAC1B,CAAC,CAAA;uBACH,CAAC,CAAA;;;sBAGF,OAAO,KAAK,CAAA;mBACb;uBAAM;sBACL,MAAM,CAAC,IAAI,CAAC,UAAC,KAAU,EAAE,IAAS;0BAChC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC;8BACV,cAAc,EAAE,EAAE;2BACnB,CAAC,CAAA;uBACH,CAAC,CAAA;;sBAEF,OAAO,IAAI,CAAA;mBACZ;eACF;WACF;OACF;MACH,eAAC;EAAD,CA9nBA,CAAiC,OAAO,GA8nBvC;;;MCjoB4B,2BAAiB;MAA9C;;OAwDC;MAvDQ,cAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,OAAO,CAAC,KAAK,CAAC,CAAA;UAC/B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,cAAc,CAAC,CAAA;;UAGrC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;UAEzB,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,CAAC,UAAU,CAAC,CAAC,CAAA;;UAG9D,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;UAExB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,CAAA;UAEjC,OAAO,IAAI,CAAA;OACZ;MAID,sBAAI,6BAAQ;;eAAZ,UAAa,EAAO;cAClB,IAAM,IAAI,GAAG,IAAI,CAAA;cACjB,IAAI,OAAO,EAAE,KAAK,UAAU,EAAE;kBAC5B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAA;eACpB;mBAAM,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;kBACjC,IAAM,EAAE,GAAG,UAAU,KAAU,EAAE,IAAS;sBACxC,IAAI,GAAG,GAAGF,YAAmB,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,CAAA;sBAC/C,IAAM,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;sBACjD,IAAI,GAAG,EAAE;0BACP,MAAM,CAAC,IAAI,CAAC,UAAC,KAAK,EAAE,IAAI;8BACtB,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC;kCACV,kBAAkB,EAAE,SAAS;kCAC7B,cAAc,EAAE,SAAS;+BAC1B,CAAC,CAAA;2BACH,CAAC,CAAA;0BACF,CAAC,CAAC,MAAI,IAAI,CAAC,EAAE,cAAW,CAAC,CAAC,MAAM,EAAE,CAAA;0BAClC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CACzB,eAAY,IAAI,CAAC,EAAE,8GAAsG,GAAG,WAAQ,CACrI,CAAA;0BACD,OAAO,KAAK,CAAA;uBACb;2BAAM;0BACL,MAAM,CAAC,IAAI,CAAC,UAAC,KAAK,EAAE,IAAI;8BACtB,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC;kCACV,kBAAkB,EAAE,EAAE;kCACtB,cAAc,EAAE,EAAE;+BACnB,CAAC,CAAA;2BACH,CAAC,CAAA;0BACF,CAAC,CAAC,MAAI,IAAI,CAAC,EAAE,cAAW,CAAC,CAAC,MAAM,EAAE,CAAA;0BAClC,OAAO,IAAI,CAAA;uBACZ;mBACF,CAAA;kBACD,IAAI,CAAC,SAAS,GAAG,EAAE,CAAA;eACpB;WACF;;;SAAA;MACH,cAAC;EAAD,CAxDA,CAA6B,QAAQ;;;MCDJ,+BAAqB;MAAtD;UAAA,qEAyGC;UAjFS,mBAAa,GAAY,IAAI,CAAA;UAC7B,YAAM,GAAW,EAAE,CAAA;;OAgF5B;MAxGQ,kBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC,CAAA;UACnC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,kBAAkB,CAAC,CAAA;;UAGzC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;UAEzB,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC,CAAA;;UAG3E,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,IAAI,EAAE,UAAU;cAChB,EAAE,EAAE,EAAE;WACP,CAAC,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;MAQD,sBAAI,qCAAY;;;;eAAhB;cACE,OAAO,IAAI,CAAC,aAAa,CAAA;WAC1B;eAED,UAAiB,EAAW;cAC1B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAA;cACvB,IAAI,CAAC,aAAa,EAAE,CAAA;WACrB;;;SALA;MAUD,sBAAI,8BAAK;;;;eAAT;cACE,OAAO,IAAI,CAAC,MAAM,CAAA;WACnB;eAED,UAAU,EAAU;cAClB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAA;cAChB,IAAI,CAAC,aAAa,EAAE,CAAA;WACrB;;;SALA;MAOO,mCAAa,GAArB;UACE,IAAM,EAAE,GAAG,IAAI,CAAC,MAAM,CAAA;UACtB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;cAChB,IAAI,IAAI,CAAC,aAAa,EAAE;kBACtB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;kBAC5B,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,EAAE,CAAA;kBACjC,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,CAAC,CAAA;eACjC;mBAAM;kBACL,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;kBAC5B,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,EAAE,CAAA;eAClC;WACF;eAAM;cACL,IAAI,IAAI,CAAC,aAAa,EAAE;kBACtB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;sBACjB,KAAK,EAAE,EAAE;sBACT,UAAU,EAAE,EAAE;mBACf,CAAC,CAAA;eACH;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;sBACjB,KAAK,EAAE,EAAE;sBACT,UAAU,EAAE,EAAE;mBACf,CAAC,CAAA;eACH;cACD,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;WACtB;OACF;;;;MAKD,4BAAM,GAAN;UACE,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAA;OACrB;MAKD,sBAAI,8BAAK;;;;eAWT;cACE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAA;eAC/B;cACD,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;WAC9B;;;;eAhBD,UAAU,EAAO;cACf,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;eAC7B;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,CAAA;eAC7B;WACF;;;SAAA;MAWH,kBAAC;EAAD,CAzGA,CAAiC,QAAQ;;ECIzC;;;AAGA;MAA8B,4BAAkB;MAAhD;;OAsKC;MArKQ,eAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAA;UAChC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,eAAe,CAAC,CAAA;;UAGtC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;UAEzB,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC,CAAA;;UAG3E,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;UAExB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,CAAA;UAEjC,OAAO,IAAI,CAAA;OACZ;MAUD,sBAAI,6BAAO;;;;eAAX,UAAY,EAAS;cACnB,IAAM,OAAO,GAAQ;kBACnB,MAAM,EAAN,UAAO,IAAS,EAAE,UAAkB;sBAClC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;0BAC3B,OAAO,IAAI,CAAA;uBACZ;sBACD,IAAM,MAAM,GAAG,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,CAAA;sBACtD,QACE,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC;0BAC7C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,EACnC;mBACF;kBACD,IAAI,EAAE;sBACJ,QAAQ,EAAE,QAAQ;sBAClB,IAAI,EAAE;0BACJ,MAAM,EAAE,EAAE;uBACX;sBACD,IAAI,EAAE,EAAE;mBACT;eACF,CAAA;cAED,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,EAAE;sBACzB,IAAI,EAAE,OAAO;sBACb,OAAO,SAAA;mBACR,CAAC,CAAA;kBACF,OAAM;eACP;cACD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,CAAA;cACtC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;WACtB;;;SAAA;;;;MAKD,0BAAO,GAAP;UACE,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;OAC7B;MAKD,sBAAI,8BAAQ;;;;eAAZ,UAAa,EAAS;cACpB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAA;WAClB;;;SAAA;MAKD,sBAAI,gCAAU;;;;eAAd;cACE,OAAO,IAAI,CAAC,WAAW,CAAA;WACxB;;;;eAKD,UAAe,EAAwB;cACrC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAA;cACrB,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;;;kBAG7B,IAAI,CAAC,iBAAiB,EAAE,CAAA;eACzB;WACF;;;SAZA;;;;MAiBM,yBAAM,GAAb;UACE,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;cACrD,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAA;WAC7B;OACF;;MAWO,oCAAiB,GAAzB;UAAA,iBAyBC;UAxBC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;cACjB,OAAO;WACR;UAED,IAAM,WAAW,GAAG;cAClB,IAAI,KAAI,CAAC,cAAc,EAAE;kBACvB,KAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAA;kBAC7B,KAAI,CAAC,cAAc,GAAG,SAAS,CAAA;eAChC;cAED,IAAI,KAAI,CAAC,MAAM,IAAI,KAAI,CAAC,OAAO,EAAE;kBAC/B,KAAI,CAAC,cAAc,GAAG,IAAI,YAAY,CAAC,KAAI,EAAE,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAA;kBACjG,KAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAA;eAC3B;WACF,CAAA;UAED,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;;cAE9B,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAA;WAErB;eAAM;;cAEL,WAAW,EAAE,CAAA;WACd;OACF;MAEO,qCAAkB,GAA1B,UAA2B,IAAW;UACpC,IACE,CAAC,IAAI,CAAC,UAAU;cAChB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC;cAC1B,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,EAC7B;cACA,OAAO,IAAI,CAAA;WACZ;UAED,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,KAAK,EAAE;cAClC,OAAO,IAAI,CAAA;WACZ;UAED,IAAM,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,IAAI,MAAM,CAAA;UAC3D,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,IAAI,IAAI,CAAA;UACrD,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,UAAA,IAAI;cACrB,OAAO;kBACL,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC;kBACpB,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC;eACzB,CAAA;WACF,CAAC,CAAA;OACH;;MAGS,+BAAY,GAAtB;UACE,iBAAM,YAAY,WAAE,CAAA;UACpB,IAAI,CAAC,iBAAiB,EAAE,CAAA;OACzB;MACH,eAAC;EAAD,CAtKA,CAA8B,QAAQ;;;MCPH,iCAAuB;MAA1D;;OAmFC;MAlFQ,oBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,aAAa,CAAC,KAAK,CAAC,CAAA;UACrC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,IAAM,UAAU,GAAQ,EAAE,CAAA;UAC1B,IAAI,KAAK,CAAC,IAAI,KAAK,UAAU,EAAE;;cAE7B,UAAU,CAAC,MAAM,GAAG,mBAAmB,CAAA;cACvC,UAAU,CAAC,UAAU,GAAG,IAAI,CAAA;cAC5B,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,kBAAkB,CAAC,CAAA;WAC1C;eAAM;;cAEL,UAAU,CAAC,MAAM,GAAG,UAAU,CAAA;cAC9B,UAAU,CAAC,UAAU,GAAG,KAAK,CAAA;cAC7B,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,cAAc,CAAC,CAAA;WACtC;;UAGD,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;UAEzB,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;;UAGpD,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;UAExB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,sBAC9B,QAAQ,EAAE,IAAI,EACd,YAAY,EAAE,IAAI,EAClB,IAAI,EAAE,YAAY,IACf,UAAU,KACb,EAAE,EAAE,EAAE,IACN,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;MAMD,sBAAI,gCAAK;;;;eAWT;cACE,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAA;cAC5E,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,UAAU,EAAE;;kBAElC,OAAO,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,CAAA;eACvC;mBAAM;;kBAEL,OAAO,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,CAAA;eACvC;WACF;;;;;eApBD,UAAU,EAAO;cACf,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;eAC7B;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;eACzB;WACF;;;SAAA;;;MAmBS,oCAAY,GAAtB,UAAuB,KAAU;UAC/B,IAAM,MAAM,GAAQ,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAA;UAC3C,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;cACnB,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAA;cAErB,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,UAAU,EAAE;;kBAElC,KAAK,GAAG,KAAK,CAAC,OAAO,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,qBAAqB,CAAC,GAAG,EAAE,CAAA;eACnE;mBAAM;;kBAEL,KAAK,GAAG,KAAK,CAAC,OAAO,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,EAAE,CAAA;eAC1D;cAED,OAAO,KAAK,CAAA;WACb;UACD,OAAO,KAAK,CAAA;OACb;MACH,oBAAC;EAAD,CAnFA,CAAmC,QAAQ;;;MCGH,sCAA4B;MAApE;UAAA,qEA6IC;;UAlGC,qBAAe,GAAW,EAAE,CAAA;UAC5B,mBAAa,GAAW,EAAE,CAAA;;OAiG3B;MA5IQ,yBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,kBAAkB,CAAC,KAAK,CAAC,CAAA;UAC1C,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,IAAM,UAAU,GAAQ,EAAE,CAAA;UAC1B,IAAI,KAAK,CAAC,IAAI,KAAK,eAAe,EAAE;;cAElC,UAAU,CAAC,MAAM,GAAG,mBAAmB,CAAA;cACvC,UAAU,CAAC,UAAU,GAAG,IAAI,CAAA;cAC5B,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,uBAAuB,CAAC,CAAA;WAC/C;eAAM;;cAEL,UAAU,CAAC,MAAM,GAAG,UAAU,CAAA;cAC9B,UAAU,CAAC,UAAU,GAAG,KAAK,CAAA;cAC7B,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,mBAAmB,CAAC,CAAA;WAC3C;;UAGD,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;UAEzB,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE;cAC/C,OAAO;cACP,WAAW;cACX,iBAAiB;cACjB,eAAe;WAChB,CAAC,CAAA;;UAGF,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;UAExB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,sBAC9B,QAAQ,EAAE,IAAI,EACd,YAAY,EAAE,IAAI,EAClB,IAAI,EAAE,iBAAiB,IACpB,UAAU,KACb,EAAE,EAAE,EAAE,IACN,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;MAMD,sBAAI,yCAAS;eAAb;cACE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,OAAO,IAAI,CAAC,YAAY,CAAC,SAAS,CAAA;eACnC;cACD,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,CAAA;WACvC;eAED,UAAc,EAAU;cACtB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,EAAE,CAAA;eACjC;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,EAAE,EAAE,CAAC,CAAA;eACpC;WACF;;;SARA;MAaD,sBAAI,qCAAK;;;;eAqBT;cACE,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAA;cAC5E,IAAI,CAAC,KAAK,EAAE;kBACV,OAAO,EAAE,CAAA;eACV;cACO,IAAA,mBAAK,EAAE,eAAG,CAAU;cAC5B,OAAO,KAAK,GAAG,IAAI,CAAC,SAAS,GAAG,GAAG,CAAA;WACpC;;;;eA5BD,UAAU,EAAO;cACf,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;sBACpB,IAAA,6BAAuC,EAAtC,aAAK,EAAE,WAA+B,CAAA;sBAC7C,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,KAAK,OAAA,EAAE,GAAG,KAAA,EAAE,CAAA;mBACzC;uBAAM;sBACL,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;mBAC7B;eACF;mBAAM;kBACL,IAAI,KAAK,GAAQ,EAAE,CAAA;kBACnB,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;sBACpB,IAAA,6BAAuC,EAAtC,aAAK,EAAE,WAA+B,CAAA;sBAC7C,KAAK,GAAG,EAAE,KAAK,OAAA,EAAE,GAAG,KAAA,EAAE,CAAA;mBACvB;kBACD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;eAC5B;WACF;;;SAAA;;;MAiBS,uCAAU,GAApB,UAAqB,KAAU;UAC7B,IAAM,MAAM,GAAQ,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAA;UAE3C,IAAI,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE;cACpB,IAAA,mBAAK,EAAE,eAAG,CAAU;cAC1B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;kBACtD,OAAO,IAAI,CAAA;eACZ;WACF;UACD,OAAO,IAAI,CAAA;OACZ;;MAGS,yCAAY,GAAtB,UAAuB,KAAU;UAC/B,IAAM,MAAM,GAAQ,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAA;UAC3C,IAAI,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE;cACpB,IAAA,mBAAK,EAAE,eAAG,CAAU;cAC1B,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAA;cACrB,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAA;cAEjB,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,eAAe,EAAE;;kBAEvC,KAAK,GAAG,KAAK,CAAC,OAAO,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,qBAAqB,CAAC,GAAG,EAAE,CAAA;kBAClE,GAAG,GAAG,GAAG,CAAC,OAAO,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,qBAAqB,CAAC,GAAG,EAAE,CAAA;eAC7D;mBAAM;;kBAEL,KAAK,GAAG,KAAK,CAAC,OAAO,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,EAAE,CAAA;kBACzD,GAAG,GAAG,GAAG,CAAC,OAAO,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,EAAE,CAAA;eACpD;cAED,IAAI,IAAI,CAAC,eAAe,EAAE;;kBAExB,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC,CAAA;eACjD;cAED,IAAI,IAAI,CAAC,aAAa,EAAE;;kBAEtB,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAAA;eAC7C;cAED,OAAO,KAAK,GAAG,IAAI,CAAC,SAAS,GAAG,GAAG,CAAA;WACpC;UACD,OAAO,KAAK,CAAA;OACb;MACH,yBAAC;EAAD,CA7IA,CAAwC,QAAQ;;;MCJnB,2BAAgB;MAA7C;;OA+CC;MA9CQ,cAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,OAAO,CAAC,KAAK,CAAC,CAAA;UAC/B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,IAAI,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE;cACpC,SAAQ;WACT;UAED,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;;UAGpD,IAAI,CAAC,YAAY,GAAG,KAAK,CAAA;;UAGzB,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,EAAE,EAAE;kBACF,QAAQ,EAAE;sBACR,IAAI,CAAC,YAAY,CAAC,IAAI,wBAAO,KAAK,GAAK,QAAQ,EAAG,CAAA;mBACnD;;;;;;;;;;;;;kBAaD,UAAU,EAAE;sBACV,IAAI,CAAC,YAAY,EAAE,CAAA;mBACpB;eACF;WACF,CAAC,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;MAED,2BAAS,GAAT,UAAU,IAAS;UACjB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;OAC5B;MACH,cAAC;EAAD,CA/CA,CAA6B,OAAO,GA+CnC;;;;MC7CkC,iCAAuB;MAA1D;;OAoGC;MAnGQ,oBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,aAAa,CAAC,KAAK,CAAC,CAAA;UACrC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,oBAAoB,CAAC,CAAA;;UAG3C,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;UAEzB,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,CAAA;;UAG7D,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;UAExB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,CAAA;UAEjC,OAAO,IAAI,CAAA;OACZ;MAKD,sBAAI,kCAAO;;;;eAAX,UAAY,EAAS;cACnB,IAAM,OAAO,GAAQ;kBACnB,MAAM,EAAN,UAAO,IAAS,EAAE,UAAkB;sBAClC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;0BAC3B,OAAO,IAAI,CAAA;uBACZ;sBACD,IAAM,MAAM,GAAG,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,CAAA;sBACtD,QACE,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC;0BAC7C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,EACnC;mBACF;kBACD,IAAI,EAAE;sBACJ,QAAQ,EAAE,QAAQ;sBAClB,IAAI,EAAE;0BACJ,MAAM,EAAE,EAAE;uBACX;sBACD,IAAI,EAAE,EAAE;mBACT;eACF,CAAA;cAED,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,EAAE;sBACzB,IAAI,EAAE,YAAY;sBAClB,OAAO,SAAA;mBACR,CAAC,CAAA;kBACF,OAAM;eACP;cACD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,CAAA;cACtC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;WACtB;;;SAAA;MAKD,sBAAI,mCAAQ;;;;eAAZ,UAAa,EAAS;cACpB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAA;WAClB;;;SAAA;MAKD,sBAAI,oCAAS;;;;eAAb;cACE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,OAAO,IAAI,CAAC,YAAY,CAAC,SAAS,CAAA;eACnC;cACD,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,CAAA;WACvC;;;;eAKD,UAAc,EAAU;cACtB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,EAAE,CAAA;eACjC;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,EAAE,EAAE,CAAC,CAAA;eACpC;WACF;;;SAXA;MAgBD,sBAAI,gCAAK;;;;eAWT;cACE,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;WAC9B;;;;eAbD,UAAU,EAAO;cACf,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;eAC7B;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;eACzB;WACF;;;SAAA;MAQH,oBAAC;EAAD,CApGA,CAAmC,QAAQ;;;MCuCZ,6BAAmB;MAAlD;UAAA,qEA+NC;;;UA3DS,eAAS,GAAY,SAAS,CAAA;;UAE9B,wBAAkB,GAAY,KAAK,CAAA;;UAEnC,eAAS,GAAY,SAAS,CAAA;;OAuDvC;MA9NQ,gBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,SAAS,CAAC,KAAK,CAAC,CAAA;UACjC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,IAAM,MAAM,GAAG,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;UAElC,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,gBAAgB,CAAC,CAAA;;UAGvC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;UAEzB,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAA;;UAGrE,IAAI,CAAC,YAAY,GAAG,KAAK,CAAA;UAEzB,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE;cACb,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAA;WAC/B;;UAGD,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;UAExB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,EAAE,EAAE;kBACF,QAAQ,EAAR;sBACE,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAA;sBAC/B,IAAI,CAAC,YAAY,EAAE,CAAA;mBACpB;;;;;;;;;;;;;;;;;kBAiBD,OAAO;;sBAEL,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,CAAA;mBAC5D;kBACD,OAAO,EAAP;;sBAEE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;sBACvC,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,SAAS,CAAC,CAAA;mBAC/C;kBACD,MAAM,EAAN;sBACE,IAAI,IAAI,CAAC,SAAS,EAAE;0BAClB,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;0BAC1C,IAAI,MAAM,EAAE;8BACV,IAAI,CAAC,kBAAkB,EAAE,CAAA;2BAC1B;+BACI;8BACH,IAAI,CAAC,kBAAkB,EAAE,CAAA;2BAC1B;uBACF;sBACD,IAAI,CAAC,WAAW,EAAE,CAAA;;sBAElB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;sBACpC,eAAe,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,EAAE,SAAS,CAAC,CAAA;mBAC9C;;;;;kBAKD,iBAAiB,EAAjB,UAAkB,CAAQ;;sBAExB,CAAC,CAAC,eAAe,EAAE,CAAA;sBACnB,CAAC,CAAC,cAAc,EAAE,CAAA;sBAElB,IAAM,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,MAAa,CAAC,CAAA;sBAChC,IAAI,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;;0BAE/B,IAAI,CAAC,KAAK,EAAE,CAAA;uBACb;2BAAM;;0BAEL,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,CAAA;uBAC5D;mBACF;eACF;WACF,CAAC,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;;;;MAYD,yBAAK,GAAL;UAAA,iBAaC;UAZC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;cAChB,OAAM;WACP;UAED,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAA;UAE9B,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,EAAE,SAAS,CAAC,CAAA;;UAGrD,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,UAAC,KAAK,EAAE,GAAG;cACpC,CAAC,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,EAAE,GAAG,EAAE,EAAE,CAAC,CAAA;WAC7B,CAAC,CAAA;OACH;MAED,sBAAI,4BAAK;eAAT;cACE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAA;eAC/B;cACD,OAAO,IAAI,CAAC,SAAS,CAAA;WACtB;eAED,UAAU,EAAsB;cAC9B,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;eAC7B;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;kBACxB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAA;eACpB;cAED,IAAI,IAAI,CAAC,kBAAkB,EAAE;kBAC3B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAA;kBACnB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAA;eAChC;cAED,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,EAAE,CAAC,CAAA;cACxC,IAAI,CAAC,YAAY,EAAE,CAAA;WACpB;;;SAjBA;MAmBD,gCAAY,GAAZ;UACE,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAA;UAC5E,IAAM,IAAI,GAAG,KAAK,GAAG,WAAW,GAAG,YAAY,CAAA;UAC/C,IAAI,KAAK,GAAQ,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,SAAS,CAAA;UAE5E,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,EAAE;cAC/B,IAAI,IAAI,CAAC,MAAM,EAAE;kBACf,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,CAAA;eACjC;mBAAM;kBACL,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAA;eAC9B;WACF;eAAM;cACL,KAAK;mBACF,WAAW,CAAC,WAAW,CAAC;mBACxB,WAAW,CAAC,YAAY,CAAC;mBACzB,QAAQ,CAAC,IAAI,CAAC,CAAA;WAClB;OACF;;;;MAaD,kCAAc,GAAd,UAAe,UAAe,EAAE,YAAiB;UAAjD,iBAiDC;UAhDC,UAAU,GAAG,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAA;UACnC,IAAM,SAAS,GAAG,IAAI,CAAA;UAEtB,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;cACrB,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAA;cAC/B,OAAM;WACP;UAED,IAAM,cAAc,GAAQ;cAC1B,KAAK,EAAE,UAAU;cACjB,MAAM,EAAE,SAAS,CAAC,MAAM,CAAC,MAAM;WAChC,CAAA;;;UAID,IAAM,QAAQ,GAAG,EAAE,CAAA;UACnB,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,EAAE,UAAC,KAAK,EAAE,GAAG;cACzC,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAA;WACjD,CAAC,CAAA;UAEF,cAAc,CAAC,WAAW,GAAG,QAAQ,CAAA;UAErC,cAAc,CAAC,eAAe,GAAG,UAAU,IAAS;cAClD,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;kBACrB,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAA;kBAC/B,OAAM;eACP;cACD,SAAS,CAAC,kBAAkB,GAAG,IAAI,CAAA;cAEnC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAA;;cAGjE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,EAAE,UAAC,KAAK,EAAE,GAAG;kBACzC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAA;eAClD,CAAC,CAAA;cAEF,IAAI,CAAC,WAAW,EAAE,CAAA;cAClB,SAAS,CAAC,KAAK,EAAE,CAAA;WAClB,CAAA;UACD,cAAc,CAAC,OAAO,GAAG;;cAEvB,SAAS,CAAC,KAAK,GAAG,YAAY,CAAA;cAC9B,SAAS,CAAC,kBAAkB,GAAG,KAAK,CAAA;cACpC,SAAS,CAAC,KAAK,EAAE,CAAA;WAClB,CAAA;UACD,IAAM,GAAG,GAA8B,IAAI,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;UACrE,GAAG,CAAC,UAAU,CAAC,cAAc,EAAE,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,CAAA;;OAExD;MACH,gBAAC;EAAD,CA/NA,CAA+B,QAAQ;;;MCxCN,+BAAoB;MAArD;;OA+BC;MA5BQ,kBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC,CAAA;UACnC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAA;;UAG5D,IAAI,CAAC,YAAY,GAAG,KAAK,CAAA;;UAGzB,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;UAExB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,EAAE,EAAE;kBACF,QAAQ;sBACN,IAAI,CAAC,YAAY,CAAC,IAAI,wBAAO,KAAK,GAAK,QAAQ,EAAG,CAAA;mBACnD;kBACD,UAAU,EAAE;sBACV,IAAI,CAAC,YAAY,EAAE,CAAA;mBACpB;kBACD,MAAM,EAAE;sBACN,IAAM,KAAK,GAAG,IAAI,CAAC,cAAc,EAAE,CAAA;sBACnC,eAAe,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,EAAE,KAAK,CAAC,CAAA;mBAC1C;eACF;WACF,CAAC,CAAA;UACF,OAAO,IAAI,CAAA;OACZ;MACH,kBAAC;EAAD,CA/BA,CAAiC,OAAO,GA+BvC;;;ECnCD,IAAM,aAAa,GAAQ;MACvB,SAAS,EAAE,GAAG;MACd,IAAI,EAAE,GAAG;MACT,IAAI,EAAE,IAAI;MACV,EAAE,EAAE,GAAG;MACP,EAAE,EAAE,IAAI;MACR,IAAI,EAAE,KAAK;MACX,IAAI,EAAE,KAAK;MACX,KAAK,EAAE,IAAI;MACX,QAAQ,EAAE,KAAK;MACf,UAAU,EAAE,0CAAwC;MACpD,SAAS,EAAE,MAAM;MACjB,SAAS,EAAE,OAAO;MAClB,MAAM,EAAE,IAAI;MACZ,SAAS,EAAE,OAAO;MAClB,WAAW,EAAE,IAAI;MACjB,WAAW,EAAE,IAAI;MACjB,MAAM,EAAE,IAAI;MACZ,QAAQ,EAAE,KAAK;MACf,QAAQ,EAAE,IAAI;MACd,WAAW,EAAE,IAAI;MACjB,eAAe,EAAE,MAAM;MACvB,kBAAkB,EAAE,MAAM;MAC1B,OAAO,EAAE,MAAM;MACf,QAAQ,EAAE,IAAI;MACd,WAAW,EAAE,KAAK;MAClB,UAAU,EAAE,KAAK;MACjB,QAAQ,EAAE,KAAK;MACf,KAAK,EAAE,GAAG;MACV,OAAO,EAAE,GAAG;MACZ,OAAO,EAAE,IAAI;MACb,eAAe,EAAE,cAAc;MAC/B,2BAA2B,EAAE,uBAAuB;MACpD,YAAY,EAAE,cAAc;MAC5B,SAAS,EAAE,cAAc;MACzB,MAAM,EAAE,UAAU;MAClB,MAAM,EAAE,GAAG;MACX,MAAM,EAAE,UAAU;MAClB,wBAAwB,EAAE,2BAA2B;MACrD,wBAAwB,EAAE,uBAAuB;MACjD,eAAe,EAAE,eAAe;MAChC,YAAY,EAAE,MAAM;MACpB,SAAS,EAAE,cAAc;MACzB,gBAAgB,EAAE,aAAa;MAC/B,kBAAkB,EAAE,gBAAgB;MACpC,kBAAkB,EAAE,kBAAkB;MACtC,OAAO,EAAE,IAAI;MACb,SAAS,EAAE,KAAK;MAChB,YAAY,EAAE,KAAK;MACnB,SAAS,EAAE,MAAM;MACjB,WAAW,EAAE,IAAI;MACjB,SAAS,EAAE,MAAM;MACjB,MAAM,EAAE,IAAI;MACZ,SAAS,EAAE,YAAY;MACvB,WAAW,EAAE,UAAU;MACvB,OAAO,EAAE,gBAAgB;MACzB,QAAQ,EAAE,gBAAgB;MAC1B,KAAK,EAAE,oBAAoB;MAC3B,GAAG,EAAE,IAAI;MACT,GAAG,EAAE,KAAK;MACV,GAAG,EAAE,KAAK;MACV,IAAI,EAAE,GAAG;MACT,KAAK,EAAE,GAAG;MACV,OAAO,EAAE,KAAK;MACd,IAAI,EAAE,IAAI;MACV,eAAe,EAAE,QAAQ;MACzB,KAAK,EAAE,UAAU;MACjB,KAAK,EAAE,IAAI;MACX,KAAK,EAAE,UAAU;GACpB,CAAC;AAEF;;ECrEA;MAoEE,qBAAY,IAAa;UA/DjB,iBAAY,GAAW,CAAC,CAAA;UAExB,cAAS,GAAW,GAAG,CAAA;UAEvB,eAAU,GAAW,CAAC,CAAA;UAEtB,eAAU,GAAW,CAAC,CAAA;UA0D5B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAA;UAChB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAA;;UAInC,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,sBAAsB,CACpD,iCAAiC,CAClC,CAAA;UACD,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAA;UACrC,IAAI,GAAG,CAAC,MAAM,IAAI,CAAC,EAAE;cACnB,OAAM;WACP;;UAED,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,iCAAiC,CAAA;UAEpD,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS;cACd,8BAA8B;kBAC9B,oFAAoF;kBACpF,qBAAqB;kBACrB,qCAAqC;kBACrC,KAAK;kBACL,+BAA+B;kBAC/B,uCAAuC;kBACvC,KAAK;kBACL,IAAI;kBACJ,qGAAqG;kBACrG,iCAAiC;kBACjC,wJAAwJ;kBACxJ,KAAK;kBACL,sEAAsE;kBACtE,0JAA0J;kBAC1J,KAAK;kBACL,+DAA+D;kBAC/D,0EAA0E;kBAC1E,oFAAoF;kBACpF,KAAK;kBACL,wEAAwE;kBACxE,KAAK;kBACL,sBAAsB;kBACtB,0EAA0E;kBAC1E,sJAAsJ;kBACtJ,KAAK;kBACL,gEAAgE;kBAChE,sJAAsJ;kBACtJ,KAAK;kBACL,uEAAuE;kBACvE,6DAA6D;kBAC7D,KAAK;kBACL,6PAA6P;kBAC7P,mCAAmC;kBACnC,0BAA0B;kBAC1B,mBAAmB;kBACnB,sCAAsC;kBACtC,KAAK;kBACL,8BAA8B;kBAC9B,wEAAwE;kBACxE,KAAK;kBACL,4BAA4B;kBAC5B,mBAAmB;kBACnB,uBAAuB;kBACvB,cAAc;kBACd,QAAQ,CAAA;UAEV,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAA;UAC/D,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,GAAG,KAAK,CAAC,CAAA;UAC7D,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,GAAG,KAAK,CAAC,CAAA;UAC7D,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,GAAG,KAAK,CAAC,CAAA;UAC7D,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,GAAG,KAAK,CAAC,CAAA;UACnE,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,cAAc,CAAC,YAAY,GAAG,KAAK,CAAC,CAAA;UACjE,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,cAAc,CAAC,YAAY,GAAG,KAAK,CAAC,CAAA;UACjE,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,WAAW,GAAG,KAAK,CAAC,CAAA;UAC/D,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,cAAc,CAAC,mBAAmB,GAAG,KAAK,CAAC,CAAA;UAC3E,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,iBAAiB,GAAG,KAAK,CAAC,CAAA;UACvE,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,cAAc,CAAC,kBAAkB,GAAG,KAAK,CAAC,CAAA;UAEzE,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;cACxB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAA;WACxC;eAAM;cACL,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAA;WAC5C;UAED,IAAI,CAAC,mBAAmB,EAAE,CAAA;UAE1B,IAAI,EAAE,GAAG,IAAI,CAAA;UAEb,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,UAAS,KAAU;cAChD,IAAI,KAAK,CAAC,OAAO,KAAK,EAAE,EAAE;;kBAExB,IAAI,EAAE,GAAG,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,CAAA;kBACzC,IAAI,EAAE,GAAG,EAAE,CAAC,SAAS,EAAE;sBACrB,EAAE,GAAG,EAAE,CAAC,SAAS,CAAA;mBAClB;kBACD,IAAI,EAAE,IAAI,CAAC,EAAE;sBACX,EAAE,GAAG,CAAC,CAAA;mBACP;kBACD,EAAE,CAAC,IAAI,CAAC,WAAW,GAAGG,uBAAe,CAAC,iBAAiB,CAAC;kBACxD,EAAE,CAAC,WAAW,CAAC,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAA;eAChC;mBAAM;kBACL,IAAI,KAAK,CAAC,OAAO,KAAK,CAAC,KAAK,KAAK,CAAC,OAAO,GAAG,EAAE,IAAI,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC,EAAE;sBACrE,OAAO,KAAK,CAAA;mBACb;eACF;WACF,CAAA;UAED,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,UAAS,CAAM;cACzC,EAAE,CAAC,QAAQ,GAAG,CAAC,CAAC,UAAU,CAAC,KAAK,CAAA;cAChC,EAAE,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAA;cAC1C,IAAI,OAAO,EAAE,CAAC,WAAW,KAAK,UAAU,EAAE;kBACxC,EAAE,CAAC,IAAI,CAAC,WAAW,GAAGA,uBAAe,CAAC,iBAAiB,CAAC;kBACxD,EAAE,CAAC,WAAW,CAAC,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAA;eAC/B;WACF,CAAA;UAED,IAAI,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,sBAAsB,CAAC,uBAAuB,CAAC,CAAA;UACpE,IAAI,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,sBAAsB,CAC1C,+BAA+B,CAChC,CAAA;UACD,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAA;UACpC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAA,MAAM;cACpB,MAAM,CAAC,OAAO,GAAG,UAAS,CAAM;kBAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;sBACtD,IAAI,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,iBAAiB,EAAE;0BACnD,OAAM;uBACP;mBACF;kBACD,IAAM,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;kBAEnE,IAAI,EAAE,GAAG,EAAE,CAAC,WAAW,CAAA;kBACvB,QAAQ,GAAG,CAAC,CAAC,CAAC;sBACZ,KAAK,OAAO,EAAE;0BACZ,EAAE,GAAG,CAAC,CAAA;0BACN,MAAK;uBACN;sBACD,KAAK,MAAM,EAAE;0BACX,IAAI,EAAE,GAAG,CAAC,EAAE;8BACV,EAAE,IAAI,CAAC,CAAA;2BACR;0BACD,MAAK;uBACN;sBACD,KAAK,MAAM,EAAE;0BACX,IAAI,EAAE,GAAG,EAAE,CAAC,SAAS,EAAE;8BACrB,EAAE,IAAI,CAAC,CAAA;2BACR;0BACD,MAAK;uBACN;sBACD,KAAK,MAAM,EAAE;0BACX,EAAE,GAAG,EAAE,CAAC,SAAS,CAAA;0BACjB,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA;0BAC9B,MAAK;uBACN;mBACF;kBAED,IAAI,OAAO,EAAE,CAAC,WAAW,KAAK,UAAU,EAAE;sBACxC,EAAE,CAAC,IAAI,CAAC,WAAW,GAAGA,uBAAe,CAAC,iBAAiB,CAAC;sBACxD,EAAE,CAAC,WAAW,CAAC,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAA;mBAChC;eACF,CAAA;WACF,CAAC,CAAA;OACH;MAtND,sBAAI,oCAAW;eAAf;cACE,OAAO,IAAI,CAAC,YAAY,CAAA;WACzB;eACD,UAAgB,EAAU;cACxB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAA;cACtB,IAAI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,EAAE;kBACvC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAA;eACpC;cACD,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE;kBACjD,IAAI,CAAC,YAAY,GAAG,CAAC,CAAA;eACtB;cACD,IAAI,CAAC,mBAAmB,EAAE,CAAA;WAC3B;;;SAVA;MAYD,sBAAI,iCAAQ;eAAZ;cACE,OAAO,IAAI,CAAC,SAAS,CAAA;WACtB;eACD,UAAa,EAAU;cACrB,IAAI,EAAE,IAAI,CAAC,EAAE;kBACX,OAAM;eACP;cAED,IAAI,CAAC,SAAS,GAAG,EAAE,CAAA;cACnB,IAAI,CAAC,mBAAmB,EAAE,CAAA;WAC3B;;;SARA;MAUD,sBAAI,kCAAS;eAAb;cACE,OAAO,IAAI,CAAC,UAAU,CAAA;WACvB;;;SAAA;MAED,sBAAI,kCAAS;eAAb;cACE,OAAO,IAAI,CAAC,UAAU,CAAA;WACvB;eAED,UAAc,EAAU;cACtB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAA;cACpB,IAAI,CAAC,mBAAmB,EAAE,CAAA;WAC3B;;;SALA;MAOM,iCAAW,GAAlB;UACE,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;OACnC;MA+KO,mCAAa,GAArB,UAAsB,OAAY;UAChC,IAAI,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,iBAAiB,CAAC,EAAE;cACjD,OAAM;WACP;UACD,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC,OAAO,CAC3B,OAAO,CAAC,SAAS,EACjB,SAAS,EACT,iBAAiB,CAClB,CAAA;OACF;MAEO,kCAAY,GAApB,UAAqB,OAAY;UAC/B,IACE,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,iBAAiB,CAAC;cAC9C,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,EACrC;cACA,OAAM;WACP;UACD,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC,OAAO,CAC3B,OAAO,CAAC,SAAS,EACjB,iBAAiB,EACjB,SAAS,CACV,CAAA;OACF;MAEO,yCAAmB,GAA3B;UACE,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;cACxB,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE;kBAC7C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,CAAA;eAC9D;cAED,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAA;cACvC,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAA;cAC5C,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAA;cAE7C,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,EAAE;kBACzB,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,aAAa,CAAA;eAC5C;mBAAM;kBACL,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAA;kBACpD,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAA;kBAE1C,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,EAAE;sBACzB,GAAG,GAAG,IAAI,CAAC,UAAU,CAAA;mBACtB;kBACD,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,EAAE;sBACzB,GAAG,GAAG,IAAI,CAAC,UAAU,CAAA;mBACtB;kBACD,IAAI,CAAC,YAAY,CAAC,SAAS;sBACzB,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,MAAM,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAA;eACrD;cAED,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,EAAE;kBACxB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAA;kBACtC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;eACtC;mBAAM;kBACL,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,CAAA;kBACvC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;eACvC;cAED,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,EAAE;kBACrC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;kBACrC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;eACtC;mBAAM;kBACL,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;kBACtC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;eACvC;WACF;eAAM;cACL,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,IAAI,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAA;WAC3D;OACF;MACH,kBAAC;EAAD,CAAC,IAAA;;4BC7SwB,MAAW,EAAE,IAAU;MAC5C,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE;UACpB,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;cACvE,OAAO,uCAAuC,CAAA;WACjD;UAED,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;cAClC,OAAO,4BAA4B,CAAA;WACtC;UAED,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;cAC7B,OAAO,mDAAmD,CAAA;WAC7D;UAED,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,KAAK,OAAO,EAAE;cAChC,OAAO,8DAA8D,CAAA;WACxE;OACJ;MAED,IAAI,MAAM,CAAC,IAAI,CAAC,SAAS,KAAK,KAAK,EAAE;UACjC,OAAO,GAAG,CAAA;OACb;MAED,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;;UAE1B,OAAO,uCAAuC,CAAA;OACjD;MACD,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,QAAQ,EAAE;UAC1C,OAAO,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;OAC9F;MACD,OAAO,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAA;EACnC,CAAC;;;EC/BM,IAAM,UAAU,GAAQ;MAC3B,QAAQ,EAAE,KAAK;MACf,QAAQ,EAAE,KAAK;MACf,eAAe,EAAE,IAAI;MACrB,WAAW,EAAE,IAAI;MACjB,UAAU,EAAE,IAAI;MAChB,OAAO,EAAE,KAAK;MACd,aAAa,EAAE,IAAI;MACnB,eAAe,EAAE,KAAK;MACtB,kBAAkB,EAAE,KAAK;MACzB,iBAAiB,EAAE,IAAI;MACvB,OAAO,EAAE,SAAS;MAClB,QAAQ,EAAE,IAAI;MACd,MAAM,EAAE,YAAY;MACpB,UAAU,EAAE,SAAS;MACrB,6BAA6B,EAAE,KAAK;MACpC,OAAO,EAAE,EAAE;MACX,WAAW,EAAE,EAAE;MACf,IAAI,EAAE,SAAS;GAClB,CAAC;AAEF,EAAO,IAAM,gBAAgB,GAAQ;MACjC,MAAM,EAAE,KAAK;MACb,KAAK,EAAE,EAAE;MACT,KAAK,EAAE,EAAE;MACT,KAAK,EAAE,SAAS;MAChB,QAAQ,EAAE,GAAG;MACb,QAAQ,EAAE,CAAC;MACX,QAAQ,EAAE,KAAK;MACf,SAAS,EAAE,IAAI;MACf,QAAQ,EAAE,KAAK;MACf,UAAU,EAAE,KAAK;MACjB,QAAQ,EAAE,SAAS;MACnB,QAAQ,EAAE,MAAM;GACnB,CAAC;AAEF,EAAO,IAAM,oBAAoB,GAAQ;MACrC,MAAM,EAAE,SAAS;MACjB,IAAI,EAAE,EAAE;MACR,EAAE,EAAE,IAAI;MACR,GAAG,EAAE,KAAK;MACV,SAAS,EAAE,CAAC;MACZ,OAAO,EAAE,IAAI;MACb,SAAS,EAAE,MAAM;MACjB,SAAS,EAAE,SAAS;MACpB,UAAU,EAAE,YAAY;MACxB,cAAc,EAAE,qBAAqB;MACrC,IAAI,EAAE,EAAE;GACX,CAAC;;;EChDF;MAAA;OA6FC;MA3FG,2CAAa,GAAb,UAAc,GAAQ,EAAE,SAAc,EAAE,EAAO;UAC3C,OAAO;cACH,IAAI,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;kBACzC,IAAM,KAAK,GAAG,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;kBACxC,IAAI,KAAK,IAAI,CAAC,EAAE;sBACZ,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAA;mBAClC;kBACD,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAA;eAExC;mBAAM;kBACH,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;kBACvB,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;eACrC;;cAGD,IAAI,GAAG,CAAC,yBAAyB,EAAE;kBAC/B,GAAG,CAAC,yBAAyB,EAAE,CAAC;eACnC;WACJ,CAAA;OACJ;MAED,0CAAY,GAAZ,UAAwB,WAAgB;UACpC,IAAM,GAAG,GAAG,WAAW,CAAC,GAAG,CAAC,GAAG,CAAA;UAC/B,IAAM,IAAI,GAAG,WAAW,CAAC,IAAI,CAAA;UAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;UAChC,IAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,CAAA;UACvE,IAAI,CAAC,SAAS,EAAE;cACZ,OAAM;WACT;UAED,IAAI,WAAW,CAAC,YAAY,EAAE;;cAE1B,IAAI,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;kBACjC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;eACrC;mBAAM;kBACH,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAA;eACxC;;cAGD,IAAI,GAAG,CAAC,yBAAyB,EAAE;kBAC/B,GAAG,CAAC,yBAAyB,EAAE,CAAC;eACnC;WAEJ;eAAM;;cAEH,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAA;cACnC,IAAI,OAAO,WAAW,CAAC,EAAE,KAAK,QAAQ,EAAE;;kBAEpC,IAAI,WAAW,CAAC,EAAE,KAAK,EAAE,GAAG,WAAW,CAAC,KAAK,EAAE;sBAC3C,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;mBACrC;eAEJ;mBAAM,IAAI,OAAO,WAAW,CAAC,EAAE,KAAK,UAAU,EAAE;;kBAE7C,IAAI,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE;sBACnD,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;mBACrC;eACJ;WACJ;OACJ;MAED,kCAAI,GAAJ,UAAgB,WAAgB;UAC5B,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;UACxC,IAAI,WAAW,CAAC,IAAI,CAAC,SAAS,EAAE;;cAE5B,OAAM;WACT;UAED,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAA;UACvC,IAAI,CAAC,GAAG,CAAC,SAAS;cACd,sFAAsF,CAAA;UAE1F,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAA;UAE9B,IAAM,GAAG,GAAG,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC;UAChC,IAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,CAAC;UACxE,IAAM,IAAI,GAAG,WAAW,CAAC,IAAI,CAAA;UAC7B,IAAM,EAAE,GAAG,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;UAChC,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC,CAAA;OAC7E;MAED,oCAAM,GAAN;UACI,OAAO,IAAI,CAAC,GAAG,CAAA;OAClB;MAED,qCAAO,GAAP;OACC;MAED,qCAAO,GAAP,UAAQ,WAAgB;UACpB,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAA;OACjC;MACL,0BAAC;EAAD,CAAC,IAAA;;;EC7FD;MAAA;OAoGC;MAlGG,2CAAa,GAAb,UAAc,OAAY,EAAE,WAAgB;UACxC,IAAM,IAAI,GAAQ,IAAI,CAAC;UACvB,OAAO;cACH,IAAI,OAAO,CAAC,OAAO,EAAE;kBAEjB,IAAM,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;kBAC1D,IAAM,SAAS,GAAG,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;;kBAEzC,IAAM,OAAO,GAAG,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,OAAO,CAAC,GAAA,CAAC,CAAC;kBAEzE,IAAI,SAAS,EAAE;;sBAEX,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;0BACrC,IAAM,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;0BACtB,IAAM,KAAK,GAAG,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;0BAC5C,IAAI,KAAK,IAAI,CAAC,EAAE;8BACZ,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAA;2BACtC;uBACJ;mBAEJ;uBAAM;;sBAEH,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;0BACrC,IAAM,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;0BACtB,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE;8BACrC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;2BAC/B;uBACJ;mBACJ;;kBAGD,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC;sBACzB,OAAO,EAAE,CAAC,QAAQ,CAAC;sBACnB,KAAK,EAAE,IAAI;mBACd,CAAC,CAAA;eACL;WACJ,CAAA;OACJ;MAED,0CAAY,GAAZ,UAAwB,WAAgB;UACpC,IAAM,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,GAAG,CAAA;UACnC,IAAM,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;UAE1D,IAAI,OAAO,CAAC,OAAO,EAAE;cACjB,OAAO,CAAC,yBAAyB,GAAG;;kBAEhC,IAAM,OAAO,GAAG,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,OAAO,CAAC,GAAA,CAAC,CAAC;kBAEzE,IAAI,KAAK,GAAG,IAAI,CAAC;kBACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;sBACrC,IAAM,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;sBACtB,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE;;0BAErC,KAAK,GAAG,KAAK,CAAC;0BACd,MAAM;uBACT;mBACJ;kBAED,IAAM,SAAS,GAAG,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;kBACzC,IAAI,SAAS,EAAE;sBACX,IAAI,CAAC,KAAK,EAAE;0BACR,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;uBAClC;mBACJ;uBAAM;sBACH,IAAI,KAAK,EAAE;0BACP,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;uBAC/B;mBACJ;eACJ,CAAA;WACJ;OACJ;MAED,kCAAI,GAAJ,UAAgB,WAAgB;UAAhC,iBAcC;UAbG,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;UAExC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAA;UACvC,IAAI,CAAC,GAAG,CAAC,SAAS;cACd,sFAAsF,CAAA;UAE1F,CAAC,CAAC,KAAK,CAAC;cACJ,IAAM,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,GAAG,CAAA;cACnC,KAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAI,CAAC,aAAa,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC,CAAA;cAC5E,KAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAA;WACjC,CAAC,CAAC;;OAGN;MAED,oCAAM,GAAN;UACI,OAAO,IAAI,CAAC,GAAG,CAAA;OAClB;MAED,qCAAO,GAAP;OACC;MAED,qCAAO,GAAP,UAAQ,WAAgB;UACpB,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAA;OACjC;MACL,0BAAC;EAAD,CAAC,IAAA;;;EC5FD;MAkRE,4BAAY,GAAQ,EAAE,MAAsB;UAA5C,iBA4EC;UA1VO,YAAO,GAAe,EAAE,CAAA;UACxB,oBAAe,GAAY,IAAI,CAAA;UAMvC,gBAAW,GAAG,CAAC,CAAC,QAAQ,CAAC,UAAC,MAAqE,EAAE,aAAsC,EAAE,MAAW;cAClJ,IAAM,IAAI,GAAG,KAAI,CAAA;;cAGjB,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,IAAI,CAAA;cACvB,IAAI,SAAS,GAAG,KAAK,CAAA;cACrB,IAAI,OAAO,IAAI,CAAC,QAAQ,KAAK,WAAW,EAAE;;kBAExC,SAAS,GAAG,IAAI,CAAA;kBAChB,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAA;eACvD;mBAAM;kBACL,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,EAAE,MAAM,CAAC,WAAW,CAAC,EAAE;;sBAExD,SAAS,GAAG,IAAI,CAAA;sBAChB,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAA;mBACvD;eACF;;cAGD,IAAM,WAAW,iBACX,OAAO,aAAa,KAAK,UAAU,GAAG,aAAa,EAAE,GAAG,SAAS,EACtE,CAAA;cAED,IAAI,WAAiC,CAAC;cACtC,IAAI,MAAM,CAAC,IAAI,KAAK,KAAK,EAAE;kBACzB,WAAW,GAAGL,GAAU,CAAC,MAAM,CAAC,EAAE,CAAC;uBAChC,KAAK,CAAC;sBACL,MAAM,EAAE,WAAW;sBACnB,KAAK,EAAE,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,QAAQ;sBACtC,WAAW,EAAE,MAAM,CAAC,QAAQ;sBAC5B,SAAS,WAAA;sBACT,YAAY,EAAE,MAAM,CAAC,SAAS;sBAC9B,WAAW,EAAE,MAAM,CAAC,WAAW;sBAC/B,KAAK,EAAE,MAAM,CAAC,KAAK;mBACpB,CAAC,CAAA;eAEL;mBAAM,IAAI,MAAM,CAAC,IAAI,KAAK,QAAQ,EAAE;kBAC7B,IAAA,gCAAiD,EAAhD,iBAAS,EAAE,cAAqC,CAAC;kBACxD,WAAW,GAAyB,YAAY,CAACC,eAAsB,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE;sBAC1F,MAAM,EAAE,WAAW;sBACnB,KAAK,EAAE,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,QAAQ;sBACtC,WAAW,EAAE,MAAM,CAAC,QAAQ;sBAC5B,SAAS,WAAA;sBACT,YAAY,EAAE,MAAM,CAAC,SAAS;sBAC9B,WAAW,EAAE,MAAM,CAAC,WAAW;mBAChC,CAAC,CAAA;eAEH;mBAAM,IAAI,MAAM,CAAC,IAAI,KAAK,MAAM,EAAE;kBACjC,IAAM,IAAI,GAAkB,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;kBACzD,WAAW,GAAyB,IAAI,CAAC;sBACvC,GAAG,EAAE,MAAM,CAAC,GAAG;sBACf,MAAM,EAAE,WAAW;sBACnB,IAAI,EAAE;0BACJ,MAAM,EAAE,WAAW;0BACnB,KAAK,EAAE,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,QAAQ;0BACtC,WAAW,EAAE,MAAM,CAAC,QAAQ;0BAC5B,SAAS,WAAA;0BACT,YAAY,EAAE,MAAM,CAAC,SAAS;0BAC9B,WAAW,EAAE,MAAM,CAAC,WAAW;uBAChC;mBACF,CAAC,CAAC;eAEJ;mBAAM;kBACL,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,MAAM,CAAC,CAAC;kBACpD,MAAM,CAAC,YAAY,EAAE,CAAC;kBACtB,OAAO;eACR;cAED,WAAW,CAAC,IAAI,CAAC,UAAA,GAAG;kBACV,IAAA,qBAAgB,EAAE,2BAAU,EAAE,sBAAiB,CAAQ;kBAC/D,IAAI,SAAS,EAAE;sBACb,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,YAAY,CAAC,EAAE;;0BAE5B,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC;uBAE1C;2BAAM;0BACL,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,KAAK,CAAA;uBACjC;mBACF;kBACD,MAAM,CAAC,eAAe,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;;kBAEjD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE;sBACxB,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAA;mBAC5C;kBACD,IAAI,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAA;kBAC3B,IAAI,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE;sBACvB,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC,CAAA;mBACpF;eAEF,CAAC,CAAC,KAAK,CAAC,UAAA,CAAC;kBACR,MAAM,CAAC,YAAY,EAAE,CAAA;eAEtB,CAAC,CAAC,OAAO,CAAC;kBACT,KAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAA;eACzB,CAAC,CAAA;WACH,CAAC,CAAA;UAyKA,IAAI,YAAY,EAAE,EAAE;cAClB,OAAM;WACP;UACD,IAAI,CAAC,GAAG,GAAG,GAAG,CAAA;UACd,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;UACpB,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAA;UAE/B,IAAI,CAAC,MAAM,EAAE;;cAEX,IAAI,CAAC,MAAM,GAAG,SAAS,CAAA;cACvB,OAAM;WACP;UAED,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;cACrB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAA;cAC7B,OAAM;WACP;UAED,IAAI,OAAO,MAAM,KAAK,UAAU,EAAE;;cAEhC,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,SAAS,CAAC,CAAA;cAC7C,OAAM;WACP;;UAGD,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,UAAA,KAAK;cAC3B,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,QAAQ,CAAC,EAAE;kBAC3B,OAAM;eACP;cACD,IAAM,WAAW,GAAe,KAAK,CAAA;cACrC,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE;kBACrC,IAAI,KAAI,CAAC,MAAM,EAAE;sBACf,KAAI,CAAC,MAAM,EAAE,CAAA;mBACd;eACF,CAAC,CAAA;WACH,CAAC,CAAA;;UAGF,IAAI,aAAa,GAAG;cAClB,IAAM,MAAM,GAAQ,EAAE,CAAA;cACtB,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,UAAC,KAAK,EAAE,GAAG;kBACjC,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE;sBACxB,IAAM,SAAS,GAAa,KAAK,CAAA;sBACjC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,KAAI,CAAC,MAAM,EAAE,SAAS,CAAC,IAAI,CAAC,CAAA;mBACjD;uBAAM,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,QAAQ,CAAC,EAAE;sBACjC,IAAM,WAAW,GAAe,KAAK,CAAA;sBACrC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,KAAI,CAAC,MAAM,EAAE,WAAW,CAAC,MAAM,CAAC,CAAA;mBACrD;uBAAM;sBACL,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAA;mBACpB;eACF,CAAC,CAAA;cACF,OAAO,MAAM,CAAA;WACd,CAAA;UAED,IAAI,MAAM,CAAC,IAAI,KAAK,UAAU,EAAE;cAC9B,IAAI,OAAO,MAAM,CAAC,IAAI,KAAK,UAAU,EAAE;kBACrC,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,IAAI,EAAE,aAAa,CAAC,CAAA;eACvD;mBAAM;;kBAEL,IAAM,YAAY,GAAiC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,CAAiC,CAAA;kBAClH,IAAI,CAAC,YAAY,EAAE;sBACjB,OAAO,CAAC,KAAK,CAAC,gDAAW,MAAM,CAAC,IAAI,wBAAM,CAAC,CAAA;sBAC3C,OAAM;mBACP;kBACD,IAAI,CAAC,qBAAqB,CAAC,YAAY,EAAE,aAAa,CAAC,CAAA;eACxD;cACD,OAAM;WACP;UAED,IAAI,MAAM,CAAC,IAAI,KAAK,KAAK,IAAI,MAAM,CAAC,IAAI,KAAK,QAAQ,IAAI,MAAM,CAAC,IAAI,KAAK,MAAM,EAAE;cAC/E,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,aAAa,CAAC,CAAA;cACtC,OAAM;WACP;UAED,OAAO,CAAC,KAAK,CAAC,kDAAU,CAAC,CAAA;OAC1B;;;;MA/OD,uCAAU,GAAV,UAAW,MAAqE,EAAE,aAAsC;UAAxH,iBAiEC;UAhEC,IAAM,IAAI,GAAG,IAAI,CAAA;UACjB,IAAI,CAAC,MAAM,GAAG;cACZ,KAAI,CAAC,GAAG,CAAC,OAAO,GAAG,IAAI,CAAA;cACvB,IAAI,CAAC,aAAa,EAAE,CAAA;cACpB,IAAI,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE;kBACvB,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,cAAc,EAAE,SAAS,CAAC,CAAA;eACpE;cACD,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAA;cAErC,IAAI,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE;;kBAEvB,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,WAAW,GAAG,UAAC,WAAmB,EAAE,QAAgB;sBACpE,IAAI,MAAM,GAAQ,EAAE,CAAA;sBACpB,MAAM,CAAC,eAAe,GAAG,UAAC,IAAQ,EAAE,QAAgB;;;;;;0BAQhD,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAA;;;0BAGnC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAA;0BACtC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,WAAW,GAAG,WAAW,CAAA;uBAC5C,CAAA;sBACD,MAAM,CAAC,YAAY,GAAG;0BACpB,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;uBACvB,CAAA;sBACD,MAAM,CAAC,QAAQ,GAAG,CAAC,WAAW,GAAG,CAAC,IAAI,QAAQ,CAAA;sBAC9C,MAAM,CAAC,MAAM,GAAG,WAAW,GAAG,QAAQ,CAAA;sBACtC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,cAAc,EAAE,CAAA;sBAEtD,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,KAAK,EAAE;0BACvD,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAA;0BACjB,MAAM,CAAC,eAAe,CAAC,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;0BACzC,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAA;0BACxB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAA;uBAE7B;2BAAM;0BACL,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,aAAa,EAAE,MAAM,CAAC,CAAA;uBAChD;mBACF,CAAA;kBACD,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;eAC9D;mBAAM;;kBAEL,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC;sBAC7B,OAAO,EAAE,UAAC,MAAW;0BACnB,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,KAAK,EAAE;8BACvD,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAA;8BACjB,MAAM,CAAC,eAAe,CAAC,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;8BACzC,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAA;8BACxB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAA;8BAC5B,OAAM;2BACP;0BAED,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,aAAa,EAAE,MAAM,CAAC,CAAA;uBAChD;mBACF,CAAC,CAAA;eACH;WACF,CAAA;UAED,IAAI,CAAC,MAAM,EAAE,CAAA;OACd;;;;MAKD,kDAAqB,GAArB,UAAsB,MAAoC,EAAE,aAAsC;UAChG,IAAM,IAAI,GAAG,IAAI,CAAA;UACjB,IAAI,CAAC,MAAM,GAAG;cACZ,IAAI,CAAC,aAAa,EAAE,CAAA;cACpB,IAAI,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE;kBACvB,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,cAAc,EAAE,SAAS,CAAC,CAAA;eACpE;cACD,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,IAAI,CAAA;;cAGvB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC;kBAC7B,OAAO,EAAE,UAAC,MAAW;sBACnB,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,IAAI,CAAA;sBAEvB,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,KAAK,KAAK,EAAE;0BACvD,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAA;0BACjB,MAAM,CAAC,eAAe,CAAC,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;0BACzC,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAA;0BACxB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAA;0BAC5B,OAAM;uBACP;sBAED,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE;0BACjC,KAAK,EACH,OAAO,aAAa,KAAK,UAAU,GAAG,aAAa,EAAE,GAAG,SAAS;0BAEnE,YAAY,EAAE;8BACZ,MAAM,CAAC,YAAY,EAAE,CAAA;2BACtB;0BAED,eAAe,EAAE,UAAC,IAAW,EAAE,UAA8B;8BAC3D,MAAM,CAAC,eAAe,CAAC,IAAI,EAAE,UAAU,CAAC,CAAA;8BAExC,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAA;8BACxB,IAAI,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAA;8BAC3B,IAAI,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE;kCACvB,CAAC,CAAC,GAAG,CACH,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,cAAc,EACpC,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,CAC1B,CAAA;+BACF;2BACF;uBACF,CAAC,CAAA;mBACH;eACF,CAAC,CAAA;WACH,CAAA;UAED,IAAI,CAAC,MAAM,EAAE,CAAA;OACd;MAED,6CAAgB,GAAhB,UAAiB,MAAkB;UAAnC,iBAwCC;UAvCC,IAAM,IAAI,GAAG,IAAI,CAAA;UACjB,IAAM,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAA;UAC9B,IAAI,CAAC,MAAM,GAAG;cACZ,KAAI,CAAC,GAAG,CAAC,OAAO,GAAG,IAAI,CAAA;cACvB,IAAI,CAAC,aAAa,EAAE,CAAA;cACpB,IAAI,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE;kBACvB,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,cAAc,EAAE,SAAS,CAAC,CAAA;eACpE;cACD,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAA;cAErC,IAAI,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE;;kBAGvB,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,WAAW,GAAG,UAC9B,WAAmB,EACnB,QAAgB;sBAEhB,IAAI,CAAC,GAAG,EAAE,CAAA;sBACV,IAAM,QAAQ,GAAG,CAAC,WAAW,GAAG,CAAC,IAAI,QAAQ,CAAA;sBAC7C,IAAI,MAAM,GAAG,WAAW,GAAG,QAAQ,CAAA;sBACnC,MAAM,GAAG,MAAM,GAAG,QAAQ,GAAG,QAAQ,GAAG,MAAM,CAAA;sBAE9C,KAAK,IAAI,CAAC,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;0BACtC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;uBAClB;sBACD,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAA;sBACnB,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAA;sBACtC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,WAAW,GAAG,WAAW,CAAA;mBAC5C,CAAA;kBAED,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAA;eAC7D;mBAAM;;kBAEL,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,CAAA;kBACxB,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAA;eACvC;WACF,CAAA;UAED,IAAI,CAAC,MAAM,EAAE,CAAA;OACd;;;;MAmFD,oCAAO,GAAP;;UAEE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,UAAA,OAAO;cAC1B,OAAO,EAAE,CAAA;WACV,CAAC,CAAA;UACF,IAAI,CAAC,MAAM,GAAG,SAAS,CAAA;OACxB;;;;MAKD,0CAAa,GAAb;UACE,OAAO,IAAI,CAAC,QAAQ,CAAA;OACrB;MAED,0CAAa,GAAb;UACE,OAAO,KAAK,CAAA;OACb;MAED,uCAAU,GAAV,UAAW,KAAU;UACnB,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAA;OAClC;MACH,yBAAC;EAAD,CAAC,IAAA;;EC/XD;MAAA;OA2EC;MAtEC,gCAAI,GAAJ,UAAK,MAAW;UACd,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;UACxC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAA;OACnC;MAED,kCAAM,GAAN;UACE,OAAO,IAAI,CAAC,GAAG,CAAA;OAChB;MAED,mCAAO,GAAP;UACE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;cAC1C,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;cACzB,GAAG,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;WAC/C;OACF;MAED,mCAAO,GAAP,UAAQ,MAAW;UACjB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAA;OACnC;MAEO,sCAAU,GAAlB,UAA8B,MAAW;UAAzC,iBAiDC;UAhDC,IAAM,GAAG,GAAe,EAAE,CAAA;UAC1B,IAAM,IAAI,GAAe,EAAE,CAAA;UAEnB,IAAA,wBAAO,EAAE,0BAAQ,EAAE,kBAAI,EAAE,gBAAG,EAAE,sBAAM,CAAW;UAEvD,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,CAAC,WAAW,KAAK,KAAK,EAAE;cAChE,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAA,GAAG;kBACjB,IAAI,OAAO,GAAG,CAAC,MAAM,KAAK,UAAU,EAAE;sBACpC,IAAM,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,KAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAA;sBAC/C,IAAI,CAAC,KAAK,IAAI,EAAE;0BACd,OAAM;uBACP;mBACF;uBAAM,IAAI,OAAO,GAAG,CAAC,MAAM,KAAK,SAAS,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;sBACzD,OAAM;mBACP;kBAED,GAAG,CAAC,IAAI,CACN,+BAA4B,GAAG,CAAC,OAAO,QAAI;uBACxC,OAAO,GAAG,CAAC,OAAO,KAAK,QAAQ;4BAC5B,YAAY,GAAG,GAAG,CAAC,OAAO,GAAG,QAAQ;4BACrC,EAAE,CAAC;sBACP,GAAG,CAAC,IAAI;sBACR,MAAM,CACT,CAAA;kBACD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAA;eACvB,CAAC,CAAA;WACH;UAED,IAAI,CAAC,GAAG,CAAC,SAAS;cAChB,+BAA+B,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAA;UAE3D,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAA;kCACjD,CAAC;cACR,IAAM,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,CAAA;cACpB,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;cACnB,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE;kBAC5B,IAAM,GAAG,GAAG,GAAG,CAAC,GAAG,CAAA;kBACnB,IAAM,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAA;kBACpC,eAAe,CACb,GAAG,EACH,GAAG,EACH,EAAE,IAAI,MAAA,EAAE,QAAQ,UAAA,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,EACvC,MAAM,CACP,CAAA;eACF,CAAC,CAAA;;UAZJ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE;sBAA5B,CAAC;WAaT;UACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAA;UAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAA;OACjB;MACH,wBAAC;EAAD,CAAC,IAAA;;;EC7ED;MAAA;OAgPC;;;MAnOG,+BAAI,GAAJ,UAAK,MAAW;UAAhB,iBAgFC;UA/EG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;UACtB,IAAM,IAAI,GAAG,IAAI,CAAC;UAClB,IAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;;UAGzB,IAAM,UAAU,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAA;UACzD,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE;cACnB,IAAI,KAAI,CAAC,WAAW,CAAC,MAAM,IAAI,KAAI,CAAC,IAAI,CAAC,MAAM,EAAE;;kBAE7C,KAAI,CAAC,WAAW,GAAG,EAAE,CAAA;eACxB;mBAAM;;kBAEH,KAAI,CAAC,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,KAAI,CAAC,IAAI,CAAC,CAAA;eACxC;cACD,KAAI,CAAC,YAAY,EAAE,CAAA;WACtB,CAAC,CAAC;UACH,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;;UAG7B,IAAM,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;UACxD,IAAM,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;UACxD,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE;;cAEf,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;cACtC,IAAI,CAAC,YAAY,EAAE,CAAC;cACpB,MAAM,CAAC,qBAAqB,EAAE,CAAC;cAC/B,IAAI,OAAO,IAAI,CAAC,SAAS,KAAK,UAAU,EAAE;kBACtC,IAAI,CAAC,SAAS,EAAE,CAAA;eACnB;WACJ,CAAC,CAAC;UACH,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE;;cAEf,MAAM,CAAC,qBAAqB,EAAE,CAAC;cAC/B,IAAI,OAAO,IAAI,CAAC,SAAS,KAAK,UAAU,EAAE;kBACtC,IAAI,CAAC,SAAS,EAAE,CAAA;eACnB;WACJ,CAAC,CAAC;UACH,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;UACrB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;;UAGrB,IAAM,UAAU,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC;UAClE,UAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC;UAExD,IAAI,CAAC,GAAG,CAAC,CAAC;UACV,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,UAAA,IAAI;cACb,UAAU,CAAC,MAAM,CACb,gDAAgD,GAAG,CAAC,GAAG,qBAAqB,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI;kBAC7F,wCAAwC;kBACxC,sHAAsH;kBACtH,oCAAoC,GAAG,IAAI,CAAC,IAAI,GAAG,WAAW;kBAC9D,YAAY;kBACZ,QAAQ,CACX,CAAC;cACF,CAAC,IAAI,EAAE,CAAA;WACV,CAAC,CAAC;;UAGH,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,uBAAuB,EAAE;;cAE5C,IAAM,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAA;cACvC,IAAM,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,UAAA,IAAI,IAAI,OAAA,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,GAAA,CAAC,CAAC;cACxE,IAAI,EAAE,EAAE;;kBAEJ,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,UAAA,IAAI,IAAI,OAAA,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,GAAA,CAAC,CAAA;eAEjE;mBAAM;;kBAEH,IAAM,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,UAAA,IAAI,IAAI,OAAA,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,GAAA,CAAC,CAAC;kBACjE,IAAI,CAAC,WAAW,CAAC,IAAI,cAAM,EAAE,EAAG,CAAA;eACnC;;cAGD,IAAI,CAAC,YAAY,EAAE,CAAA;WACtB,CAAC,CAAC;UAEH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;UACjB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;UACtC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAA;OAC/B;MAED,uCAAY,GAAZ;UACI,IAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;UAEjD,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;;cAE7C,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,kCAAkC,CAAC,CAAC;cACtD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,kCAAkC,CAAC,CAAA;WAEhH;eAAM,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;;cAEtC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,oCAAoC,CAAC,CAAC;cACxD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,oCAAoC,CAAC,CAAA;WAElH;eAAM;;cAEH,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,wCAAwC,CAAC,CAAC;cAE5D,IAAM,MAAI,GAAG,IAAI,CAAC;cAClB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC;kBACxC,IAAM,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;kBACrB,IAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;kBACpC,IAAM,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,MAAI,CAAC,WAAW,EAAE,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,EAAE,KAAK,CAAC,GAAA,CAAC,CAAC;kBAC3D,IAAI,EAAE,EAAE;;sBAEJ,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,kCAAkC,CAAC,CAAA;mBAE9E;uBAAM;;sBAEH,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,oCAAoC,CAAC,CAAA;mBAChF;eACJ,CAAC,CAAA;WACL;OACJ;;;MAID,iCAAM,GAAN;UACI,OAAO,IAAI,CAAC,GAAG,CAAA;OAClB;;;MAID,yCAAc,GAAd;;UAEI,QAAQ,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAC;OACtD;;;;;MAMD,yCAAc,GAAd;;UAEI,OAAO,IAAI,CAAA;OACd;;;MAID,mCAAQ,GAAR;UACI,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;;cAE7C,OAAM;WACT;UACD,OAAO;cACH,UAAU,EAAE,KAAK;cACjB,MAAM,EAAE,IAAI,CAAC,WAAW;WAC3B,CAAA;OACJ;;;MAID,mCAAQ,GAAR,UAAS,KAAU;UACf,IAAI,CAAC,KAAK,EAAE;;cAER,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;WACxC,AAEA;OACJ;;;;;;;MAQD,2CAAgB,GAAhB,UAAiB,KAAU;UACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;UACjC,IAAI,CAAC,YAAY,EAAE,CAAA;OACtB;;;;;;MAOD,kCAAO,GAAP;UACI,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;UACtB,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;UACtB,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;UAClB,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAA;OACpB;;;;;;;MAQD,2CAAgB,GAAhB;UACI,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAA;OAClC;MAED,mCAAQ,GAAR,UAAS,MAAW;UAEhB,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;UACzC,IAAM,IAAI,GACN,wCAAwC;cACxC,WAAW;cACX,0FAA0F;cAC1F,6DAA6D;cAC7D,4CAA4C;cAC5C,sFAAsF;cACtF,kBAAkB;cAClB,mDAAmD;cACnD,kBAAkB;cAClB,cAAc;cACd,4DAA4D;cAC5D,gDAAgD;cAChD,IAAI;cACJ,IAAI;cACJ,wEAAwE;cACxE,kBAAkB;cAClB,IAAI;cACJ,IAAI;cACJ,gBAAgB;cAChB,cAAc;cACd,YAAY;cACZ,UAAU;cACV,2DAA2D;cAC3D,0DAA0D;cAC1D,0DAA0D;cAC1D,QAAQ,CAAC;UACb,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAA;OAC5B;MACL,uBAAC;EAAD,CAAC,IAAA;;;EChPD;MAAA;OAuFC;;MA5EG,4BAAI,GAAJ,UAAK,MAAW;UACZ,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;UACxB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;UAC5B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;UACrB,IAAA,kBAAI,EAAE,kBAAI,EAAE,sBAAM,EAAE,sBAAM,EAAE,wCAAe,EAAE,oBAAK,EAAE,8BAAU,CAAW;UAEhF,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE;cACX,IAAI,MAAA,EAAE,KAAK,OAAA,EAAE,IAAI,MAAA,EAAE,MAAM,QAAA,EAAE,MAAM,QAAA,EAAE,UAAU,YAAA;WAChD,CAAC,CAAC;UAEH,IAAI,CAAC,kBAAkB,GAAG,eAAe,CAAC;UAE1C,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;UAC1B,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;UAC1B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;UACpB,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC;OAC7B;;MAGD,8BAAM,GAAN;OACC;;;;MAKD,wCAAgB,GAAhB;OACC;;MAGD,gCAAQ,GAAR;OACC;MAED,gCAAQ,GAAR,UAAS,QAAa;UAClB,OAAO,CAAC,KAAK,CAAC,eAAe,GAAG,QAAQ,CAAC,CAAA;OAC5C;;;MAID,+BAAO,GAAP;UACI,IAAI,OAAO,IAAI,CAAC,KAAK,KAAK,WAAW,EAAE;cACnC,OAAM;WACT;UACD,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC;UACpE,IAAI,QAAQ,EAAE;cACV,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAA;WAEtD;eAAM;cACH,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,SAAS,CAAA;WACvD;OACJ;;;MAID,+BAAO,GAAP;UACI,OAAO,KAAK,CAAA;OACf;;;MAID,2CAAmB,GAAnB;;OAEC;;;MAID,wCAAgB,GAAhB;;OAEC;;MAGD,+BAAO,GAAP;OACC;;MAGD,gCAAQ,GAAR;OACC;MACL,oBAAC;EAAD,CAAC,IAAA;;;ECrFD,IAAI,OAAO,GAAG,KAAK,CAAA;EAEnB;MAA+C,qCAAa;MAA5D;;OAiNC;MAxMC,gCAAI,GAAJ,UAAK,MAAW;UACd,iBAAM,IAAI,YAAC,MAAM,CAAC,CAAA;UAElB,IAAI,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE;cACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAA;WACrB;UACD,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;UACxC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAA;UAC1C,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC,CAAA;UAE7C,IAAI,CAAC,GAAG,CAAC,SAAS;cAChB,mEAAmE,CAAA;UAErE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAA;UACnD,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;UAE5C,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UACnE,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UAC/D,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UACjE,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAC1B,kBAAkB,EAClB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CACpC,CAAA;UACD,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAC1B,gBAAgB,EAChB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAClC,CAAA;OACF;MAED,+CAAmB,GAAnB;UACE,OAAO,GAAG,IAAI,CAAA;OACf;MAED,6CAAiB,GAAjB,UAAkB,CAAM;UACtB,OAAO,GAAG,KAAK,CAAA;UACf,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAA;OACxB;MAED,sCAAU,GAAV,UAAW,CAAM;UACf,IAAI,CAAC,CAAC,IAAI,KAAK,KAAK,IAAI,CAAC,CAAC,IAAI,KAAK,OAAO,EAAE;;cAE1C,CAAC,CAAC,eAAe,EAAE,CAAA;cACnB,CAAC,CAAC,cAAc,EAAE,CAAA;cAClB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAA;cAE3B,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,KAAK,UAAU,EAAE;kBACpD,IAAM,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;kBAChD,IAAI,CAAC,EAAE;;sBAEL,OAAM;mBACP;eACF;;cAGD,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,IAAI,CAAA;;cAEzB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,WAAW,EAAE,CAAA;WAC/B;OACF;MAED,oCAAQ,GAAR,UAAS,CAAM;UACb,IAAI,OAAO,EAAE;cACX,OAAM;WACP;UACD,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAA;OACxB;MAED,2CAAe,GAAf,UAAgB,CAAM;UACpB,IAAI,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAA;UAC1B,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;cAC1B,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,CAAC,EAAE;kBACjC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAA;kBACrC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;sBAC9C,IAAI,CAAC,SAAA,CAAA;sBACL,OAAO,CAAC,EAAE;0BACR,CAAC,GAAG,KAAK,CAAA;0BACT,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;0BAChC,IAAI,CAAC,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,EAAE;8BAC7B,MAAK;2BACN;uBACF;;mBAEF;kBACD,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAA;kBACjC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC,CAAA;kBACrC,KAAK,GAAG,KAAK;uBACV,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC;uBACnB,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;uBAClB,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAA;kBAEtB,IAAM,CAAC,GAAG,IAAI,CACZ,0BAA0B,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,QAAQ,CAClE,CAAA;kBACD,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,SAAS,CAAC,CAAA;eACpC;mBAAM;kBACL,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAA;kBACpC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;sBACpB,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;mBACjC;kBACD,IAAI,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;sBACzB,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAA;mBACpD;uBAAM;sBACL,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAA;mBACpC;eACF;WACF;UAED,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAA;UACtB,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,EAAE;;cAExB,OAAM;WACP;UACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAA;UAElB,IAAI,CAAC,CAAC,MAAM,KAAK,QAAQ,EAAE;cACzB,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,KAAK,UAAU,EAAE;kBACjD,IAAM,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAA;kBAChD,IAAI,OAAO,CAAC,KAAK,WAAW,EAAE;sBAC5B,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA;sBACd,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAA;mBACnB;kBAED,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,KAAK,UAAU,EAAE;sBACpD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,CAAA;mBAClC;eACF;WACF;OACF;MAED,qCAAS,GAAT,UAAU,CAAM;UACd,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAA;UAE3B,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,KAAK,UAAU,EAAE;cAClD,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAA;WACxC;OACF;MAED,mCAAO,GAAP;UACE,iBAAM,OAAO,WAAE,CAAA;UACf,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UACtE,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UAClE,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;UACpE,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAC7B,kBAAkB,EAClB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CACpC,CAAA;UACD,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAC7B,gBAAgB,EAChB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAClC,CAAA;OACF;MAED,kCAAM,GAAN;UACE,OAAO,IAAI,CAAC,GAAG,CAAA;OAChB;MAED,4CAAgB,GAAhB;UACE,iBAAM,gBAAgB,WAAE,CAAA;UACxB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,OAAO,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAA;UAEzE,IAAI,IAAI,CAAC,kBAAkB,EAAE;cAC3B,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAA;WACpB;OACF;MAED,oCAAQ,GAAR;UACE,IAAI,OAAO,IAAI,CAAC,WAAW,KAAK,WAAW,EAAE;;cAE3C,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,KAAK,UAAU,EAAE;kBACpD,IAAM,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;kBAChD,IAAI,CAAC,EAAE;;sBAEL,OAAO,IAAI,CAAC,MAAM,CAAA;mBACnB;eACF;WACF;UAED,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,KAAK,UAAU,EAAE;cAClD,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;kBACvB,IAAI,EAAE,IAAI,CAAC,IAAI;kBACf,MAAM,EAAE,IAAI,CAAC,MAAM;kBACnB,MAAM,EAAE,IAAI,CAAC,MAAM;kBACnB,QAAQ,EAAE,IAAI,CAAC,KAAK;kBACpB,QAAQ,EAAE,IAAI,CAAC,QAAQ;kBACvB,GAAG,EAAE,IAAI,CAAC,GAAG;kBACb,WAAW,EAAE,IAAI,CAAC,WAAW;eAC9B,CAAC,CAAA;WACH;UACD,OAAO,IAAI,CAAC,KAAK,CAAA;OAClB;MAED,mCAAO,GAAP;UACE,iBAAM,OAAO,WAAE,CAAA;UACf,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAA;UACnB,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAA;OACrB;MAED,oCAAQ,GAAR;UACE,iBAAM,QAAQ,WAAE,CAAA;OACjB;MACH,wBAAC;EAAD,CAjNA,CAA+C,aAAa,GAiN3D;;;ECnND;MAAgD,sCAAa;MAA7D;;OAuEC;MAlEC,iCAAI,GAAJ,UAAK,MAAW;UACd,iBAAM,IAAI,YAAC,MAAM,CAAC,CAAA;UAClB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAA;UAC7B,IAAI,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE;cACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAA;WACrB;UAED,IAAM,IAAI,GAAG,CAAC,CAAC,6BAA6B,CAAC,CAAA;UAE7C,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;OAEnB;MAED,mCAAM,GAAN;UACE,OAAO,IAAI,CAAC,GAAG,CAAA;OAChB;MAED,6CAAgB,GAAhB;;;;;;;;;OASC;MAED,qCAAQ,GAAR;;;;;;;;;;;;;;;;;;;;;;;OAuBC;MAED,oCAAO,GAAP;UACE,iBAAM,OAAO,WAAE,CAAA;;OAEhB;MAED,oCAAO,GAAP;UACE,iBAAM,OAAO,WAAE,CAAA;;OAEhB;MAED,qCAAQ,GAAR;UACE,iBAAM,QAAQ,WAAE,CAAA;OACjB;MACH,yBAAC;EAAD,CAvEA,CAAgD,aAAa,GAuE5D;;;ECjDD,WAAY,eAAe;MACzB,mEAAW,CAAA;MACX,+EAAiB,CAAA;MACjB,uFAAqB,CAAA;EACvB,CAAC,EAJWI,uBAAe,KAAfA,uBAAe,QAI1B;EAsBD;;;EAGA,KAAK,CAAC,OAAO,CACX;MACE,IAAI,EAAE,MAAM;MACZ,KAAK,EAAE,UAAU,MAAW;UAC1B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;UAC1B,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,cAAY,IAAI,CAAC,MAAM,qDAA8C,CAAA;UAC5F,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAA;UAC7B,IAAI,MAAM,CAAC,EAAE,IAAI,OAAO,MAAM,CAAC,EAAE,CAAC,UAAU,KAAK,UAAU,EAAE;cAC3D,MAAM,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;WAChC;OACF;GACF,EACD,KAAK,CAAC,EAAE,CAAC,IAAI,CACd,CAAA;AAED;MAA6B,2BAAgB;MAA7C;UAAA,qEAo7CC;UAr4CC,iBAAW,GAAoBA,uBAAe,CAAC,WAAW,CAAC;;;;UA+GlD,cAAQ,GAAY,IAAI,CAAA;;;;UAKxB,gBAAU,GAAY,KAAK,CAAA;;;;UAK3B,cAAQ,GAAW,GAAG,CAAA;;;;UA+C/B,gBAAU,GAAU,EAAE,CAAA;;UAuRd,qBAAe,GAAY,KAAK,CAAA;UAChC,oBAAc,GAAwB,SAAS,CAAA;;OAq8BxD;MAn7CQ,cAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAA;UAC5C,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,IAAI,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE;cACpC,SAAQ;WACT;;UAGD,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;;UAGpD,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,UAAC,KAAK,EAAE,GAAG;cACzB,OAAO,KAAK,CAAC,GAAG,CAAC,CAAA;WAClB,CAAC,CAAA;UACF,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE;cACb,IAAI,EAAE,MAAM;;cAEZ,EAAE,EAAE;kBACF,UAAU,EAAE;sBAAA,iBAKX;sBAJC,CAAC,CAAC,KAAK,CAAC;0BACN,IAAI,CAAC,YAAY,CAAC,KAAI,wBAAO,KAAK,GAAK,QAAQ,EAAG,CAAA;0BAClD,IAAI,CAAC,UAAU,EAAE,CAAA;uBAClB,CAAC,CAAC;mBACJ;kBACD,UAAU,EAAV;sBACE,IAAI,IAAI,CAAC,OAAO,EAAE;0BAChB,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAA;0BACtB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAA;uBACzB;sBACD,IAAI,CAAC,YAAY,EAAE,CAAA;mBACpB;eACF;WACF,CAAC,CAAA;UACF,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE;cACjB,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAA;WACzB;UACD,OAAO,IAAI,CAAA;OACZ;MAOD,sBAAI,0BAAK;eAAT;cACE,OAAO,IAAI,CAAC,MAAM,CAAA;WACnB;;;SAAA;MAKD,sBAAI,+BAAU;;;;eAUd;cACE,OAAO,IAAI,CAAC,KAAK,CAAC,UAAU,CAAA;WAC7B;;;;eAZD,UAAe,EAAkB;cAC/B,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,EAAE,CAAA;;;;WAI3B;;;SAAA;;;;;MAgKD,2BAAS,GAAT,UAAU,SAA8B;UACtC,IAAM,IAAI,GAAQ,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAA;UAC3C,IAAI,IAAI,EAAE;cACR,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAA;cACpD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;cACtB,OAAO,IAAI,CAAA;WACZ;UACD,OAAO,KAAK,CAAA;OACb;;;;;MAMD,0BAAQ,GAAR,UAAS,SAAc;UACrB,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAA;UACtC,IAAI,IAAI,EAAE;cACR,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;cAC7C,OAAO,IAAI,CAAA;WACZ;UACD,OAAO,KAAK,CAAA;OACb;;;;;;MAOD,2BAAS,GAAT,UAAU,IAAS,EAAE,SAAc;UACjC,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAA;UACtC,IAAI,IAAI,EAAE;cACR,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;cAC5D,OAAO,IAAI,CAAA;WACZ;UACD,OAAO,KAAK,CAAA;OACb;;;;MAMD,oCAAkB,GAAlB,UAAmB,cAAqB;UAAxC,iBAqCC;UAnCC,IAAI,IAAI,CAAC,WAAW,KAAKA,uBAAe,CAAC,iBAAiB,IAAI,IAAI,CAAC,WAAW,KAAKA,uBAAe,CAAC,qBAAqB,EAAE;;cAGxH,IAAI,CAAC,WAAW,GAAGA,uBAAe,CAAC,WAAW,CAAA;cAC9C,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;cAC7B,IAAI,IAAI,CAAC,cAAc,EAAE;kBACvB,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,CAAA;eACjE;WACF;eAAM;;cAEL,IAAI,CAAC,WAAW,GAAGA,uBAAe,CAAC,WAAW,CAAA;cAC9C,IAAM,aAAW,GAAQ;kBACvB,GAAG,EAAE,EAAE;kBACP,MAAM,EAAE,EAAE;kBACV,MAAM,EAAE,EAAE;eACX,CAAA;cACD,IAAI,GAAC,GAAG,CAAC,CAAA;cACT,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAC,IAAS;kBACjC,IAAI,GAAC,KAAK,cAAc,CAAC,MAAM,EAAE;;sBAE/B,aAAW,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;mBACnC;uBAAM;sBACL,IAAM,OAAO,GAAG,cAAc,CAAC,GAAC,EAAE,CAAC,CAAA;sBACnC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAA;sBACrB,aAAW,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;mBACnC;eACF,CAAC,CAAA;cACF,OAAO,GAAC,GAAG,cAAc,CAAC,MAAM,EAAE,GAAC,EAAE,EAAE;kBACrC,aAAW,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,GAAC,CAAC,CAAC,CAAA;eACxC;cACD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,aAAW,CAAC,CAAA;WACxC;UACD,IAAI,IAAI,CAAC,0BAA0B,IAAI,IAAI,CAAC,0BAA0B,IAAG,CAAC,IAAI,cAAc,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;cACzH,IAAI,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,QAAQ,KAAK,KAAI,CAAC,0BAA0B,GAAA,CAAC,CAAC;WAC3E;OACF;;;;MAKD,yBAAO,GAAP;UACE,IAAM,MAAM,GAAU,EAAE,CAAA;UACxB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAC,IAAS;cACjC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;WACvB,CAAC,CAAA;UACF,OAAO,MAAM,CAAA;OACd;;;;;;MAOD,yBAAO,GAAP,UAAQ,EAAqB;UAC3B,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC,CAAA;OAC5B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAoDD,wBAAM,GAAN,UAAO,WAA0D;UAA1D,4BAAA,EAAA,cAA+BA,uBAAe,CAAC,WAAW;UAC/D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAA;UACnB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAA;;UAE9B,IAAI,CAAC,WAAW,EAAE,CAAA;;UAGlB,IAAI,IAAI,CAAC,cAAc,EAAE;cACvB,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAA;WACpC;UAED,IAAI,IAAI,CAAC,UAAU,EAAE;cACnB,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,UAAU,GAAG,cAAc,EAAE,SAAS,CAAC,CAAA;WACrE;;UAGD,IAAI,WAAW,KAAKA,uBAAe,CAAC,qBAAqB,EAAE;cACzD,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAA;cACjC,IAAI,IAAI,CAAC,cAAc,EAAE;;kBAEvB,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,EAAE;sBACjF,IAAI,CAAC,cAAc,EAAE,CAAC;mBACvB;eACF;WACF;eAAM;cACL,IAAI,IAAI,CAAC,UAAU,EAAE;kBACnB,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAA;eAC5B;mBAAM;kBACL,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAA;eACpC;WACF;OACF;;;;MAKD,+BAAa,GAAb;UACE,IAAM,GAAG,GAAG,IAAI,CAAC,cAAc,EAAE,CAAA;UACjC,IAAI,GAAG,EAAE;cACP,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAA;WAC7B;OACF;;;;MAKD,+BAAa,GAAb,UAAc,GAAe;;UAE3B,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;;UAGtB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;cACxB,OAAO,EAAE,CAAC,QAAQ,CAAC;cACnB,KAAK,EAAE,IAAI;WACZ,CAAC,CAAA;OACH;;;;MAKD,gCAAc,GAAd;UAAA,iBASC;UARC,IAAM,QAAQ,GAAU,EAAE,CAAA;UAC1B,IAAI,CAAC,SAAS,CAAC,UAAC,IAAS;cACvB,IAAI,CAAC,CAAC,OAAO,CAAC,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE;kBAChE,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;eACzB;cACD,OAAO,KAAK,CAAA;WACb,CAAC,CAAA;UACF,OAAO,QAAQ,CAAA;OAChB;;;;MAKD,gCAAc,GAAd;UACE,IAAM,IAAI,GAAG,IAAI,CAAC,eAAe,EAAE,CAAA;UACnC,OAAO,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,SAAS,CAAA;OAC7C;;;;MAKD,iCAAe,GAAf;;;UAGE,IAAM,QAAQ,GAAU,EAAE,CAAA;UAC1B,IAAI,CAAC,SAAS,CAAC,UAAC,IAAS;cACvB,IAAI,IAAI,CAAC,QAAQ,EAAE;kBACjB,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;eACzB;cACD,OAAO,KAAK,CAAA;WACb,CAAC,CAAA;UACF,OAAO,QAAQ,CAAA;OAChB;MAKD,sBAAI,4BAAO;;;;eAAX,UAAY,QAAiB;cAC3B,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;kBACzB,OAAM;eACP;cACD,IAAI,QAAQ,EAAE;;kBAEZ,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAA;kBACjC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,+BAA6B,CAAC,CAAC;eAC3F;mBAAM;;kBAEL,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,EAAE,CAAA;kBAC9C,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAA;eAC3B;WACF;;;SAAA;MAED,uCAAqB,GAArB,UAAsB,IAAY;UAChC,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAA;OACzC;;MAGO,0BAAQ,GAAhB,UAAiB,CAAM;UACrB,OAAO,eAAe,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;OAChC;MAMO,8BAAY,GAApB;UACE,CAAC,CAAC,MAAM,CAAC,IAAI,wBACR,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,GACnB,IAAI,CAAC,KAAK,EACb,CAAA;UACF,IAAM,UAAU,GAAG,EAAE,CAAA;;UAGrB,IAAI,IAAI,CAAC,aAAa,EAAE;cACtB,UAAU,CAAC,IAAI,CAAC;kBACd,KAAK,EAAE,QAAQ;kBACf,UAAU,EAAE,aAAa,CAAC,SAAS;kBACnC,KAAK,EAAE,EAAE;;kBAET,QAAQ,EAAE,GAAG;kBACb,MAAM,EAAE,MAAM;kBACd,SAAS,EAAE,IAAI;kBACf,QAAQ,EAAE,KAAK;kBACf,YAAY,EAAE,iBAAiB;eAChC,CAAC,CAAA;WACH;;UAGD,IAAI,IAAI,CAAC,QAAQ,EAAE;cACjB,UAAU,CAAC,IAAI,CAAC;kBACd,KAAK,EAAE,QAAQ;kBACf,UAAU,EAAE,EAAE;kBACd,KAAK,EAAE,EAAE;kBACT,QAAQ,EAAE,EAAE;kBACZ,QAAQ,EAAE,EAAE;kBACZ,MAAM,EAAE,MAAM;kBACd,SAAS,EAAE,KAAK;kBAChB,QAAQ,EAAE,KAAK;kBACf,YAAY,EAAE,qBAAqB;kBACnC,eAAe,EAAE,qBAAqB;kBACtC,kBAAkB,EAAE;sBAClB,YAAY,EAAE,IAAI;mBACnB;eACF,CAAC,CAAA;WACH;;UAGD,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAA;UAE1B,IAAI,UAAU,GAAG,UAAU,CAAA;UAC3B,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;;cAEtD,UAAU,GAAG,UAAU,CAAA;WACxB;eAAM;;cAEL,UAAU,GAAG,EAAE,CAAA;cACf,IAAI,CAAC,GAAG,CAAC,CAAA;cACT,IAAI,YAAY,SAAK,CAAA;cACrB,IAAI,gBAAgB,GAAG,CAAC,CAAC,CAAA;cAEzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;kBACpC,IAAA,wBAAkD,EAAhD,cAAI,EAAE,gBAAK,EAAE,cAAI,EAAE,gBAA6B,CAAA;kBACxD,IAAM,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAA;kBACvB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE;sBACxB,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;mBACnB;kBAED,IAAI,gBAAgB,GAAG,CAAC,EAAE;sBACxB,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;sBAC7B,gBAAgB,EAAE,CAAA;sBAClB,IAAI,gBAAgB,IAAI,CAAC,EAAE;0BACzB,CAAC,EAAE,CAAA;uBACJ;mBACF;uBAAM,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,EAAE;sBAC3B,YAAY,GAAG;0BACb,KAAK,EAAE,KAAK;0BACZ,UAAU,EAAE,KAAK;0BACjB,QAAQ,EAAE,CAAC,CAAC,CAAC;uBACd,CAAA;sBACD,gBAAgB,GAAG,IAAI,GAAG,CAAC,CAAA;sBAC3B,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAA;mBAC9B;uBAAM;sBACL,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;mBACnB;eACF;WACF;UAED,IAAM,WAAW,GAAG;cAClB,YAAY,EAAE,EAAE;cAChB,SAAS,EAAE,EAAE;cACb,yBAAyB,EAAE,IAAI;cAC/B,UAAU,YAAA;cACV,WAAW,EAAE,KAAK;cAClB,qBAAqB,EAAE,CAAC,IAAI,CAAC,kBAAkB;cAC/C,yBAAyB,EAAE,CAAC,IAAI,CAAC,iBAAiB;cAClD,2BAA2B,EAAE,IAAI;cACjC,UAAU,EAAE,IAAI,CAAC,UAAU;cAC3B,kBAAkB,EAAE,IAAI,CAAC,QAAQ;cACjC,UAAU,EAAE,aAAa;cACzB,YAAY,EAAE,UAAU;cACxB,uBAAuB,EAAE,GAAG;;cAE5B,gBAAgB,EAAE,CAAC;;cAEnB,YAAY,EAAE,QAAQ;cACtB,qBAAqB,EAAE,IAAI;;cAE3B,eAAe,EAAE,IAAI,CAAC,eAAe;cACrC,cAAc,EAAE,KAAK;cACrB,6BAA6B,EAAE,IAAI,CAAC,6BAA6B;cAEjE,mBAAmB,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC;cAEvD,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC;cACvC,aAAa,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC;cAC7C,kBAAkB,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC;cACvD,aAAa,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC;cAC3C,kBAAkB,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC;cACrD,oBAAoB,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC;cACzD,oBAAoB,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC;cACzD,aAAa,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC;cAC3C,cAAc,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC;cAC7C,aAAa,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC;cAC3C,aAAa,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC;cAC3C,eAAe,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC;cAC/C,cAAc,EAAE,KAAK;cACrB,uBAAuB,EAAE,KAAK;cAE9B,UAAU,EAAE;kBACV,iBAAiB,EAAE,iBAAiB;kBACpC,mBAAmB,EAAE,mBAAmB;kBACxC,mBAAmB,EAAE,mBAAmB;kBACxC,iBAAiB,EAAE,iBAAiB;kBACpC,kBAAkB,EAAE,kBAAkB;;kBAEtC,gBAAgB,EAAE,gBAAgB;kBAClC,eAAe,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;eAC1C;WACF,CAAA;UAED,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;;cAE9B,CAAC,CAAC,MAAM,CAAC,WAAW,EAAE;kBACpB,YAAY,EAAE,YAAY;kBAC1B,OAAO,EAAE,IAAI,CAAC,IAAI;kBAClB,IAAI,EAAE,EAAE;eACT,CAAC,CAAA;WACH;UAED,IAAI,IAAI,CAAC,UAAU,EAAE;cACnB,CAAC,CAAC,MAAM,CAAC,WAAW,EAAE;kBACpB,YAAY,EAAE,YAAY;kBAC1B,OAAO,EAAE,EAAE;kBACX,IAAI,EAAE,EAAE;eACT,CAAC,CAAA;WACH;UAED,OAAO,WAAW,CAAA;OACnB;MAEO,gCAAc,GAAtB;UACE,IAAI,IAAI,CAAC,cAAc,EAAE;cACvB,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,KAAK,IAAI,CAAC,WAAW,IAAIA,uBAAe,CAAC,qBAAqB,EAAE;kBACjJ,IAAM,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAA;kBACnD,IAAI,OAAO,MAAM,KAAK,UAAU,EAAE;sBAChC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;mBAClC;eACF;cACD,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC;WAC9D;OACF;MAEO,4BAAU,GAAlB;UACE,IAAI,CAAC,eAAe,GAAG,IAAI,CAAA;;UAE3B,IAAI,CAAC,QAAQ,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,CAAA;UACrC,IAAI,CAAC,iBAAiB,EAAE,CAAA;OACzB;MAEO,4BAAU,GAAlB;UACE,IAAI,CAAC,eAAe,GAAG,KAAK,CAAA;UAC5B,IAAM,WAAW,GAAG,IAAI,CAAC,YAAY,EAAE,CAAA;UACvC,IAAM,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAA;UAC9D,IAAM,IAAI,GAAQ,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,WAAW,CAAC,CAAA;UACnD,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAA;UAC/B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAA;UACnC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAA;;UAG3C,IAAI,GAAG,EAAE;cACP,CAAC,CAAC,GAAG,CAAC;mBACH,IAAI,CAAC,0BAA0B,CAAC;mBAChC,WAAW,CAAC,iBAAiB,CAAC,CAAA;WAClC;OACF;MAED,mCAAiB,GAAjB,UAAkB,CAAM;UACtB,eAAe,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAA;OAClD;;;;MAKD,qCAAmB,GAAnB,UAAoB,SAAc;UAChC,IAAI,SAAS,CAAC,QAAQ,KAAK,OAAO,EAAE;cAClC,IAAI,OAAO,SAAS,CAAC,UAAU,CAAC,IAAI,KAAK,QAAQ,EAAE;kBACjD,IAAIC,IAAW,CAAC,cAAc,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;sBACzD,OAAOA,IAAW,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;mBAC9C;uBAAM,IAAIC,SAAgB,CAAC,cAAc,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;sBACrE,OAAOA,SAAgB,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;mBACnD;uBAAM;sBACL,OAAO,CAAC,KAAK,CACX,kCAAkC;0BAClC,SAAS,CAAC,UAAU,CAAC,IAAI,CAC1B,CAAA;mBACF;eACF;mBAAM,IAAI,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,EAAE;kBAC1D,IAAM,YAAU,GAAG,SAAS,CAAC,UAAU,CAAA;kBACvC,OAAO,CAAC,CAAC,GAAG,CAAC,YAAU,CAAC,IAAI,EAAE,UAAA,IAAI;sBAChC,OAAO;0BACL,EAAE,EAAE,IAAI,CAAC,YAAU,CAAC,OAAO,CAAC;0BAC5B,IAAI,EAAE,IAAI,CAAC,YAAU,CAAC,SAAS,CAAC;uBACjC,CAAA;mBACF,CAAC,CAAA;eACH;WACF;UAED,IAAIC,WAAS,GAAG,SAAS,CAAC,SAAS,CAAA;UACnC,IAAI,OAAO,SAAS,CAAC,SAAS,KAAK,QAAQ,EAAE;;cAE3C,IAAIF,IAAW,CAAC,cAAc,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;kBACnDE,WAAS,GAAGF,IAAW,CAAC,SAAS,CAAC,SAAS,CAAC,CAAA;eAC7C;mBAAM,IAAIC,SAAgB,CAAC,cAAc,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;kBAC/D,SAAS,CAAC,SAAS,GAAGA,SAAgB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAA;eAC5D;mBAAM;kBACL,OAAO,CAAC,KAAK,CACX,kCAAkC,GAAG,SAAS,CAAC,UAAU,CAAC,IAAI,CAC/D,CAAA;eACF;WACF;UAED,IAAIC,WAAS,IAAIA,WAAS,CAAC,WAAW,KAAK,KAAK,EAAE;;cAEhD,OAAOA,WAAS,CAAA;WACjB;OACF;;;;MAKD,oCAAkB,GAAlB;UACE,eAAe,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,EAAE,SAAS,CAAC,CAAA;OAC3D;;;;;MAMD,gCAAc,GAAd,UAAe,IAAS;UACtB,IAAI,IAAI,CAAC,MAAM,EAAE;cACf,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA;cAClB,OAAO,IAAI,CAAC,MAAM,CAAA;cAClB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAA;cACnB,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAA;WAC1C;OACF;;;;;MAMD,6BAAW,GAAX;UACE,IAAI,CAAC,UAAU,GAAG,EAAE,CAAA;UACpB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAC,IAAS;cACjC,OAAO,IAAI,CAAC,MAAM,CAAA;cAClB,OAAO,IAAI,CAAC,MAAM,CAAA;WACnB,CAAC,CAAA;OACH;;;;MAKD,6BAAW,GAAX,UAAY,GAAQ;UAClB,IAAI,CAAC,GAAG;cAAE,OAAM;UAChB,IAAI,IAAI,CAAC,OAAO,EAAE;cAChB,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,KAAK,KAAK,EAAE;;kBAEtC,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;eACxE;cAED,OAAO,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;WACzB;UACD,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,CAAA;UAC3B,OAAO,SAAS,CAAA;OACjB;;;;MAKD,mCAAiB,GAAjB;UAAA,iBAoBC;UAnBC,IAAM,WAAW,GAAG;cAClB,IAAI,KAAI,CAAC,cAAc,EAAE;kBACvB,KAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAA;kBAC7B,KAAI,CAAC,cAAc,GAAG,SAAS,CAAA;eAChC;cAED,IAAI,KAAI,CAAC,MAAM,IAAI,KAAI,CAAC,OAAO,EAAE;kBAC/B,KAAI,CAAC,cAAc,GAAG,IAAI,kBAAkB,CAAC,KAAI,EAAE,KAAI,CAAC,UAAU,CAAC,CAAA;eACpE;WACF,CAAA;UAED,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;;cAE9B,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAA;WAErB;eAAM;;cAEL,WAAW,EAAE,CAAA;WACd;OACF;;;;MAKD,kCAAgB,GAAhB;UACE,eAAe,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,EAAE,SAAS,CAAC,CAAA;OACzD;;;;MAKD,2BAAS,GAAT,UAAU,SAA8B;UAAxC,iBA0BC;UAzBC,IAAI,CAAC,SAAS,EAAE;;cAEd,SAAS,GAAG,cAAM,OAAA,IAAI,GAAA,CAAA;WACvB;eAAM,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;;cAExC,IAAM,KAAG,GAAG,SAAS,CAAA;cACrB,SAAS,GAAG,UAAC,CAAM;kBACjB,OAAO,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,KAAG,CAAA;eACxC,CAAA;WACF;eAAM,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;;cAExC,OAAO,SAAS,CAAA;WACjB;UAED,IAAM,EAAE,GAAG,IAAI,CAAA;UACf,IAAI,QAAQ,GAAG,SAAS,CAAA;UACxB,IAAI;cACF,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAC,IAAS;kBACjC,IAAK,SAAiB,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE;sBACrC,QAAQ,GAAG,IAAI,CAAA;sBACf,MAAM,KAAK,EAAE,CAAA;mBACd;eACF,CAAC,CAAA;WACH;UAAC,OAAO,CAAC,EAAE,GAAG;UACf,OAAO,QAAQ,CAAA;OAChB;MAED,8BAAY,GAAZ,UAAa,KAAU;;;;UAKrB,IAAM,CAAC,GAAG,eAAe,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,KAAK,CAAC,CAAA;UACtD,IAAI,CAAC,KAAK,IAAI,EAAE;;cAEd,OAAM;WACP;UAED,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO,KAAK,EAAE,EAAE;cAC9B,KAAK,CAAC,KAAK,CAAC,eAAe,EAAE,CAAA;cAC7B,KAAK,CAAC,KAAK,CAAC,cAAc,EAAE,CAAA;cAC5B,OAAM;WACP;UAED,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO,KAAK,EAAE,EAAE;;cAE9B,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE;kBACrB,KAAK,CAAC,KAAK,CAAC,eAAe,EAAE,CAAA;kBAC7B,KAAK,CAAC,KAAK,CAAC,cAAc,EAAE,CAAA;kBAE5B,IAAM,IAAI,yBACL,KAAK,CAAC,IAAI,GACV,KAAK,CAAC,IAAI,CAAC,MAAM,CACrB,CAAA;kBACD,OAAO,KAAK,CAAC,IAAI,CAAC,MAAM,CAAA;kBACxB,OAAO,KAAK,CAAC,IAAI,CAAC,MAAM,CAAA;kBACxB,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;kBAC3B,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAA;eAChD;WACF;;OAEF;MAED,+BAAa,GAAb;UACE,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,OAAO,EAAE;cACxC,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAA;WAChC;OACF;MAED,8BAAY,GAAZ,UAAa,KAAU;UACrB,eAAe,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,EAAE,KAAK,CAAC,CAAA;OACjD;MAED,8BAAY,GAAZ,UAAa,KAAU;UACrB,eAAe,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,EAAE,KAAK,CAAC,CAAA;OACjD;MAED,8BAAY,GAAZ,UAAa,KAAU;UACb,IAAA,iBAAI,CAAU;UACd,IAAA,wBAAQ,EAAE,YAAE,CAAS;UAE7B,IAAI,CAAC,QAAQ,EAAE;;cAEb,IAAI,CAAC,kBAAkB,CAAC,EAAE,EAAE,KAAK,CAAC,CAAA;cAClC,OAAM;WACP;;UAGD,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;cAC/B,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,UAAU,GAAG,cAAc,EAAE,KAAK,CAAC,IAAI,CAAC,CAAA;;WAEtE;;UAGD,eAAe,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,CAAA;OACpD;MAED,qCAAmB,GAAnB,UAAoB,KAAU;UAC5B,IAAI,KAAK,CAAA;UACT,IAAI,KAAK,CAAC,IAAI,CAAC,SAAS,KAAK,KAAK,EAAE;;cAElC,KAAK,GAAG,CAAC,CAAC,CAAA;WACX;eAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE;;cAEhC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAA;WACtB;UACD,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAA;OACtC;MAED,qCAAmB,GAAnB,UAAoB,KAAU;;UAE5B,IAAI,IAAI,CAAC,MAAM,KAAK,YAAY,EAAE;;cAEhC,OAAM;WACP;UAED,IAAM,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAA;UAChC,IAAI,CAAC,MAAM,EAAE;;cAEX,OAAM;WACP;UAED,IAAM,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;UACpC,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAA;UACrB,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAA;UAErB,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,UAAC,KAAK,EAAE,GAAG;cAC1B,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;kBAC7B,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;eAChC;WACF,CAAC,CAAA;UACF,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,UAAC,KAAK,EAAE,GAAG;cACxB,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;kBAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;eAC9B;WACF,CAAC,CAAA;UAEF,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,EAAE;;cAE3B,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;WAC3B;eAAM;;cAEL,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,UAAU,CAAA;cAE9B,IAAI,IAAI,CAAC,cAAc,EAAE;kBACvB,IAAI,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,EAAE;sBACvC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,KAAK,CAAC,CAAA;mBACtC;eACF;;;;;WAKF;UACD,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAA;OAChD;MAED,oCAAkB,GAAlB,UAAmB,KAAU,EAAE,KAAU;UACvC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE;;cAEtB,IAAM,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;cACpC,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAA;cACrB,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAA;cACrB,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA;WACzB;UAED,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,SAAS,CAAA;UAC7B,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAA;OAChD;MAED,oCAAkB,GAAlB,UAAmB,KAAU,EAAE,KAAU;UACvC,IAAI,IAAI,CAAC,MAAM,KAAK,YAAY,EAAE;;cAEhC,OAAM;WACP;UAED,IAAM,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAA;UAChC,IAAI,CAAC,MAAM,EAAE;;cAEX,OAAM;WACP;UAED,IAAM,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;UACpC,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAA;UACrB,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAA;UAErB,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,UAAC,KAAK,EAAE,GAAG;cAC1B,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;kBAC7B,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;eAChC;WACF,CAAC,CAAA;UACF,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,UAAC,KAAK,EAAE,GAAG;cACxB,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;kBAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;eAC9B;WACF,CAAC,CAAA;UAEF,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,EAAE;;cAE3B,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;WAC3B;eAAM;;cAEL,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,UAAU,CAAA;cAE9B,IAAI,IAAI,CAAC,cAAc,EAAE;kBACvB,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,KAAK,CAAC,CAAA;eACtC;;;;;WAKF;UACD,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAA;OAChD;;;;MAKD,gCAAc,GAAd,UAAe,MAAW;UACxB,IAAM,YAAY,GAAG,MAAM,CAAC,oBAAoB,CAAA;UAChD,IAAM,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAA;;UAGhD,6BACK,gBAAgB,KACnB,QAAQ,EAAE,YAAY,CAAC,QAAQ,IAChC;OACF;;;;MAKD,qCAAmB,GAAnB,UAAoB,MAAW;UAC7B,IAAM,QAAQ,GAAG,EAAE,CAAA;UACnB,IAAM,MAAM,GAAG,EAAE,CAAA;UACjB,IAAM,SAAS,GAAG,EAAE,CAAA;UACpB,IAAM,QAAQ,GAAG,EAAE,CAAA;UAEnB,IAAM,YAAY,GAAG,MAAM,CAAC,oBAAoB,CAAA;UAChD,IAAM,iBAAiB,GAAG,MAAM,CAAC,gBAAgB,CAAA;UACjD,QAAQ,MAAM,CAAC,GAAG;cAChB,KAAK,MAAM,EAAE;kBACX,IAAM,cAAY,GAAG,YAAY,CAAC,QAAQ,GAAG,CAAC,CAAA;kBAC9C,IAAI,cAAY,GAAG,CAAC,EAAE;;sBAEpB,OAAO,IAAI,CAAA;mBACZ;kBACD,IAAI,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,QAAQ,KAAK,cAAY,GAAA,CAAC,CAAA;kBACtD,OAAO;sBACL,QAAQ,EAAE,cAAY;sBACtB,MAAM,EAAE,YAAY,CAAC,MAAM;sBAC3B,QAAQ,EAAE,YAAY,CAAC,QAAQ;mBAChC,CAAA;eACF;cAED,KAAK,QAAQ,EAAE;;kBAEb,IAAM,UAAQ,GAAG,YAAY,CAAC,QAAQ,GAAG,CAAC,CAAA;kBAC1C,IAAM,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAA;kBAC9D,IAAI,UAAQ,IAAI,gBAAgB,EAAE;;sBAEhC,OAAO,IAAI,CAAA;mBACZ;kBACD,IAAI,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,QAAQ,KAAK,UAAQ,GAAA,CAAC,CAAA;kBAClD,OAAO;sBACL,QAAQ,EAAE,UAAQ;sBAClB,MAAM,EAAE,YAAY,CAAC,MAAM;sBAC3B,QAAQ,EAAE,YAAY,CAAC,QAAQ;mBAChC,CAAA;eACF;cAED,KAAK,QAAQ,CAAC;cACd,KAAK,SAAS;kBACZ,OAAO,iBAAiB,CAAA;cAC1B;kBACE,MAAM,sEAAsE,CAAA;WAC/E;OACF;;;;MAKD,2BAAS,GAAT,UAAU,UAAiB;UAA3B,iBAiWC;UAhWC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,UAAA,MAAM;cACzB,IAAM,SAAS,GAAG,CAAC,CAAC,KAAK,uBAElB,CAAC,CAAC,KAAK,CAAC,gBAAgB,CAAC,KAC5B,UAAU,eACL,CAAC,CAAC,KAAK,CAAC,oBAAoB,CAAC,MAGpC,MAAM,CACP,CAAA;;;;;;;;;;;;;;;;;;;;cAsBD,IAAM,GAAG,GAAQ;kBACf,eAAe,EAAE,IAAI;kBACrB,KAAK,EAAE,SAAS,CAAC,KAAK;kBACtB,UAAU,EAAE,SAAS,CAAC,KAAK;kBAC3B,SAAS,EAAE,SAAS,CAAC,SAAS;kBAC9B,MAAM,EAAE,KAAK;kBACb,QAAQ,EAAE,KAAK;kBACf,QAAQ,EAAE,SAAS,CAAC,QAAQ;;kBAE5B,IAAI,EAAE,SAAS,CAAC,MAAM;eACvB,CAAA;cAED,IAAI,OAAO,SAAS,CAAC,KAAK,KAAK,WAAW;kBAAE,GAAG,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAA;cACvE,IAAI,OAAO,SAAS,CAAC,QAAQ,KAAK,WAAW;kBAC3C,GAAG,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAA;cACnC,IAAI,OAAO,SAAS,CAAC,QAAQ,KAAK,WAAW;kBAC3C,GAAG,CAAC,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAA;cAEnC,IAAI,OAAO,SAAS,CAAC,KAAK,KAAK,WAAW,EAAE;kBAC1C,GAAG,CAAC,SAAS,GAAG,UAAU,MAAW;sBACnC,OAAO,CAAC,WAAW,GAAG,SAAS,CAAC,KAAK,CAAC,CAAA;mBACvC,CAAA;eACF;cAED,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;kBAC/B,GAAG,CAAC,YAAY,GAAG,SAAS,CAAC,KAAK,CAAA;eACnC;;cAGD,IAAI,SAAS,CAAC,OAAO,EAAE;;kBAErB,GAAG,CAAC,YAAY,GAAG,mBAAmB,CAAA;kBACtC,GAAG,CAAC,kBAAkB,GAAG;sBACvB,OAAO,EAAE,SAAS,CAAC,OAAO;mBAC3B,CAAA;eACF;;cAGO,IAAA,iCAAU,CAAc;cAChC,IAAI,UAAU,GAAG,KAAK,CAAA;cACtB,IAAI,SAAS,CAAC,QAAQ,EAAE;kBACtB,IAAI,SAAS,CAAC,QAAQ,KAAK,UAAU,EAAE;;sBAErC,UAAU,GAAG,KAAK,CAAA;sBAClB,GAAG,CAAC,YAAY,GAAG,qBAAqB,CAAA;sBACxC,GAAG,CAAC,kBAAkB,GAAG;0BACvB,UAAU,EAAE,SAAS,CAAC,UAAU;0BAChC,EAAE,EAAE,UAAU,CAAC,EAAE;0BACjB,GAAG,EAAE,UAAU,CAAC,GAAG;0BACnB,QAAQ,EAAE,UAAC,QAAa;8BACtB,eAAe,CAAC,UAAU,CAAC,UAAU,EAAE,KAAI,EAAE;kCAC3C,KAAK,EAAE,QAAQ;+BAChB,CAAC,CAAA;2BACH;0BACD,UAAU,EAAE,UAAC,KAAU;8BACrB,eAAe,CAAC,UAAU,CAAC,UAAU,EAAE,KAAI,EAAE;kCAC3C,KAAK,EAAE,KAAK;+BACb,CAAC,CAAA;2BACH;uBACF,CAAA;sBAED,IAAI,SAAS,CAAC,QAAQ,EAAE;;0BAEtB,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE;8BACZ,QAAQ,EAAE,IAAI;8BACd,UAAU,EAAE,oBAAoB;8BAChC,gBAAgB,EAAE;kCAChB,UAAU,EAAE,SAAS,CAAC,UAAU;kCAChC,OAAO,EAAE;sCACP,EAAE,EAAE,EAAE,UAAU,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;sCACjC,EAAE,EAAE,EAAE,UAAU,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE;mCACnC;kCACD,QAAQ,EAAE,UAAC,QAAa;sCACtB,eAAe,CAAC,UAAU,CAAC,UAAU,EAAE,KAAI,EAAE;0CAC3C,KAAK,EAAE,QAAQ;uCAChB,CAAC,CAAA;mCACH;kCACD,UAAU,EAAE,UAAC,KAAU;sCACrB,eAAe,CAAC,UAAU,CAAC,UAAU,EAAE,KAAI,EAAE;0CAC3C,KAAK,EAAE,KAAK;uCACb,CAAC,CAAA;mCACH;+BACF;2BACF,CAAC,CAAA;uBACH;mBACF;uBAAM,IAAI,SAAS,CAAC,QAAQ,KAAK,OAAO,EAAE;;sBAEzC,UAAU,GAAG,KAAK,CAAA;sBAClB,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE;0BACZ,QAAQ,EAAE,IAAI;0BACd,UAAU,EAAE,oBAAoB;0BAChC,gBAAgB,EAAE;8BAChB,UAAU,EAAE,SAAS,CAAC,UAAU;8BAChC,OAAO,EAAE,KAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC;8BAC5C,QAAQ,EAAE,UAAC,QAAa;kCACtB,eAAe,CAAC,UAAU,CAAC,UAAU,EAAE,KAAI,EAAE;sCAC3C,KAAK,EAAE,QAAQ;mCAChB,CAAC,CAAA;+BACH;8BACD,UAAU,EAAE,UAAC,KAAU;kCACrB,eAAe,CAAC,UAAU,CAAC,UAAU,EAAE,KAAI,EAAE;sCAC3C,KAAK,EAAE,KAAK;mCACb,CAAC,CAAA;+BACH;2BACF;uBACF,CAAC,CAAA;;sBAEF,IAAM,MAAI,GAAG,KAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAA;sBAChD,IAAI,OAAO,MAAI,KAAK,UAAU,EAAE;0BAC9B,GAAG,CAAC,cAAc,GAAG,UAAC,MAAW;8BAC/B,OAAO,MAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;2BAC1B,CAAA;uBACF;2BAAM;0BACL,GAAG,CAAC,cAAc,GAAG,UAAC,MAAW;8BAC/B,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;kCAAE,OAAM;8BAEpC,IAAM,UAAU,GAAG,CAAC,CAAC,IAAI,CAAC,MAAI,EAAE,UAAA,IAAI;kCAClC,IAAM,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;kCACjC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;+BAC7C,CAAC,CAAA;8BAEF,IAAI,UAAU,EAAE;;kCAEd,OAAO,UAAU,CAAC,MAAM,CAAC,CAAA;+BAC1B;8BACD,OAAO,MAAM,CAAC,KAAK,CAAA;2BACpB,CAAA;uBACF;mBAEF;uBAAM,IAAI,SAAS,CAAC,QAAQ,KAAK,MAAM,EAAE;;sBAExC,UAAU,GAAG,IAAI,CAAA;sBACjB,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE;0BACZ,QAAQ,EAAE,IAAI;0BACd,UAAU,EAAE,uBAAuB;0BACnC,gBAAgB,EAAE;8BAChB,UAAU,EAAE,SAAS,CAAC,UAAU;8BAChC,SAAS,EAAE,UAAU,CAAC,SAAS;2BAChC;uBACF,CAAC,CAAA;mBAEH;uBAAM,IAAI,SAAS,CAAC,QAAQ,KAAK,MAAM,IAAI,SAAS,CAAC,QAAQ,KAAK,QAAQ,EAAE;;sBAE3E,UAAU,GAAG,IAAI,CAAA;sBACjB,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE;0BACZ,QAAQ,EAAE,IAAI;0BACd,UAAU,EAAE,mBAAmB;0BAC/B,gBAAgB,EAAE;8BAChB,IAAI,EAAE,SAAS,CAAC,QAAQ;8BACxB,UAAU,EAAE,SAAS,CAAC,UAAU;8BAChC,QAAQ,EAAE,UAAC,QAAa;kCACtB,eAAe,CAAC,UAAU,CAAC,UAAU,EAAE,KAAI,EAAE;sCAC3C,KAAK,EAAE,QAAQ;mCAChB,CAAC,CAAA;+BACH;8BACD,UAAU,EAAE,UAAC,KAAU;kCACrB,eAAe,CAAC,UAAU,CAAC,UAAU,EAAE,KAAI,EAAE;sCAC3C,KAAK,EAAE,KAAK;mCACb,CAAC,CAAA;+BACH;8BACD,OAAO,EAAE,UAAC,CAAM;kCACd,eAAe,CAAC,UAAU,CAAC,OAAO,EAAE,KAAI,EAAE,KAAI,EAAE;sCAC9C,KAAK,EAAE,CAAC;mCACT,CAAC,CAAA;+BACH;2BACF;uBACF,CAAC,CAAA;mBAEH;uBAAM,IAAI,SAAS,CAAC,QAAQ,KAAK,MAAM,IAAI,SAAS,CAAC,QAAQ,KAAK,UAAU,EAAE;sBAC7E,UAAU,GAAG,IAAI,CAAA;;;;;;;;;;;;;;;;;;sBAkBjB,OAAO,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAA;mBACzC;eACF;mBAAM;;kBAEL,UAAU,GAAG,IAAI,CAAA;eAClB;;cAGD,IAAI,UAAU,EAAE;kBACd,IAAM,MAAI,GAAG,KAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAA;kBAChD,IAAI,MAAI,EAAE;;sBAER,GAAG,CAAC,cAAc,GAAG,UAAC,MAAW;0BAC/B,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;8BAAE,OAAO,SAAS,CAAA;0BAC9C,IAAM,UAAU,GAAG,CAAC,CAAC,IAAI,CAAC,MAAI,EAAE,UAAA,IAAI;8BAClC,IAAM,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;8BACjC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;2BAC7C,CAAC,CAAA;0BAEF,IAAI,UAAU,EAAE;;8BAEd,OAAO,UAAU,CAAC,MAAM,CAAC,CAAA;2BAC1B;0BACD,OAAO,MAAM,CAAC,KAAK,CAAA;uBACpB,CAAA;mBACF;uBAAM;;sBAEL,IAAI,WAAS,GAAG,SAAS,CAAC,SAAS,CAAA;sBACnC,IAAI,OAAO,SAAS,CAAC,SAAS,KAAK,QAAQ,EAAE;;0BAE3C,IAAI,CAACD,SAAgB,CAAC,cAAc,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;8BACzD,OAAO,CAAC,KAAK,CACX,4BAA4B,GAAG,SAAS,CAAC,SAAS,CACnD,CAAA;2BACF;+BAAM;8BACL,WAAS,GAAGA,SAAgB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAA;2BAClD;uBACF;sBAED,IAAI,OAAO,WAAS,KAAK,UAAU,EAAE;;0BAEnC,GAAG,CAAC,cAAc,GAAG,UAAC,MAAW;8BAC/B,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;kCAAE,OAAO,SAAS,CAAA;8BAC9C,OAAO,WAAS,CAAC,IAAI,CACnB,KAAI,EACJ,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAC5B,KAAI,EACJ,MAAM,CAAC,IAAI,CACZ,CAAA;2BACF,CAAA;uBACF;mBACF;eACF;;cAGD,IAAI,KAAI,CAAC,UAAU,IAAI,SAAS,CAAC,UAAU,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;kBAChE,IAAM,KAAK,GAAG,KAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAA;kBACjD,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;;sBAE7B,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE;0BACZ,MAAM,EAAE,kBAAkB;;0BAE1B,YAAY,EAAE;8BACZ,IAAI,EAAE,KAAK;2BACZ;uBACF,CAAC,CAAA;mBACH;uBAAM,IAAI,SAAS,CAAC,QAAQ,KAAK,QAAQ,EAAE;;sBAE1C,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE;0BACZ,MAAM,EAAE,sBAAsB;;0BAE9B,YAAY,EAAE;8BACZ,WAAW,EAAE,IAAI;8BACjB,WAAW,EAAE,IAAI;8BACjB,sBAAsB,EAAE,IAAI;8BAC5B,aAAa,EAAE;;kCAEb,EAAE,UAAU,EAAE,QAAQ,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,gBAAK,OAAO,IAAI,CAAC,EAAE,EAAE;kCACpE,EAAE,UAAU,EAAE,UAAU,EAAE,WAAW,EAAE,KAAK,EAAE,IAAI,gBAAK,OAAO,IAAI,CAAC,EAAE,EAAE;kCACvE,EAAE,UAAU,EAAE,UAAU,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,gBAAK,OAAO,IAAI,CAAC,EAAE,EAAE;kCACtE,EAAE,UAAU,EAAE,aAAa,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,gBAAK,OAAO,IAAI,CAAC,EAAE,EAAE;kCACzE,EAAE,UAAU,EAAE,iBAAiB,EAAE,WAAW,EAAE,MAAM,EAAE,IAAI,gBAAK,OAAO,IAAI,CAAC,EAAE,EAAE;kCAC/E,EAAE,UAAU,EAAE,oBAAoB,EAAE,WAAW,EAAE,MAAM,EAAE,IAAI,gBAAK,OAAO,IAAI,CAAC,EAAE,EAAE;kCAClF,EAAE,UAAU,EAAE,SAAS,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,gBAAK,OAAO,IAAI,CAAC,EAAE,EAAE;+BACtE;2BACF;uBACF,CAAC,CAAA;mBAEH;uBAAM,IAAI,SAAS,CAAC,QAAQ,KAAK,MAAM,IAAI,SAAS,CAAC,QAAQ,KAAK,UAAU,EAAE;;sBAE7E,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE;0BACZ,MAAM,EAAE,oBAAoB;0BAC5B,YAAY,EAAE;8BACZ,WAAW,EAAE,IAAI;8BACjB,WAAW,EAAE,IAAI;8BACjB,aAAa,EAAE,CAAC,SAAS,CAAC;8BAC1B,sBAAsB,EAAE,IAAI;8BAC5B,gBAAgB,EAAE,IAAI;8BACtB,UAAU,EAAV,UAAW,EAAO,EAAE,EAAO;;;kCAGzB,OAAO,CAAC,CAAA;+BACT;2BACF;uBACF,CAAC,CAAA;mBACH;uBAAM;;sBAEL,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE;0BACZ,MAAM,EAAE,oBAAoB;0BAC5B,YAAY,EAAE;8BACZ,WAAW,EAAE,IAAI;8BACjB,WAAW,EAAE,IAAI;8BACjB,aAAa,EAAE,CAAC,YAAY,EAAE,QAAQ,EAAE,UAAU,CAAC;8BACnD,sBAAsB,EAAE,IAAI;8BAC5B,oBAAoB;;kCAElB,OAAO,IAAI,CAAC;+BACb;2BACF;uBACF,CAAC,CAAA;mBACH;eACF;;cAGD,IAAI,OAAO,SAAS,CAAC,OAAO,KAAK,UAAU,EAAE;kBAC3C,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE;sBACZ,SAAS,EAAE,UAAC,KAAU;0BACpB,OAAO,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,EAAE,KAAK,CAAC,CAAA;uBAC3C;mBACF,CAAC,CAAA;eACH;cAED,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;WACrB,CAAC,CAAA;OACH;MACH,cAAC;EAAD,CAp7CA,CAA6B,OAAO;;;MChEL,6BAAmB;MAAlD;;OAmDC;MAlDQ,gBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,SAAS,CAAC,KAAK,CAAC,CAAA;UACjC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,gBAAgB,CAAC,CAAA;;UAGvC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;UAEzB,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,CAAC,CAAA;;UAG3D,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,IAAI,EAAE,QAAQ;cACd,EAAE,EAAE,EAAE;WACP,CAAC,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;;;;MAKD,0BAAM,GAAN;UACE,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAA;OACrB;MAKD,sBAAI,4BAAK;;;;eAWT;cACE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAA;eAC/B;cACD,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;WAC9B;;;;eAhBD,UAAU,EAAO;cACf,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;eAC7B;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,CAAA;eAC7B;WACF;;;SAAA;MAWH,gBAAC;EAAD,CAnDA,CAA+B,QAAQ;;;MCAR,6BAAmB;MAAlD;;OA+FC;MA9FQ,gBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,SAAS,CAAC,KAAK,CAAC,CAAA;UACjC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,gBAAgB,CAAC,CAAA;;UAGvC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;UAEzB,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,CAAC,WAAW,CAAC,CAAC,CAAA;;UAG/D,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,QAAQ;;;;;WAKf,CAAC,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;MAKO,+BAAW,GAAnB,UAAoB,KAAU;UAC5B,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE;cACxC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAA;cACrC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;kBAC9C,IAAI,CAAC,SAAA,CAAA;kBACL,OAAO,CAAC,EAAE;sBACR,CAAC,GAAG,KAAK,CAAA;sBACT,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;sBAChC,IAAI,CAAC,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,EAAE;0BAC7B,MAAK;uBACN;mBACF;;eAEF;cACD,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAA;cACjC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC,CAAA;cACrC,KAAK,GAAG,KAAK;mBACV,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC;mBACnB,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;mBAClB,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAA;cAEtB,IAAM,CAAC,GAAG,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAA;cACtE,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,SAAS,CAAC,CAAA;WACpC;eAAM;cACL,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAA;cACpC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;kBACpB,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;eACjC;cACD,IAAI,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;kBACzB,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAA;eACpD;mBAAM;kBACL,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAA;eACpC;WACF;UACD,OAAO,KAAK,CAAA;OACb;MAED,gCAAY,GAAZ,UAAa,CAAQ;UACnB,IAAI,KAAK,GAAI,CAAC,CAAC,MAAc,CAAC,KAAK,CAChC;UAAE,CAAC,CAAC,MAAc,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAA;UACrD,iBAAM,YAAY,YAAC,CAAC,CAAC,CAAA;OACtB;MAKD,sBAAI,4BAAK;;;;eAYT;cACE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAA;eAC/B;cACD,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;WAC9B;;;;eAjBD,UAAU,EAAO;cACf,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAA;cACzB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;eAC7B;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;eACzB;WACF;;;SAAA;MAWH,gBAAC;EAAD,CA/FA,CAA+B,QAAQ;;;MCAT,4BAAkB;MAAhD;;OAyCC;MAxCQ,eAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAA;UAChC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,eAAe,CAAC,CAAA;;UAGtC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;UAEzB,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,CAAA;;UAG7D,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,IAAI,EAAE,OAAO;cACb,EAAE,EAAE,EAAE;WACP,CAAC,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;MAKD,sBAAI,6BAAO;;;;eAAX,UAAY,EAAS;cACnB,IAAM,KAAK,GAAG,EAAE,CAAC,GAAG,CAAC,UAAA,IAAI;kBACvB,OAAO,EAAE,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,CAAA;eACzC,CAAC,CAAA;cAEF,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,EAAE;sBACzB,OAAO,EAAE,KAAK;mBACf,CAAC,CAAA;kBACF,OAAM;eACP;cACD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,KAAK,CAAC,CAAA;cACpC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAA;WACtB;;;SAAA;MACH,eAAC;EAAD,CAzCA,CAA8B,QAAQ;;ECCtC,KAAK,CAAC,OAAO,CACX;MACE,IAAI,EAAE,mBAAmB;MACzB,QAAQ,EAAE,EAAE;MACZ,KAAK,EAAE,UAAU,MAAW;UAC1B,IAAI,CAAC,KAAK,CAAC,SAAS;cAClB,uDAAuD,CAAA;UACzD,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,CAAA;UACxC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAA;UACxC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAA;UAC7B,IAAI,MAAM,CAAC,EAAE,IAAI,OAAO,MAAM,CAAC,EAAE,CAAC,QAAQ,KAAK,UAAU,EAAE;cACzD,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;WAC9B;OACF;MACD,iBAAiB,EAAE;UACjB,IAAI,CAAC,kBAAkB,EAAE,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAuC1B;MACD,kBAAkB,EAAE;UAClB,IAAM,UAAU,GAAQ,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,YAAY,CAAC,CAAA;UACnD,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,eAKvD,IAAI,CAAC,MAAM,EACd,CAAA;UAEF,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;UAEtC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;UAChC,IAAI,IAAI,CAAC,YAAY,EAAE;cACrB,IAAI,CAAC,KAAK,EAAE,CAAA;WACb;OACF;MACD,eAAe,EAAE;UACf,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM;cAAE,OAAM;UAEzC,IAAI,CAAC,iBAAiB,EAAE,CAAA;UACxB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;OAC5B;MACD,iBAAiB,EAAE;UACjB,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAA;UAC1C,IAAI,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,IAAI,CAAA;UAEvC,GAAG,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAA;UACzB,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAA;UAE3C,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAA;UAC9C,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,KAAK,MAAM,EAAE;cAClC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAA;cAC5B,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAA;WACvB;OACF;MACD,QAAQ,EAAE,UAAU,CAAM,EAAE,CAAM;UAChC,IAAI,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE;cACrD,IAAI,CAAC,eAAe,EAAE,CAAA;WACvB;OACF;MACD,QAAQ,EAAE,UAAU,KAAU;UAC5B,IAAI,CAAC,KAAK,IAAI,KAAK,KAAK,CAAC,EAAE;cACzB,KAAK,GAAG,EAAE,CAAA;WACX;UAED,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAA;UACzB,IAAI,IAAI,CAAC,OAAO,EAAE;cAChB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;;cAE5B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE;kBACpC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAA;eAC5B;cACD,IAAI,CAAC,iBAAiB,EAAE,CAAA;WACzB;OACF;MACD,QAAQ,EAAE;UACR,OAAO,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAA;OAClE;MACD,KAAK,EAAE;UACL,IAAI,CAAC,YAAY,GAAG,IAAI,CAAA;UACxB,IAAI,IAAI,CAAC,OAAO,EAAE;cAChB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAA;WACrB;OACF;MACD,SAAS,EAAE,UAAU,UAAe;UAClC,OAAO,UAAU,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAA;OACpD;;;;;;;;MAQD,UAAU,EAAE;UACV,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,IAAI,CAAA;OACvC;GACF,EACD,KAAK,CAAC,EAAE,CAAC,IAAI,CACd,CAAA;AAED;MAAmC,iCAAsB;MAAzD;;OAoJC;MAnJQ,oBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,aAAa,CAAC,KAAK,CAAC,CAAA;UACrC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,oBAAoB,CAAC,CAAA;UAE3C,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,CAAC,CAAA;;UAG3D,IAAI,CAAC,YAAY,GAAG,KAAK,CAAA;;UAGzB,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,EAAE,EAAE;kBACF,QAAQ,EAAR;sBACE,IAAI,CAAC,YAAY,CAAC,IAAI,wBAAO,KAAK,GAAK,QAAQ,EAAG,CAAA;mBACnD;kBACD,aAAa;sBACX,IAAI,CAAC,YAAY,EAAE,CAAA;mBACpB;eACF;WACF,CAAC,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;;;;MAKD,4BAAI,GAAJ;UACE,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,IAAI,EAAE,CAAA;OAC/B;;;;MAKD,4BAAI,GAAJ;UACE,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,IAAI,EAAE,CAAA;OAC/B;;;;MAKD,8BAAM,GAAN,UAAO,GAAW;UAChB,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;UACvC,IAAM,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;UAC/C,MAAM,CAAC,YAAY,CAAC,GAAG,EAAE,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;OAC7D;;;;MAKD,kCAAU,GAAV;UACE,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;OACnD;;;;MAKD,gCAAQ,GAAR;UACE,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;OAC9B;;;;MAKD,mCAAW,GAAX;UACE,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;OACjC;;;;MAKD,iCAAS,GAAT;UACE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;OAC/B;;;;MAKD,gCAAQ,GAAR;UACE,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;OAC9B;;;;MAKD,kCAAU,GAAV;UACE,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;OAChC;;;;MAKD,+BAAO,GAAP,UAAQ,CAAS;UACf,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAA;OAC1C;;;;MAKD,gCAAQ,GAAR,UAAS,CAAM,EAAE,CAAM;UACrB,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;OACxC;MAED,6BAAK,GAAL;UACE,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;OACjB;;;;MAKD,mCAAW,GAAX,UAAY,GAAQ;UAClB,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;OACjD;;;;MAKD,+BAAO,GAAP;UACE,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,CAAC;OACnC;MAKD,sBAAI,gCAAK;;;;eAWT;cACE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAA;eAC/B;cAED,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;WAC9B;;;;eAjBD,UAAU,EAAO;cACf,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;eAC7B;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;eACzB;WACF;;;SAAA;MAYH,oBAAC;EAAD,CApJA,CAAmC,OAAO,GAoJzC;;;;MC1R+B,8BAAmB;MAAnD;;OA0RC;MAzRQ,iBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,UAAU,CAAC,KAAK,CAAC,CAAA;UAClC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,iBAAiB,CAAC,CAAA;UAExC,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE;;cAE/C,YAAY;cACZ,aAAa;cACb,gBAAgB;WACjB,CAAC,CAAA;;UAGF,IAAI,CAAC,YAAY,GAAG,KAAK,CAAA;;UAGzB,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,MAAM,EAAE,IAAI;cACZ,UAAU,EAAE;kBACV,YAAY,EAAE,KAAK;eACpB;cACD,EAAE,EAAE;kBACF,QAAQ,EAAR;sBACE,IAAI,CAAC,YAAY,CAAC,IAAI,wBAAO,KAAK,GAAK,QAAQ,EAAG,CAAA;mBACnD;kBACD,aAAa;sBACX,IAAI,CAAC,YAAY,EAAE,CAAA;mBACpB;kBACD,WAAW,EAAX,UAAuB,EAAO;sBAC5B,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;sBAC7B,eAAe,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;mBAC9C;kBACD,cAAc,EAAd,UAA0B,EAAO;sBAC/B,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;sBAC7B,eAAe,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;mBACjD;eACF;WACF,CAAC,CAAA;UAEF,OAAO,IAAI,CAAA;OACZ;;;;MAKD,2BAAM,GAAN,UAAO,EAAU;UACf,IAAI,CAAC,EAAE,EAAE;cACP,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;cACtB,OAAM;WACP;UAED,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAC,IAAS;cAC3B,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;cACxB,IAAM,MAAM,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAA;cAClD,OAAO,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAA;WACrF,CAAC,CAAA;OACH;MAyBD,sBAAI,6BAAK;;;;eAWT;cACE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAA;eAC/B;cACD,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;WAC9B;;;;eAhBD,UAAU,EAAO;cACf,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;kBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;eAC7B;mBAAM;kBACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;eACzB;WACF;;;SAAA;MAeD,sBAAI,gCAAQ;;;;eAAZ,UAAa,EAAS;;cAEpB,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAA;cACtB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;WACtB;;;SAAA;MAKD,sBAAI,kCAAU;;;;eAAd;cACE,OAAO,IAAI,CAAC,WAAW,CAAA;WACxB;;;;eAKD,UAAe,EAA0B;cACvC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAA;cACrB,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;;;kBAG7B,IAAI,CAAC,iBAAiB,EAAE,CAAA;eACzB;WACF;;;SAZA;;;;MAiBM,2BAAM,GAAb;UACE,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;cACrD,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAA;WAC7B;OACF;;;;MAKM,2BAAM,GAAb;UACE,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;OAC7B;;;;MAKM,gCAAW,GAAlB;UACE,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC;OACrC;;MAWO,sCAAiB,GAAzB;UAAA,iBAqBC;UApBC,IAAM,WAAW,GAAG;cAClB,IAAI,KAAI,CAAC,cAAc,EAAE;kBACvB,KAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAA;kBAC7B,KAAI,CAAC,cAAc,GAAG,SAAS,CAAA;eAChC;cAED,IAAI,KAAI,CAAC,MAAM,IAAI,KAAI,CAAC,OAAO,EAAE;kBAC/B,KAAI,CAAC,cAAc,GAAG,IAAI,YAAY,CAAC,KAAI,EAAE,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAA;kBACjG,KAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAA;eAC3B;WACF,CAAA;UAED,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;;cAE9B,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAA;WAErB;eAAM;;cAEL,WAAW,EAAE,CAAA;WACd;OACF;MAEO,uCAAkB,GAA1B,UAA2B,IAAW;UACpC,IACE,CAAC,IAAI,CAAC,UAAU;cAChB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC;cAC1B,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,EAC7B;cACA,OAAO,IAAI,CAAA;WACZ;UAED,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,UAAU,EAAE;cACzE,OAAO,IAAI,CAAA;WACZ;UAED,IACE,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW;cAC5B,CAAC,IAAI,CAAC,UAAU,CAAC,YAAY;cAC7B,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,EAC3B;cACA,OAAO,IAAI,CAAA;WACZ;UAED,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAA;UAC1C,IAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAA;UAC9C,IAAM,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAA;UAE/C,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;;UAGxB,IAAM,OAAO,GAAQ,EAAE,CAAA;UACvB,IAAM,QAAQ,GAAG,EAAE,CAAA;UACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;cACpC,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;cACnB,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG;kBACtB,KAAK,EAAE,GAAG,CAAC,SAAS,CAAC;kBACrB,EAAE,EAAE,GAAG,CAAC,OAAO,CAAC;kBAChB,GAAG,EAAE,GAAG;eACT,CAAA;cACD,IAAI,GAAG,CAAC,IAAI,EAAE;kBACZ,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAA;eACtC;WACF;;UAGD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;cACpC,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;cACnB,IAAM,QAAM,GAAG,GAAG,CAAC,WAAW,CAAC,CAAA;cAC/B,IAAM,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC,CAAA;cAEvB,IAAI,CAAC,QAAM,IAAI,QAAM,KAAK,GAAG,EAAE;;kBAE7B,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAA;eAC3B;mBAAM,IAAI,OAAO,CAAC,cAAc,CAAC,QAAM,CAAC,EAAE;;kBAEzC,IAAM,UAAU,GAAG,OAAO,CAAC,QAAM,CAAC,CAAA;kBAClC,IAAI,UAAU,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;sBACrC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAA;mBAClC;uBAAM;sBACL,UAAU,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAA;mBAChC;eACF;mBAAM;;kBAEL,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAA;eAC3B;WACF;UAED,OAAO,QAAQ,CAAA;OAChB;;MAGS,iCAAY,GAAtB;UACE,iBAAM,YAAY,WAAE,CAAA;UACpB,IAAI,CAAC,iBAAiB,EAAE,CAAA;OACzB;;;;MAKM,4BAAO,GAAd,UAAe,EAAO;UACpB,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;OAC/B;;;;;MAMM,2BAAM,GAAb,UAAc,EAAO;;UAEnB,IAAI,GAAG,GAAG,EAAE,CAAA;UACZ,OAAO,GAAG,EAAE;cACV,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;cACrB,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAA;WACnC;UAED,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;OACvB;MACH,iBAAC;EAAD,CA1RA,CAAgC,OAAO;;ECDvC,KAAK,CAAC,OAAO,CACT;MACI,IAAI,EAAE,OAAO;MACb,QAAQ,EAAE,EAAE;MACZ,KAAK,EAAE,UAAU,MAAW;UACxB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;UAC1B,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,cAAY,IAAI,CAAC,MAAM,6CAA0C,CAAA;UACxF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;UAC7B,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAA;UAC7B,IAAI,MAAM,CAAC,EAAE,IAAI,OAAO,MAAM,CAAC,EAAE,CAAC,QAAQ,KAAK,UAAU,EAAE;cACvD,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;WAChC;OACJ;MACD,MAAM,EAAE;UAAA,iBAWP;UAVG,IAAM,IAAI,GAAG,IAAIE,cAAQ,EAAE,CAAC;UAC5B,IAAM,QAAQ,GAAG,IAAIC,sBAAQ,EAAE,CAAC;UAEhC,CAAC,CAAC,KAAK,CAAC;cACJ,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;cACzB,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;cACjC,QAAQ,CAAC,GAAG,EAAE,CAAC;cACf,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;cAClB,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;WAC7B,CAAC,CAAA;OACL;MACD,eAAe,EAAE;UACb,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM;cAAE,OAAM;UAEvC,IAAI,CAAC,iBAAiB,EAAE,CAAA;;OAE3B;MACD,iBAAiB,EAAE;UACf,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;UAC7B,IAAI,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,IAAI,CAAA;UAEvC,GAAG,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAA;UACzB,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAA;UAE3C,IAAI,IAAI,CAAC,SAAS,EAAE;cAChB,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;WACxB;OACJ;MACD,QAAQ,EAAE,UAAU,CAAM,EAAE,CAAM;UAAxB,iBAMT;UALG,IAAI,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE;cACnD,CAAC,CAAC,KAAK,CAAC;kBACJ,KAAI,CAAC,eAAe,EAAE,CAAA;eACzB,CAAC,CAAA;WACL;OACJ;GACJ,EACD,KAAK,CAAC,EAAE,CAAC,IAAI,CAChB,CAAA;AAED;MAA8B,4BAAiB;MAA/C;;OAmDC;MAlDU,eAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACjC,IAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAA;UAChC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,eAAe,CAAC,CAAA;UAEtC,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,CAAC,CAAA;;UAG3D,IAAI,CAAC,YAAY,GAAG,KAAK,CAAA;;UAGzB,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAC9B,EAAE,EAAE;kBACA,QAAQ,EAAR;sBACI,IAAI,CAAC,YAAY,CAAC,IAAI,wBAAO,KAAK,GAAK,QAAQ,EAAG,CAAA;mBACrD;kBACD,aAAa;sBACT,IAAI,CAAC,YAAY,EAAE,CAAA;mBACtB;eACJ;WACJ,CAAC,CAAA;UAEF,OAAO,IAAI,CAAA;OACd;MAKD,sBAAI,0BAAI;;;;eAAR;cACI,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAA;WAC3B;;;SAAA;MAKD,sBAAI,8BAAQ;;;;eAAZ;cACI,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAA;WAC/B;;;SAAA;MAED,sBAAI,gCAAU;eAAd;cACI,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAA;WAC5B;;;SAAA;MAED,sBAAI,iCAAW;eAAf;cACI,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAA;WAC7B;;;SAAA;MACL,eAAC;EAAD,CAnDA,CAA8B,OAAO,GAmDpC;;;EC1GD,KAAK,CAAC,OAAO,CACX;MACE,IAAI,EAAE,aAAa;MACnB,QAAQ,EAAE,EAAE;MACZ,KAAK,EAAE,UAAU,MAAW;UAC1B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;UAC1B,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,cAAY,IAAI,CAAC,MAAM,8BAAyB,CAAA;UACvE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;UAC7B,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAA;UAC7B,IAAI,MAAM,CAAC,EAAE,IAAI,OAAO,MAAM,CAAC,EAAE,CAAC,QAAQ,KAAK,UAAU,EAAE;cACzD,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;WAC9B;OACF;MACD,MAAM,EAAE;OAEP;MACD,eAAe,EAAE;UACf,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM;cAAE,OAAM;UAEvC,IAAI,CAAC,iBAAiB,EAAE,CAAA;;OAEzB;MACD,iBAAiB,EAAE;UACjB,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;UAC7B,IAAI,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,IAAI,CAAA;UAEvC,GAAG,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAA;UACzB,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAA;OAC5C;MACD,QAAQ,EAAE,UAAU,CAAM,EAAE,CAAM;UAChC,IAAI,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE;cACrD,IAAI,CAAC,eAAe,EAAE,CAAA;WACvB;OACF;GACF,EACD,KAAK,CAAC,EAAE,CAAC,IAAI,CACd,CAAA;AAED;MAAmC,iCAAsB;MAAzD;UAAA,qEAyWC;UAzSC,eAAS,GAAG,IAAI,KAAK,EAAU,CAAC;UAEzB,gBAAU,GAAG,CAAC,CAAC,QAAQ,CAAC;cAC7B,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;cACrE,KAAI,CAAC,SAAS,GAAG,EAAE,CAAA;WACpB,CAAC,CAAA;;OAoSH;MAxWQ,oBAAM,GAAb,UAAc,MAAW,EAAE,KAAU;UACnC,IAAM,IAAI,GAAG,IAAI,aAAa,CAAC,KAAK,CAAC,CAAA;UACrC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;UAErB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,oBAAoB,CAAC,CAAA;UAE3C,IAAM,QAAQ,GAAG,wBAAwB,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,CAAC,CAAA;;UAG3D,IAAI,CAAC,YAAY,GAAG,KAAK,CAAA;;UAGzB,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;;UAGxB,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE;cAChC,EAAE,EAAE;kBACF,QAAQ,EAAR;sBAAA,iBAOC;sBANC,IAAI,CAAC,YAAY,CAAC,IAAI,wBAAO,KAAK,GAAK,QAAQ,EAAG,CAAA;sBAClD,CAAC,CAAC,KAAK,CAAC;0BACN,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,CAAC;8BAC/C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;2BACvB,CAAC,CAAA;uBACH,CAAC,CAAA;mBACH;kBACD,aAAa;sBACX,IAAI,CAAC,YAAY,EAAE,CAAA;mBACpB;eACF;WACF,CAAC,CAAA;UACF,OAAO,IAAI,CAAA;OACZ;;;;MAIM,gCAAQ,GAAf,UAAgB,IAAS;UACvB,IAAI,OAAO,GAAG,uBAAuB,CAAC;UACtC,IAAI,CAAC,IAAI,EAAE;cACT,OAAO,IAAI,oDAAoD,CAAC;WACjE;eAAM;cACL,OAAO,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAA;WAC/B;UACD,OAAO,IAAI,QAAQ,CAAA;UACnB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;OACzB;MAEM,iCAAS,GAAhB,UAAiB,OAAe;;;;;;;;;;;;;UAa9B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;UAC7B,IAAI,CAAC,UAAU,EAAE,CAAC;OACnB;;;;MAYM,gCAAQ,GAAf,UAAgB,MAAW;UACzB,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;cACjD,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;WAC9B;eAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;cAC1D,OAAO,iCAAiC,GAAG,MAAM,GAAG,YAAY,CAAA;WACjE;eAAM;cACL,OAAO,kCAAkC,GAAG,MAAM,CAAC,QAAQ,EAAE,GAAG,aAAa,CAAA;WAC9E;OACF;MAEM,gCAAQ,GAAf,UAAgB,MAAW,EAAE,KAAW;UACtC,IAAI,KAAK,GAAG,EAAE,CAAC;UACf,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;UACtC,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;UACjC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;UAChC,IAAI,IAAI,CAAC,MAAM,GAAG,EAAE,EAAE;cACpB,OAAO,IAAI,KAAK,CAAC;WAClB;UACD,KAAK,IAAI,GAAG,GAAG,OAAO,CAAC;UACvB,IAAI,eAAe,CAAC;UACpB,IAAI,KAAK,EAAE;cACT,eAAe,GAAG;mCACW;kBAC3B,KAAK,GAAG,OAAO;kBACf,2BAA2B;kBAC3B,KAAK;kBACL;;8CAEsC,CAAC;WAC1C;eAAM;cACL,eAAe,GAAG;gCACQ;kBACxB,KAAK;kBACL;;8CAEsC,CAAC;WAC1C;UACD,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;cACzB,IAAI,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;cACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;kBACvC,IAAI,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;kBAC7B,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;sBAC3C,eAAe,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;mBACxE;uBAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;sBACpD,eAAe,IAAI,8BAA8B,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,kCAAkC,GAAG,GAAG,GAAG,YAAY,CAAC;mBAC1H;uBAAM;sBACL,eAAe,IAAI,8BAA8B,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,mCAAmC,GAAG,GAAG,GAAG,aAAa,CAAC;mBAC5H;eACF;WACF;eAAM,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;cAC/B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;kBACtC,eAAe,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;eAClE;WACF;UACD,eAAe,IAAI,QAAQ,CAAA;UAC3B,OAAO,eAAe,CAAC;OACxB;;;;MAKM,mCAAW,GAAlB,UAAmB,MAAW;UAC5B,IAAI,cAAc,GAAG,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC;UACnD,IAAI,aAAa,GAAG,cAAc,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;UAC9D,IAAI,aAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;cACjD,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;WAC7C;eAAM;cACL,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;WAC1C;OACF;;;;MAKM,kCAAU,GAAjB,UAAkB,UAAkB;UAClC,IAAI,KAAK,CAAC;UACV,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;cACtE,IAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;cAClD,IAAI,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;kBACxC,KAAK,GAAG,OAAO,CAAC;eACjB;WACF;UACD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;UAC3B,IAAI,CAAC,UAAU,EAAE;cACf,OAAO;WACR;UACD,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;OAC1C;MAEM,wCAAgB,GAAvB,UAAwB,MAAW,EAAE,UAAe;UAClD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;cAC/C,IAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;cAC9B,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE;kBAC7C,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,iBAAiB,CAAC,EAAE;sBAC9C,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;mBACpC;kBACD,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,aAAa,CAAC;sBACxC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,gBAAgB,CAAC;sBACzC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,gBAAgB,CAAC;sBACzC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,iBAAiB,CAAC,EAAE;sBAC5C,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;mBAC/C;kBACD,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,UAAU,CAAC,CAAA;eACxC;WACF;OACF;MAEM,sCAAc,GAArB,UAAsB,MAAW;UAC/B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;cAC/C,IAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;cAC9B,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,yBAAyB,CAAC,CAAC;cACjD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAA;WAC1B;OACF;;;;MAKM,kCAAU,GAAjB;UACE,IAAI,KAAK,GAAG,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;UAC3C,KAAK,CAAC,SAAS,GAAG,EAAE,CAAC;OACtB;;;;MAKM,kCAAU,GAAjB;UACE,IAAI,KAAK,GAAG,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;UAC3C,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,KAAK,CAAC,CAAA;OAC/B;;;;MAKM,iCAAS,GAAhB;UACE,IAAI,KAAK,GAAG,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;UAC3C,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;;;;;;;;OAU9B;MAEM,mCAAW,GAAlB,UAAmB,KAAU,EAAE,MAAe;UAC5C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;cAC9C,IAAI,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;cAC7B,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,iBAAiB,CAAC,EAAE;kBAC9C,IAAI,MAAM,EAAE;sBACV,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;mBACpC;uBAAM;sBACL,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;mBACjC;eACF;cACD,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAA;WAC/B;OACF;;;;MAKM,gCAAQ,GAAf,UAAgB,KAAU;UACxB,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,iBAAiB,CAAC;OACnE;MAEM,gCAAQ,GAAf,UAAgB,KAAU;UACxB,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,iBAAiB,CAAC;OACnE;MAEM,+BAAO,GAAd,UAAe,KAAU;UACvB,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,gBAAgB,CAAC;OAClE;MAEM,iCAAS,GAAhB,UAAiB,KAAU;UACzB,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,kBAAkB,CAAC;OACpE;MAGM,mCAAW,GAAlB,UAAmB,KAAU;UAC3B,OAAO,KAAK,KAAK,SAAS,CAAC;OAC5B;MAEM,8BAAM,GAAb,UAAc,KAAU;UACtB,OAAO,KAAK,KAAK,IAAI,CAAC;OACvB;MAEM,gCAAQ,GAAf,UAAgB,KAAU;UACxB,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,iBAAiB,CAAC;OACnE;MAEM,kCAAU,GAAjB,UAAkB,KAAU;UAC1B,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,mBAAmB,CAAC;OACrE;MAEM,gCAAQ,GAAf,UAAgB,KAAU;UACxB,QACE,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,iBAAiB;;eAGxD,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;kBACrB,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;kBACrB,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;kBACtB,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;kBACpB,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;kBACnB,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;kBACvB,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;kBACxB,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CACtB,EACD;OACH;;;;MAKM,qCAAa,GAApB,UAAqB,YAAiB;UACpC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;cAC/D,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;WACrC;UAED,IAAI,MAAM,GAAG,GAAG,EACd,MAAM,GAAG,GAAG,CAAC;UACf,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;cAC9B,MAAM,GAAG,GAAG,CAAC;cACb,MAAM,GAAG,GAAG,CAAA;WACb;UACD,IAAI,GAAG,GAAG,MAAM,CAAC;UACjB,IAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;UAC9C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;cACpC,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;cACpB,IAAM,KAAK,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC;cAChC,IAAI;;kBAEF,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;sBAC/B,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;0BACjE,GAAG,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;uBAC5C;2BAAM;0BACL,GAAG,IAAI,GAAG,CAAC;uBACZ;sBACD,GAAG,IAAI,IAAI,CAAC;mBACb;;kBAGD,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;sBACvB,GAAG,IAAI,QAAQ,GAAG,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;mBACtC;uBAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;sBACjF,GAAG,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;mBAC9C;uBAAM;sBACL,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;mBAC9B;kBACD,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;sBACvB,GAAG,IAAI,IAAI,CAAC;mBACb;eACF;cAAC,OAAO,CAAC,EAAE;kBACV,SAAS;eACV;WACF;UACD,GAAG,IAAI,MAAM,CAAC;UACd,OAAO,GAAG,CAAC;OACZ;;;;MAKM,qCAAa,GAApB,UAAqB,GAAQ;UAC3B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;cAC7C,OAAO,EAAE,CAAC;WACX;UACD,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;cACrB,IAAM,GAAC,GAAU,EAAE,CAAC;cACpB,GAAG,CAAC,OAAO,CAAC,UAAC,CAAM,EAAE,KAAU;kBAC7B,GAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;eACd,CAAC,CAAC;cACH,OAAO,GAAC,CAAC;WACV;UACD,OAAO,MAAM,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;OAC/C;;;;MAKM,kCAAU,GAAjB,UAAkB,GAAQ;UACxB,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;OACrF;MACH,oBAAC;EAAD,CAzWA,CAAmC,OAAO,GAyWzC;;;ECxXD;EACA,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAA;EAC7B,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;EAE9B;;;;;;AAMA,WAAgB,aAAa,CAAC,KAAY,EAAE,QAA+B;MACzE,IAAM,UAAU,GAAsB,EAAE,CAAA;MACxC,SAAS,CAAC,KAAK,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAA;MACtC,OAAO,UAAU,CAAA;EACnB,CAAC;EAWD,SAAS,SAAS,CAAC,GAAU,EAAE,QAA+B,EAAE,MAA0B;MACxF,IAAI,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAA;MAC5B,IAAI,MAAM,IAAI,QAAQ,KAAK,IAAI,EAAE;UAC/B,MAAM,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAA;OACpD;MAED,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,UAAC,KAAK,EAAE,GAAG;UACvB,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;cAC7B,OAAM;WACP;UACD,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,IAAI,GAAG,CAAC,IAAI,KAAK,SAAS,EAAE;cAChD,IAAI,GAAG,KAAK,YAAY,IAAI,GAAG,KAAK,SAAS,IAAI,GAAG,KAAK,SAAS,EAAE;kBAClE,OAAM;eACP;WACF;eAAM;;cAEL,IACE,GAAG,KAAK,MAAM;kBACd,GAAG,KAAK,YAAY;kBACpB,GAAG,KAAK,SAAS;kBACjB,GAAG,KAAK,SAAS,EACjB;kBACA,OAAM;eACP;WACF;;UAGD,IAAI,GAAG,KAAK,IAAI,IAAI,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;cACrC,OAAM;WACP;UACD,IAAI,CAAC,CAAC,UAAU,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;cAC9C,OAAM;WACP;UACD,IAAM,aAAa,GAAG,SAAS,CAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAA;UACxD,IAAI,MAAM,IAAI,aAAa,KAAK,IAAI,EAAE;cACpC,QAAQ,GAAG,IAAI,CAAA;cACf,MAAM,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAA;WAC5D;OACF,CAAC,CAAA;;MAGF,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,UAAC,CAAM,IAAK,OAAA,CAAC,IAAI,CAAC,CAAC,UAAU,GAAA,CAAC,CAAC;MAE7C,OAAO,QAAQ,CAAA;EACjB,CAAC;EAED;;;;;AAKA,WAAgB,UAAU,CAAC,KAAY,EAAE,SAAc;;;MAGrD,IAAM,SAAS,GAAG;UAChB,IAAI,EAAE,EAAE;OACT,CAAA;MAED,aAAa,CAAC,KAAK,EAAE,UAAA,GAAG;UACtB,IAAI,GAAG,CAAC,OAAO,EAAE;cACf,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,CAAA;WACxC;OACF,CAAC,CAAA;MAEF,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,UAAC,WAAW,EAAE,OAAO;UACvC,IAAI,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE;cAClC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE,WAAW,CAAC,CAAA;WACrD;OACF,CAAC,CAAA;MAEF,OAAO,KAAK,CAAA;EACd,CAAC;EAED,IAAM,cAAc,GAAG,CAAC,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,CAAC,CAAA;EAEjE;;;EAGA,SAAS,0BAA0B,CAAC,EAAO,EAAE,SAAc;;MAEzD,IAAM,YAAY,GAAG,SAAS,CAAC,SAAS,CAAC,KAAK,CAAA;MAC9C,SAAS,CAAC,SAAS,CAAC,KAAK,GAAG;UAAA,iBAsB3B;;UApBC,IAAM,IAAI,GAAG,MAAM,CAAC,mBAAmB,CAAC,EAAE,CAAC,CAAA;;UAE3C,IAAI,EAAE,CAAC,QAAQ,CAAC,KAAK,EAAE;cACrB,KAAK,IAAM,GAAG,IAAI,EAAE,CAAC,QAAQ,CAAC,KAAK,EAAE;kBACnC,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;sBAC3B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;mBACf;eACF;WACF;UACD,IAAI,CAAC,OAAO,CAAC,UAAA,GAAG;cACd,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;kBACzB,MAAM,CAAC,cAAc,CAAC,KAAI,EAAE,GAAG,EAAE;sBAC/B,GAAG,EAAE,cAAM,OAAA,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,GAAA;sBACzB,GAAG,EAAE,UAAA,KAAK;0BACR,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,EAAE,KAAK,CAAC,CAAA;uBACtB;sBACD,YAAY,EAAE,IAAI;mBACnB,CAAC,CAAA;eACH;WACF,CAAC,CAAA;OACH,CAAA;;MAGD,IAAM,IAAI,GAAG,IAAI,SAAS,EAAE,CAAA;;MAG5B,SAAS,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY,CAAA;;MAGxC,IAAM,SAAS,GAAG,EAAE,CAAA;MACpB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,UAAA,GAAG;UAC3B,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE;cAC3B,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAA;WACjC;OACF,CAAC,CAAA;MAEF,OAAO,SAAS,CAAA;EAClB,CAAC;EAED;;;EAGA,SAAS,cAAc,CAAC,KAAU,EAAE,OAAY;MAC9C,MAAM,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAA,GAAG;;UAE3C,IAAI,GAAG,KAAK,aAAa,EAAE;cACzB,OAAM;WACP;;UAGD,IAAI,GAAG,KAAK,YAAY,EAAE;;cAExB,OAAO,CAAC,KAAK,CACX,oEAAoE,CACrE,CAAA;cACD,OAAM;WACP;;UAGD,IAAI,GAAG,KAAK,eAAe,EAAE;;cAE3B,OAAO,CAAC,KAAK,CAAC,iDAAiD,CAAC,CAAA;cAChE,OAAM;WACP;;UAGD,IAAI,GAAG,KAAK,QAAQ,EAAE;cACpB,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAA;cAChC,OAAM;WACP;;UAGD,IAAI,GAAG,KAAK,QAAQ,EAAE;cACpB,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAA;WACjC;;UAGD,IAAI,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;cACpC,OAAO,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAA;cACzB,OAAM;WACP;;;UAID,IAAM,UAAU,GAAG,MAAM,CAAC,wBAAwB,CAAC,KAAK,EAAE,GAAG,CAAE,CAAA;UAC/D,IAAI,UAAU,CAAC,KAAK,KAAK,KAAK,CAAC,EAAE;;cAE/B,IAAI,OAAO,UAAU,CAAC,KAAK,KAAK,UAAU,EAAE;kBAC1C,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,EAAE;sBAChC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,KAAK,CAAA;mBACxC;eACF;mBAAM;;;kBAGL,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC;sBAClB,IAAI,EAAJ;;0BACE,gBAAS,GAAC,GAAG,IAAG,UAAU,CAAC,KAAK,KAAE;uBACnC;mBACF,CAAC,CAAA;eACH;WACF;eAAM,IAAI,UAAU,CAAC,GAAG,IAAI,UAAU,CAAC,GAAG,EAAE;cAKzC,CAAC,OAAO,CAAC,QAAQ,KAAK,OAAO,CAAC,QAAQ,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,GAAG;kBACrD,GAAG,EAAE,UAAU,CAAC,GAAG;kBACnB,GAAG,EAAE,UAAU,CAAC,GAAG;eACpB,CAAA;WACF;OACF,CAAC,CAAA;EACJ,CAAC;EAED;;;EAGA,SAAS,eAAe;MACtB,OAAO,EAAE,CAAA;EACX,CAAC;EAED;;;EAGA,SAAS,eAAe,CAAC,IAAS;MAChC,QAAQ,IAAI,CAAC,IAAI;UACf,KAAK,MAAM,CAAC;UACZ,KAAK,OAAO,CAAC;UACb,KAAK,MAAM,CAAC;UACZ,KAAK,UAAU,CAAC;UAChB,KAAK,YAAY,CAAC;;UAElB,KAAK,UAAU,CAAC;UAChB,KAAK,OAAO;cACV,OAAO,IAAI,CAAC;OACf;;MAGD,OAAO,KAAK,CAAC;EACf,CAAC;EAED;;;AAGA,WAAgB,kBAAkB,CAAe,MAAgC,EAAE,KAAY;;MAE7F,aAAa,CAAC,KAAK,EAAE,UAAA,GAAG;;UAGtB,IAAI,UAAU,GAAG,KAAK,CAAC;UACvB,IAAM,qBAAqB,GAAa,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,8BAA8B,CAAC,CAAC;UACtF,IAAI,qBAAqB,IAAI,qBAAqB,CAAC,GAAG,CAAC,KAAK,KAAK,EAAE;cACjE,UAAU,GAAG,IAAI,CAAC;WACnB;UAED,IAAI,UAAU,EAAE;;cAEd,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,mBAAmB,CAAC,EAAE;;kBAEnC,IAAM,EAAE,GAAG,GAAG,CAAC,iBAAiB,CAAC;kBACjC,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,OAAO,GAAG,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;kBACvC,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;eAEnB;mBAAM,IAAI,eAAe,CAAC,GAAG,CAAC,EAAE;;kBAE/B,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,UAAC,CAAC,EAAE,CAAC;sBACjB,IAAI,CAAC,KAAK,QAAQ,IAAI,CAAC,KAAK,OAAO,EAAE;0BACnC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAA;uBACd;mBACF,CAAC,CAAC;kBACH,GAAG,CAAC,IAAI,GAAG,UAAU,CAAC;kBACtB,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC;kBACtB,GAAG,CAAC,QAAQ,GAAG,EAAE,CAAC;eAEnB;mBAAM;;kBAEL,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC;eACvB;cACD,OAAO;WACR;UAED,IAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,EAAE;cACzB,OAAM;WACP;;;;;;UAQD,IAAI,OAAO,GAAG,CAAC,OAAO,KAAK,QAAQ,EAAE;cACnC,GAAG,CAAC,EAAE,GAAG,MAAM,CAAC,UAAU,GAAG,GAAG,GAAG,GAAG,CAAC,OAAO,CAAA;WAC/C;UAED,IAAI,OAAO,GAAG,CAAC,IAAI,KAAK,QAAQ,EAAE;cAChC,QAAQ,GAAG,CAAC,IAAI;kBACd,KAAK,QAAQ;sBACX,SAAS,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAC9B,MAAK;kBAEP,KAAK,MAAM;sBACT,OAAO,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAC5B,MAAK;kBAEP,KAAK,QAAQ,CAAC;kBACd,KAAK,SAAS;sBACZ,SAAS,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAC9B,MAAK;kBAEP,KAAK,YAAY,CAAC;kBAClB,KAAK,MAAM,CAAC;kBACZ,KAAK,UAAU;sBACb,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAClC,MAAK;kBAEP,KAAK,mBAAmB;sBACtB,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAClC,MAAK;kBAEP,KAAK,UAAU;sBACb,WAAW,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAChC,MAAK;kBAEP,KAAK,OAAO;sBACV,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAC7B,MAAK;kBAEP,KAAK,aAAa;sBAChB,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAClC,MAAK;kBAEP,KAAK,SAAS;sBACZ,UAAU,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAC/B,MAAK;kBAEP,KAAK,SAAS;sBACZ,UAAU,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAC/B,MAAK;kBAEP,KAAK,iBAAiB,CAAC;kBACvB,KAAK,WAAW,CAAC;kBACjB,KAAK,eAAe;sBAClB,kBAAkB,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBACvC,MAAK;kBAEP,KAAK,OAAO,CAAC;kBACb,KAAK,UAAU;sBACb,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAC7B,MAAK;kBAEP,KAAK,YAAY;sBACf,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAClC,MAAK;kBAEP,KAAK,QAAQ,CAAC;kBACd,KAAK,WAAW;sBACd,SAAS,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAC9B,MAAK;kBAEP,KAAK,OAAO,CAAC;kBACb,KAAK,UAAU;sBACb,WAAW,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAChC,MAAK;kBAEP,KAAK,QAAQ,CAAC;kBACd,KAAK,WAAW;sBACd,SAAS,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAC9B,MAAK;kBAEP,KAAK,OAAO,CAAC;kBACb,KAAK,UAAU;sBACb,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAC7B,MAAK;kBAEP,KAAK,MAAM;sBACT,OAAO,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAC5B,MAAK;kBAEP,KAAK,WAAW;sBACd,YAAY,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBACjC,MAAK;kBAEP,KAAK,SAAS;sBACZ,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAC3B,MAAK;kBAEP,KAAK,MAAM;sBACT,OAAO,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAC5B,MAAK;kBAEP,KAAK,MAAM;sBACT,OAAO,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAC5B,MAAK;kBAEP,KAAK,UAAU;sBACb,WAAW,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;sBAChC,MAAK;eACR;WACF;OACF,CAAC,CAAA;MAEF,IAAI,MAAM,EAAE;UACV,KAAK,CAAC,MAAM,GAAG,MAAM,CAAA;OACtB;EACH,CAAC;EAED;;;;AAIA,WAAgB,gBAAgB,CAAe,SAAyC,EAAE,OAAiB;MAAjB,wBAAA,EAAA,YAAiB;;MAEzG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;UACnB,OAAO,CAAC,MAAM,GAAG,EAAE,CAAA;OACpB;MAED,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;UACpB,OAAO,CAAC,OAAO,GAAG,EAAE,CAAA;OACrB;MAED,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;UACxB,OAAO,CAAC,WAAW,GAAG,EAAE,CAAA;OACzB;MAED,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE;UAC3B,OAAO,CAAC,cAAc,GAAG,EAAE,CAAA;OAC5B;MAED,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;UACpB,OAAO,CAAC,OAAO,GAAG,EAAE,CAAA;OACrB;MAED,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;UACpB,OAAO,CAAC,OAAO,GAAG,EAAE,CAAA;OACrB;;MAGD,KACE,IAAI,KAAK,GAAG,SAAS,CAAC,SAAS,EAC/B,KAAK,CAAC,WAAW,KAAK,GAAG,EACzB,KAAK,GAAG,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,EACpC;;UAEA,cAAc,CAAC,KAAK,EAAE,OAAO,CAAC,CAAA;OAC/B;;MAGD,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,EAAgB,CAAC,CAAA;;MAGpD,IAAM,OAAO,GAAG,SAAS,CAAC,SAAS,CAAC,OAAO,CAAA;MAC3C,OAAO,SAAS,CAAC,SAAS,CAAC,OAAO,CAAA;;MAGlC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC;UAClB,IAAI,EAAJ;cACE,IAAM,IAAI,cACR,IAAI,EAAE,EAAE,EACR,MAAM,EAAE,SAAS,EACjB,UAAU,EAAE,SAAS,EACrB,YAAY,EAAE,SAAS,EACvB,UAAU,EAAE,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,EACnC,YAAY,EAAE,KAAK,IAChB,0BAA0B,CAAC,IAAI,EAAE,SAAS,CAAC,CAC/C,CAAA;cACD,OAAO,IAAI,CAAA;WACZ;UACD,OAAO,EAAP;cAAA,iBAUC;cATC,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;kBACtB,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAC,IAAc;sBAC7B,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE;0BACnC,IAAI,EAAE,IAAI,CAAC,IAAI;0BACf,SAAS,EAAE,IAAI,CAAC,SAAS;uBAC1B,CAAC,CAAA;;mBAEH,CAAC,CAAA;eACH;WACF;UACD,SAAS,iBAAM;UACf,OAAO,EAAE;cACP,MAAM,EAAN;kBAAA,iBAIC;kBAHC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,UAAA,IAAI;sBAC1B,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,CAAA;mBAChB,CAAC,CAAA;eACH;cACD,MAAM,EAAN;kBAAA,iBAIC;kBAHC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,UAAA,IAAI;sBAC1B,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,CAAA;mBAChB,CAAC,CAAA;eACH;cACD,SAAS,EAAT;;kBAEE,IAAM,KAAK,GAAU,IAAI,CAAC,YAAY,EAAE,CAAA;;kBAGxC,kBAAkB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAA;kBAC/B,OAAO,KAAK,CAAA;eACb;cACD,WAAW,EAAX;kBACE,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAA;eACpB;cACD,aAAa,EAAb,UAA0D,UAAe;kBACvE,IAAI,CAAC,UAAU,GAAG,UAAU,CAAA;eAC7B;cACD,UAAU,EAAV,UAAuD,UAAe,EAAE,SAAc,EAAE,eAAgC;kBAAhC,gCAAA,EAAA,uBAAgC;;kBAEtH,IAAM,MAAM,GAAQ,IAAI,CAAA;kBACxB,MAAM,CAAC,UAAU,GAAG,UAAU,CAAA;kBAC9B,MAAM,CAAC,YAAY,GAAG,SAAS,CAAA;;kBAG/B,IAAM,KAAK,GAAQ,MAAM,CAAC,YAAY,EAAE,CAAA;kBACxC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE;sBACzB,KAAK,CAAC,IAAI,GAAG;0BACX,QAAQ,EAAE,gBAAgB;uBAC3B,CAAA;mBACF;uBAAI;sBACH,IAAG,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,EAAC;0BAC/B,KAAK,CAAC,IAAI,CAAC,OAAO,GAAC,EAAE,CAAA;uBACtB;mBACF;;kBAED,kBAAkB,CAAC,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,CAAA;;kBAEtC,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE;sBACb,IAAI,EAAE,QAAQ;sBACd,KAAK,EAAE,KAAK,CAAC,KAAK,KAAK,SAAS,GAAG,IAAI,GAAG,KAAK,CAAC,KAAK;sBACrD,IAAI,EAAE,KAAK,CAAC,IAAI,KAAK,SAAS,GAAG,IAAI,GAAG,KAAK,CAAC,IAAI;sBAClD,KAAK,EAAE,KAAK,CAAC,KAAK,KAAK,SAAS,GAAG,IAAI,GAAG,KAAK,CAAC,KAAK;sBACrD,QAAQ,EAAE,QAAQ;sBAClB,MAAM,EAAE,KAAK,CAAC,MAAM,KAAK,SAAS,GAAG,IAAI,GAAG,KAAK,CAAC,MAAM;sBACxD,IAAI,EAAE;0BACJ,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE;8BACjC,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC,KAAK,EAAE,GAAG,EAAE,8BAA8B,EAAE;8BAC1E;kCACE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE;sCACzC,MAAM,CAAC,MAAM,CAAC,UAAU,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC;sCACrD,IAAI,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE;0CAC5B,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC;0CACzC,MAAM,CAAC,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;0CAC3C,MAAM,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC;0CACvB,MAAM,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC;0CACtB,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,gBAAgB,EAAE,CAAC,CAAC;uCACzC;2CAAM;0CACL,MAAM,CAAC,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC;0CACzC,MAAM,CAAC,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;0CAC3C,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,cAAc,EAAE,CAAC,CAAC;uCACvC;sCACD,MAAM,CAAC,MAAM,EAAE,CAAC;sCAChB,IAAI,CAAC,OAAO,EAAE,CAAC;mCAChB;+BACF;8BACD;kCACE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE;sCACpE,MAAM,CAAC,KAAK,EAAE,CAAC;mCAChB;+BACF;2BACF;uBACF;sBACD,EAAE,EAAE;0BACF,MAAM;8BACJ,MAAM,CAAC,MAAM,EAAE,CAAA;8BACf,MAAM,CAAC,YAAY,GAAG,IAAI,CAAA;2BAC3B;0BACD,UAAU;8BACR,MAAM,CAAC,OAAO,EAAE,CAAA;2BACjB;uBACF;mBACF,CAAC,CAAA;kBACF,IAAM,MAAM,GAAQ,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,CAAA;kBACnC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;kBACtC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;kBAEnB,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,UAAC,KAAK;sBAClC,IAAI,KAAK,CAAC,OAAO,KAAK,EAAE,EAAE;0BACxB,MAAM,CAAC,KAAK,EAAE,CAAA;0BACd,KAAK,CAAC,eAAe,EAAE,CAAA;0BACvB,KAAK,CAAC,cAAc,EAAE,CAAA;0BACtB,OAAO;uBACR;sBACD,IAAI,KAAK,CAAC,OAAO,KAAK,EAAE,EAAE;0BACxB,MAAM,CAAC,OAAO,EAAE,CAAA;0BAChB,IAAI,eAAe,EAAE;8BACnB,KAAK,CAAC,eAAe,EAAE,CAAA;2BACxB;0BACD,KAAK,CAAC,cAAc,EAAE,CAAA;0BACtB,OAAO;uBACR;mBACF,CAAC,CAAA;eACH;WACF;OACF,CAAC,CAAA;;MAGF,IAAM,SAAS,GAAQ,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;MAC1C,OAAO,SAAS,CAAA;EAClB,CAAC;EAED;;;AAGA,WAAgB,MAAM,CAAe,QAAgB,EAAE,UAAoC;MACzF,IAAM,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,mBAAmB,CAAC,CAAA;MACrD,IAAI,UAAU,EAAE;UACd,UAAU,CAAC,UAAU,EAAE,CAAA;UACvB,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,mBAAmB,EAAE,IAAI,CAAC,CAAA;OACzC;MAED,IAAM,GAAG,GAAI,UAAkB,CAAC,SAAS,EAAE,CAAA;MAC3C,GAAG,CAAC,SAAS,GAAG,QAAQ,CAAA;MACxB,UAAU,CAAC,QAAQ,GAAG,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,CAAA;MACnC,UAAU,CAAC,MAAM,EAAE,CAAA;MAEnB,KAAK,CAAC,KAAK,CAAM,MAAM,EAAE,QAAQ,EAAE;;UAEjC,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAA;OAC7B,CAAC,CAAA;MAEF,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,mBAAmB,EAAE,UAAU,CAAC,QAAQ,CAAC,CAAA;MACvD,OAAO,UAAU,CAAC,QAAQ,CAAA;EAC5B,CAAC;EAED;;;;;;AAMA,WAAgB,WAAW,CACzB,MAAgC,EAChC,OAAe,EACf,KAAY;MAEZ,kBAAkB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAA;MACjC,KAAK,CAAC,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE,CAAC,MAAM,CAAC,UAAU,GAAG,GAAG,GAAG,OAAO,CAAC,CAAC,CAAA;EAC9D,CAAC;;WChmBe,QAAQ,CAAC,WAAmB,EAAE,QAAgB,EAAE,IAAS,EAAE,MAAW;MAClF,IAAM,MAAM,GAAQ,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;MAC5C,MAAM,CAAC,OAAO,EAAE,CAAC;MACjB,IAAM,eAAe,GAAG,UAAC,MAAW;UAChC,OAAO,CAAC,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC,eAAe,CAAC,MAAM,CAAC,CAAA;OAChH,CAAC;;;;;MAMF,IAAM,QAAQ,GAAG,IAAI,GAAG,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;MAEhD,IAAM,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;MACjC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;MAC9B,GAAG,CAAC,YAAY,GAAG,MAAM,CAAC;;MAE1B,GAAG,CAAC,gBAAgB,CAAC,cAAc,EAAE,mCAAmC,CAAC,CAAC;MAC1E,IAAI,MAAM,EAAE;UACR,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,UAAC,CAAC,EAAE,CAAC;cAClB,GAAG,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;WAC9B,CAAC,CAAA;OACL;MACD,GAAG,CAAC,MAAM,GAAG,UAAU,CAAM;UACzB,IAAI,IAAI,CAAC,MAAM,KAAK,GAAG,EAAE;cACrB,IAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;cAC3B,IAAI,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,4BAA4B,CAAC,EAAE;kBAC/C,SAAS,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;kBACpC,MAAM,CAAC,YAAY,EAAE,CAAC;eAEzB;mBAAM;kBACH,IAAM,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;kBACtC,IAAM,GAAG,GAAG,eAAe,CAAC,IAAI,CAAC,CAAC;kBAClC,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC;kBACb,CAAC,CAAC,QAAQ,GAAG,QAAQ,CAAC;kBACtB,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;kBACpB,CAAC,CAAC,KAAK,EAAE,CAAC;kBACV,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;kBACd,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,GAAG,CAAC,CAAA;kBAC/B,MAAM,CAAC,YAAY,EAAE,CAAC;eACzB;WACJ;OACJ,CAAC;MACF,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;EACvB,CAAC;EAED;;;AAGA,WAAgB,UAAU,CAAC,YAAmC;MAE1D,IAAI,YAAY,CAAC,OAAO,EAAE;UACtB,KAAK,CAAC,QAAQ,CAAC,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC;OACjD;MAED,OAAO,UAAU,MAAmB;UAEhC,IAAM,EAAE,GAAuB;cAC3B,GAAG,EAAE,MAAM,CAAC,GAAG;WAClB,CAAC;UAEF,IAAI,MAAM,CAAC,MAAM,KAAK,UAAU,EAAE;cAC9B,QAAQ,CAAC,YAAY,CAAC,OAAO,GAAG,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,QAAQ,IAAI,MAAM,EACjE,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;cACjC,OAAO,IAAI,OAAO,CAAqB,UAAC,QAAQ,EAAE,MAAM;eACvD,CAAC,CAAC;WACN;UAED,IAAI,MAAM,CAAC,MAAM,KAAK,WAAW,EAAE;cAC/B,EAAE,CAAC,MAAM,GAAG,MAAM,CAAC;cACnB,EAAE,CAAC,OAAO,cACN,cAAc,EAAE,kBAAkB,IAC/B,MAAM,CAAC,OAAO,CACpB,CAAC;cACF,EAAE,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;WAExC;eAAM,IAAI,MAAM,CAAC,MAAM,KAAK,WAAW,EAAE;;cAEtC,IAAI,KAAK,GAAG,IAAI,QAAQ,EAAE,CAAC;cAC3B,EAAE,CAAC,OAAO,cACN,cAAc,EAAE,qBAAqB,IAClC,MAAM,CAAC,OAAO,CACpB,CAAC;cACF,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,UAAC,KAAK,EAAE,GAAG;kBAC7B,IAAI,GAAG,KAAK,OAAO,EAAE;sBACjB,IAAI,GAAC,GAAG,CAAC,CAAC;sBACV,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,UAAA,CAAC;0BACX,KAAK,CAAC,MAAM,CAAC,MAAM,IAAI,EAAE,GAAC,CAAC,EAAE,CAAC,CAAC,CAAA;uBAClC,CAAC,CAAA;mBACL;uBAAM;sBACH,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,CAAA;mBAC3B;eACJ,CAAC,CAAC;cACH,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC;cAChB,EAAE,CAAC,MAAM,GAAG,MAAM,CAAA;WACrB;eAAM,IAAI,MAAM,CAAC,MAAM,KAAK,MAAM,EAAE;cACjC,EAAE,CAAC,MAAM,GAAG,MAAM,CAAC;cACnB,EAAE,CAAC,OAAO,cACN,cAAc,EAAE,mCAAmC,IAChD,MAAM,CAAC,OAAO,CACpB,CAAC;cACF,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;WAEtC;eAAM,IAAI,MAAM,CAAC,MAAM,KAAK,KAAK,EAAE;cAChC,EAAE,CAAC,MAAM,GAAG,KAAK,CAAC;cAClB,EAAE,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAA;cACvB,EAAE,CAAC,OAAO,gBACH,MAAM,CAAC,OAAO,CACpB,CAAA;WAEJ;eAAM;cACH,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAA;WACpC;UAED,OAAO,IAAI,OAAO,CAAqB,UAAC,QAAQ,EAAE,MAAM;cACpD,KAAK,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,WAA+B;kBAC3C,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;eAE7B,CAAC,CAAC,KAAK,CAAC,UAAC,MAAW;kBACjB,MAAM,CAAC,MAAM,CAAC,CAAA;eACjB,CAAC,CAAA;WACL,CAAC,CAAA;OACL,CAAA;EACL,CAAC;;;ECxLD,WAAiB,EAAE;MAsDf;UAKI,gBAAY,YAA+B;cACvC,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC,OAAO,CAAA;cACnC,IAAI,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAA;cAC7B,IAAI,CAAC,SAAS,GAAG,YAAY,CAAC,SAAS,CAAA;WAC1C;UAED,wBAAO,GAAP,UAAQ,MAAwB;cAAhC,iBAiCC;cAhCG,OAAO,IAAI,OAAO,EAAE,UAAC,OAAO,EAAE,MAAM;kBAChC,IAAM,SAAS,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;kBACnC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;kBAEvB,KAAI,CAAC,IAAI,CAAC;sBACN,GAAG,EAAE,KAAI,CAAC,OAAO,GAAG,UAAU;sBAC9B,MAAM,EAAE,WAAW;sBACnB,IAAI,EAAE;0BACF,EAAE,EAAE,KAAI,CAAC,SAAS;0BAClB,KAAK,EAAE,MAAM,CAAC,KAAK;0BACnB,MAAM,EAAE,MAAM,CAAC,MAAM;uBACxB;mBAEJ,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;sBACT,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE;0BAChB,IAAA,cAA4C,EAA1C,YAAG,EAAE,qBAAiB,EAAE,cAAkB,CAAA;0BAClD,IAAI,GAAG,EAAE;8BACL,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,EAAE,GAAG,KAAA,EAAE,SAAS,WAAA,EAAE,CAAC,CAAA;2BACjD;0BACD,OAAO,CAAC,IAAI,CAAC,CAAA;0BACb,OAAM;uBACT;sBACD,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;mBAEnB,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;sBACT,MAAM,CAAC,GAAG,CAAC,CAAA;mBAEd,CAAC,CAAC,OAAO,CAAC;sBACP,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAA;mBAC7B,CAAC,CAAA;eAEL,EAAE,CAAA;WACN;UAED,sBAAK,GAAL,UAAM,MAAsB;cAA5B,iBAqCC;cApCG,OAAO,IAAI,OAAO,EAAE,UAAC,OAAO,EAAE,MAAM;kBAChC,IAAM,SAAS,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;kBACnC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;kBAEvB,KAAI,CAAC,IAAI,CAAC;sBACN,GAAG,EAAE,KAAI,CAAC,OAAO,GAAG,QAAQ;sBAC5B,MAAM,EAAE,WAAW;sBACnB,IAAI,EAAE;0BACF,EAAE,EAAE,KAAI,CAAC,SAAS;0BAClB,WAAW,EAAE,MAAM,CAAC,WAAW;0BAC/B,YAAY,EAAE,MAAM,CAAC,YAAY;0BACjC,KAAK,EAAE,MAAM,CAAC,KAAK;0BACnB,WAAW,EAAE,MAAM,CAAC,WAAW;0BAC/B,SAAS,EAAE,MAAM,CAAC,SAAS;0BAC3B,KAAK,EAAE,MAAM,CAAC,KAAK;0BACnB,MAAM,EAAE,MAAM,CAAC,MAAM;uBACxB;mBAEJ,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;sBACT,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE;0BAChB,IAAA,cAA4C,EAA1C,YAAG,EAAE,qBAAiB,EAAE,cAAkB,CAAA;0BAClD,IAAI,GAAG,EAAE;8BACL,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,EAAE,GAAG,KAAA,EAAE,SAAS,WAAA,EAAE,CAAC,CAAA;2BAC/C;0BACD,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;0BAClB,OAAM;uBACT;sBACD,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;mBAEnB,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;sBACT,MAAM,CAAC,GAAG,CAAC,CAAA;mBAEd,CAAC,CAAC,OAAO,CAAC;sBACP,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAA;mBAC7B,CAAC,CAAA;eACL,EAAE,CAAA;WACN;UACL,aAAC;OAAA,IAAA;MApFY,SAAM,SAoFlB,CAAA;EACL,CAAC,EA3IgBC,UAAE,KAAFA,UAAE,QA2IlB;EAED;;;AAGA,WAAgB,QAAQ,CAAC,YAA+B;MACpD,OAAO,IAAIA,UAAE,CAAC,MAAM,CAAC,YAAY,CAAC,CAAA;EACtC,CAAC;;ECpJD;;;AAGA,WAAgB,cAAc;MAC1B,IAAM,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;MACrC,IAAM,UAAU,GAAQ,EAAE,CAAC;MAC3B,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;UACvB,IAAI,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;UACxB,IAAM,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;UAC5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;cAClC,IAAM,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;cAC9B,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;WACvC;OACJ;MACD,OAAO,UAAU,CAAC;EACtB,CAAC;EAED;;;AAGA,WAAgB,SAAS,CAAC,GAAQ;MAC9B,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;UACzB,OAAO,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAA;OAC1B;MACD,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;UAChB,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,UAAC,IAAI;cACnB,OAAO,SAAS,CAAC,IAAI,CAAC,CAAA;WACzB,CAAC,CAAA;OACL;MACD,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;UACzB,IAAM,KAAG,GAAQ,EAAE,CAAA;UACnB,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,UAAC,KAAK,EAAE,GAAG;cACrB,KAAG,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAA;WAChC,CAAC,CAAA;UACF,OAAO,KAAG,CAAA;OACb;MACD,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC,CAAA;EAC/B,CAAC;EAED;;;AAGA,WAAgB,SAAS,CAAC,GAAQ;MAC9B,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;UACzB,OAAO,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAA;OAC1B;MACD,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;UAChB,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,UAAC,IAAI;cACnB,OAAO,SAAS,CAAC,IAAI,CAAC,CAAA;WACzB,CAAC,CAAA;OACL;MACD,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;UACzB,IAAM,KAAG,GAAQ,EAAE,CAAA;UACnB,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,UAAC,KAAK,EAAE,GAAG;cACrB,KAAG,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAA;WAChC,CAAC,CAAA;UACF,OAAO,KAAG,CAAA;OACb;MACD,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC,CAAA;EAC/B,CAAC;EAGD;;;AAGA,WAAgB,KAAK,CAAC,GAAQ;MAC1B,OAAO,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;EACvB,CAAC;EAED;;;;AAIA,WAAgB,OAAO,CAAC,KAAa;MACjC,IAAM,WAAW,GAAQ,EAAE,CAAC;MAC5B,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE;UAC3B,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;OAC1B;MACD,IAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;MAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;UAClC,IAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;UAChC,IAAI,CAAC,CAAC,CAAC,GAAG,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;UACtC,IAAI,CAAC,CAAC,CAAC,GAAG,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;;UAEtC,IAAI,OAAO,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,WAAW,EAAE;cAC7C,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;WAClC;eAAM,IAAI,OAAO,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;cACjD,IAAM,GAAG,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;cAC5C,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;WAC9B;eAAM;cACH,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;WACtC;OACJ;MACD,OAAO,WAAW,CAAC;EACvB,CAAC;;;;MCvEsD,8BAAG;MAA1D;;OA0GC;;;;MAhFC,2BAAM,GAAN,eAAkB;;;;MAKlB,2BAAM,GAAN,eAAkB;;;;MAOlB,6BAAQ,GAAR,UAAS,OAAe;UACtB,OAAO,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,YAAY,CAAC,GAAG,GAAG,GAAG,OAAO,CAAC,CAAA;OAC3D;MAOD,6BAAQ,GAAR,UAAS,UAAkB;UAA3B,iBAqCC;UApCC,OAAO,IAAI,OAAO,CAAM,UAAC,QAAQ,EAAE,MAAM;cACvC,IAAM,WAAW,GAAQ,CAAC,CAAC,GAAG,CAAC,KAAI,EAAE,oBAAoB,GAAG,UAAU,CAAC,CAAC;cAExE,IAAM,MAAM,GAAG,EAAE,CAAC;cAClB,IAAI,CAAC,CAAC,GAAG,CAAC,WAAW,EAAE,WAAW,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,WAAW,EAAE,WAAW,CAAC,EAAE;kBAC/E,IAAM,cAAc,GAAG,WAAW,CAAC,mBAAmB,EAAE,CAAC;kBACzD,IAAI,cAAc,EAAE;sBAClB,WAAW,CAAC,WAAW,CAAC,cAAc,CAAC,CAAA;sBACvC,WAAW,CAAC,kBAAkB,EAAE,CAAA;sBAChC,WAAW,CAAC,KAAK,EAAE,CAAA;sBACnB,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,WAAW,CAAC,UAAU,EAAE,cAAc,CAAC,CAAA;mBACtD;eACF;mBACI;kBACH,IAAI,QAAM,GAAG,KAAK,CAAC;kBACnB,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,UAAC,GAAG,EAAE,GAAG;sBAC9B,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,WAAW,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,WAAW,CAAC,EAAE;0BAC/D,IAAM,cAAc,GAAG,GAAG,CAAC,mBAAmB,EAAE,CAAC;0BACjD,IAAI,cAAc,EAAE;8BAClB,GAAG,CAAC,kBAAkB,EAAE,CAAA;8BACxB,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,cAAc,CAAC,CAAA;8BAClC,IAAI,CAAC,QAAM,EAAE;kCACX,QAAM,GAAG,IAAI,CAAA;kCACb,GAAG,CAAC,WAAW,CAAC,cAAc,CAAC,CAAA;kCAC/B,GAAG,CAAC,KAAK,EAAE,CAAA;+BACZ;2BACF;uBACF;mBACF,CAAC,CAAC;eACJ;cACD,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;kBACtB,MAAM,CAAC,MAAM,CAAC,CAAA;eACf;mBAAM;kBACL,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,KAAI,EAAE,UAAU,CAAC,CAAC,CAAC;eACnC;WACF,CAAC,CAAC;OACJ;MAKD,sBAAI,6BAAK;eAUT;cACE,IAAI,IAAI,CAAC,QAAQ,EAAE;;kBAEjB,OAAe,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC;eAC3C;cACD,OAAO,MAAM,CAAC;WACf;;;;eAhBD,UAAU,CAAS;cACjB,IAAI,IAAI,CAAC,QAAQ,EAAE;;kBAEjB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,CAAA;kBAChC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,gDAAgD,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;kBACtF,OAAM;eACP;cACD,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,CAAA;WAC5B;;;SAAA;MASH,iBAAC;EAAD,CA1GA,CAAuD,GAAG,GA0GzD;;MAEsD,8BAAwB;MAA/E;;OAoFC;;;;MAtDC,0BAAK,GAAL;UACE,IAAI,CAAC,WAAW,EAAE,CAAA;OACnB;;;;MAKD,4BAAO,GAAP;UACE,SAAQ;OACT;;;;MAKD,4BAAO,GAAP,eAAa;MAUb,sBAAI,6BAAK;;;;eAAT;cACE,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;mBAClB,IAAI,CAAC,oBAAoB,CAAC;mBAC1B,IAAI,EAAE,CAAA;WACV;;;;eAKD,UAAU,EAAU;cAClB,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;mBACX,IAAI,CAAC,oBAAoB,CAAC;mBAC1B,IAAI,CAAC,EAAE,CAAC,CAAA;WACZ;;;SATA;;;;MAcD,gCAAW,GAAX;UACE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,UAAU,CAAC,CAAA;;UAE7C,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,YAAY,CAAC,CAAA;OACxC;;;;MAKD,iCAAY,GAAZ;UACE,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAA;OAC5B;MACH,iBAAC;EAAD,CApFA,CAAuD,UAAU,GAoFhE;EAID;;;;AAIA,WAAgB,SAAS,CAAe,MAAY;MAClD,OAAO,UAAU,SAAmC;UAClD,OAAO,gBAAgB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAA;OAC3C,CAAA;;;;;;;EASH,CAAC;EAwBD;;;AAGA,WAAgB,KAAK,CACnB,QAAgB,EAChB,IAAqB,EACrB,SAA0B;MAD1B,qBAAA,EAAA,YAAqB;MACrB,0BAAA,EAAA,iBAA0B;MAE1B,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;UAC/B,IAAI,GAAG,KAAK,CAAA;OACb;MACD,IAAI,OAAO,SAAS,KAAK,WAAW,EAAE;UACpC,SAAS,GAAG,KAAK,CAAA;OAClB;MACD,OAAO,UAAU,MAAW,EAAE,WAAmB,EAAE,UAA8B;UAC/E,IAAI,OAAO,MAAM,CAAC,OAAO,KAAK,WAAW,EAAE;cACzC,MAAM,CAAC,OAAO,GAAG,EAAE,CAAA;WACpB;UACD,IAAM,KAAK,GAAa;cACtB,IAAI,EAAE,QAAQ;cACd,IAAI,MAAA;cACJ,SAAS,WAAA;cACT,OAAO,EAAE,UAAU,CAAC,KAAK;WAC1B,CAAA;UACD,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;OAC3B,CAAA;EACH,CAAC;;EC7RD;AACA,EAEA;;;AAGA,WAAgB,KAAK;MACjB,OAAO,EAAE,CAAC;EACd,CAAC;EAED;;;AAGA,WAAgB,cAAc,CAAC,MAAe;MAC1C,IAAM,UAAU,GAAG,EAAE,CAAC,gBAAgB,CAClC,iBAAiB,EACjB,EAAE,EACF,EAAE,CAAC,YAAY,CAAC,MAAM;yBACH,KAAK,EACxB,EAAE,CAAC,UAAU,CAAC,EAAE,CACnB,CAAC;MACF,IAAM,OAAO,GAAG,EAAE,CAAC,aAAa,CAAC;UAC7B,OAAO,EAAE,EAAE,CAAC,WAAW,CAAC,QAAQ;OACnC,CAAC,CAAC;MACH,IAAM,MAAM,GAAG,OAAO,CAAC,SAAS,CAC5B,EAAE,CAAC,QAAQ,CAAC,WAAW,EACvB,MAAM,EACN,UAAU,CACb,CAAC;MAEF,OAAO,MAAM,CAAC;EAClB,CAAC;EAED;;;AAGA,WAAgB,WAAW,CAAC,OAAe;MACvC,IAAM,IAAI,GAAG,EAAE,CAAC,gBAAgB,CAC5B,iBAAiB,EACjB,OAAO,EACP,EAAE,CAAC,YAAY,CAAC,MAAM;yBACH,KAAK,EACxB,EAAE,CAAC,UAAU,CAAC,EAAE,CACnB,CAAC;MACF,OAAO,IAAI,CAAC,UAAU,CAAC;EAC3B,CAAC;AAED,WAAgB,UAAU;MACtB,IAAM,UAAU,GAAG,EAAE,CAAC,gBAAgB,CAClC,iBAAiB,EACjB,WAAW,EACX,EAAE,CAAC,YAAY,CAAC,MAAM;yBACH,KAAK,EACxB,EAAE,CAAC,UAAU,CAAC,EAAE,CACnB,CAAC;MAEF,OAAO,UAAU,CAAC;EACtB,CAAC;AAED,WAAgB,SAAS;MAErB,SAAS,qBAAqB;UAE1B,IAAM,YAAY,GAAG,EAAE,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;UACtD,IAAM,SAAS,GAAG,EAAE,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;UAC3C,IAAM,SAAS,GAAG,EAAE,CAAC,eAAe;yBACjB,SAAS;wBACV,SAAS;6BACJ,SAAS,EAC5B,SAAS,CACZ,CAAC;UAEF,IAAM,SAAS,GAAG,EAAE,CAAC,YAAY,CAC7B,SAAS,EACT,EAAE,CAAC,UAAU,CAAC,mBAAmB,EACjC,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,CACtB,CAAC;UAEF,IAAM,MAAM,GAAG,EAAE,CAAC,WAAW,CACzB,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;wBACxB,IAAI,CACrB,CAAC;UACF,IAAM,cAAc,GAAG,EAAE,CAAC,YAAY,CAClC,SAAS,EACT,EAAE,CAAC,UAAU,CAAC,UAAU,EACxB,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,CACtB,CAAC;UACF,IAAM,OAAO,GAAG,EAAE,CAAC,YAAY,CAC3B,SAAS,EACT,EAAE,CAAC,UAAU,CAAC,aAAa,EAC3B,EAAE,CAAC,UAAU,CAAC,YAAY,eAAe,SAAS,EAAE,CAAC,cAAc,CAAC,CAAC,CACxE,CAAC;UACF,IAAM,UAAU,GAAG;cACf,EAAE,CAAC,qBAAqB,CACpB,SAAS,EACT,SAAS,EACT,EAAE,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAC7B;kBACI,EAAE,CAAC,gBAAgB,CACf,EAAE,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAC7B,SAAS,CACZ;kBACD,EAAE,CAAC,gBAAgB,CACf,EAAE,CAAC,gBAAgB,CAAC,MAAM,CAAC,EAC3B,SAAS,CACZ;eACJ,CACJ;cACD,EAAE,CAAC,QAAQ,CAAC,SAAS,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC;WAC3D,CAAC;UAEF,OAAO,EAAE,CAAC,yBAAyB;yBAChB,SAAS;wBACV,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;4BACzC,SAAS,EAC3B,YAAY;6BACO,SAAS,EAC5B,CAAC,SAAS,CAAC;yBACI,EAAE,CAAC,qBAAqB,CAAC,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,EACpE,EAAE,CAAC,WAAW,CAAC,UAAU,gBAAgB,IAAI,CAAC,CACjD,CAAC;OACL;MAED,IAAM,UAAU,GAAG,EAAE,CAAC,gBAAgB,CAClC,iBAAiB,EACjB,EAAE,EACF,EAAE,CAAC,YAAY,CAAC,MAAM;yBACH,KAAK,EACxB,EAAE,CAAC,UAAU,CAAC,EAAE,CACnB,CAAC;MACF,IAAM,OAAO,GAAG,EAAE,CAAC,aAAa,CAAC;UAC7B,OAAO,EAAE,EAAE,CAAC,WAAW,CAAC,QAAQ;OACnC,CAAC,CAAC;MACH,IAAM,MAAM,GAAG,OAAO,CAAC,SAAS,CAC5B,EAAE,CAAC,QAAQ,CAAC,WAAW,EACvB,qBAAqB,EAAE,EACvB,UAAU,CACb,CAAC;MAEF,OAAO,MAAM,CAAC;EAClB,CAAC;EAED,IAAM,WAAW,GAAG,u1EAuElB,CAAC;;;;MC1JD;UAAA,iBAIC;UAJW,cAAuC;eAAvC,UAAuC,EAAvC,qBAAuC,EAAvC,IAAuC;cAAvC,yBAAuC;;UALnD,eAAU,GAAiC;cACzC,KAAK,EAAE,EAAE;cACT,MAAM,EAAE,EAAE;WACX,CAAA;UAGC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,UAAA,GAAG;cACd,KAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;WAChB,CAAC,CAAA;OACH;MAED,mCAAK,GAAL,UAAM,EAAgC;UACpC,IAAI,CAAC,UAAU,CAAC,KAAK,IACnB,CAAC,CAAC,MAAM,gBAAK,IAAI,CAAC,UAAU,CAAC,KAAK,EAAK,EAAE,CAAC,KAAK,GAAG,MAAM,CAAC,CAC1D,CAAA;UACD,IAAI,EAAE,CAAC,MAAM,EAAE;cACb,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;kBAC1B,IAAI,CAAC,UAAU,CAAC,MAAM,IACpB,CAAC,CAAC,MAAM,gBAAK,IAAI,CAAC,UAAU,CAAC,MAAM,EAAK,EAAE,CAAC,MAAM,GAAG,MAAM,CAAC,CAC5D,CAAA;eACF;mBAAM;kBACL,IAAI,CAAC,UAAU,CAAC,MAAM,GAAQ,CAAC,CAAC,MAAM,gBAAK,EAAE,CAAC,MAAM,GAAG,MAAM,CAAC,CAAA;eAC/D;WACF;OACF;;;;MAKD,6CAAe,GAAf,UAAgB,IAAe;UAC7B,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,KAAK,KAAK,IAAI,GAAA,CAAC,CAAA;OAC9D;;;;MAKD,uCAAS,GAAT;UACE,OAAO,IAAI,CAAC,UAAU,CAAC,MAAO,CAAA;OAC/B;MACH,0BAAC;EAAD,CAAC,IAAA;;;MCxFY,wBAAwB,GAAG,IAAI,GAAG,EAA+B,CAAA;EAE9E,wBAAwB,CAAC,GAAG,CAC1B,QAAQ,EACR,IAAI,mBAAmB,CAAC;MACtB,KAAK,EAAE;UACL;cACE,IAAI,EAAE,YAAY;cAClB,OAAO,EAAE,IAAI;cACb,KAAK,EAAE,KAAK;cACZ,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,SAAS;WAChB;UACD;cACE,IAAI,EAAE,MAAM;cACZ,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,KAAK;cACZ,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,CAAC;WACjD;OACF;GACF,CAAC,CACH,CAAA;EAED,IAAM,MAAM,GAAiC;MAC3C,KAAK,EAAE;UACL;cACE,IAAI,EAAE,YAAY;cAClB,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,MAAM;cACb,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,SAAS;cACf,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,MAAM;cACb,IAAI,EAAE,KAAK;cACX,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,KAAK;cACX,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,KAAK;cACZ,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,MAAM;cACZ,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,KAAK;cACZ,IAAI,EAAE,QAAQ;cACd,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,QAAQ;cACd,OAAO,EAAE,IAAI;cACb,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,SAAS;WAChB;UACD;cACE,IAAI,EAAE,SAAS;cACf,OAAO,EAAE,SAAS;cAClB,KAAK,EAAE,KAAK;cACZ,IAAI,EAAE,KAAK;cACX,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,QAAQ;cACd,OAAO,EAAE,SAAS;cAClB,KAAK,EAAE,KAAK;cACZ,IAAI,EAAE,KAAK;cACX,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,IAAI;cACV,OAAO,EAAE,CAAC;cACV,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,QAAQ;cACd,IAAI,EAAE,QAAQ;WACf;OACF;MACD,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC;GACpD,CAAA;EAED,IAAMC,cAAY,GAAiC;MACjD,KAAK,EAAE;UACL;cACE,IAAI,EAAE,MAAM;cACZ,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,MAAM;cACb,IAAI,EAAE,OAAO;cACb,IAAI,EAAE,YAAY;WACnB;OACF;MACD,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,gBAAgB,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC;GACxD,CAAA;EAED,wBAAwB,CAAC,GAAG,CAC1B,UAAU,EACV,IAAI,mBAAmB,CAAC,MAAM,EAAE;MAC9B,KAAK,EAAE;UACL;cACE,IAAI,EAAE,UAAU;cAChB,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,QAAQ;cACd,IAAI,EAAE,QAAQ;WACf;OACF;GACF,CAAC,CACH,CAAA;EAED,wBAAwB,CAAC,GAAG,CAC1B,MAAM,EACN,IAAI,mBAAmB,CAAC,MAAM,EAAE;MAC9B,KAAK,EAAE;UACL;cACE,IAAI,EAAE,OAAO;cACb,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,YAAY;cAClB,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,QAAQ;cACd,IAAI,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC;WAClC;UACD;cACE,IAAI,EAAE,YAAY;cAClB,OAAO,EAAE,SAAS;cAClB,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,SAAS;cACf,OAAO,EAAE,CAAC;cACV,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,UAAU;cAChB,OAAO,EAAE,KAAK;cACd,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,IAAI;cACV,IAAI,EAAE,SAAS;WAChB;UACD;cACE,IAAI,EAAE,UAAU;cAChB,OAAO,EAAE,KAAK;cACd,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,IAAI;cACV,IAAI,EAAE,SAAS;WAChB;UACD;cACE,IAAI,EAAE,UAAU;cAChB,OAAO,EAAE,KAAK;cACd,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,IAAI;cACV,IAAI,EAAE,SAAS;WAChB;UACD;cACE,IAAI,EAAE,OAAO;cACb,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,KAAK;cACX,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,QAAQ;cACd,OAAO,EAAE,KAAK;cACd,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,IAAI;cACV,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,WAAW;cACjB,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,OAAO;WACd;OACF;GACF,CAAC,CACH,CAAA;EAED,wBAAwB,CAAC,GAAG,CAC1B,QAAQ,EACR,IAAI,mBAAmB,CAAC,MAAM,EAAE;MAC9B,KAAK,EAAE;UACL;cACE,IAAI,EAAE,MAAM;cACZ,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,MAAM;cACZ,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,UAAU;cAChB,OAAO,EAAE,KAAK;cACd,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,SAAS;WAChB;UACD;cACE,IAAI,EAAE,SAAS;cACf,OAAO,EAAE,CAAC;cACV,KAAK,EAAE,KAAK;cACZ,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,SAAS;cACf,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,SAAS;cACf,OAAO,EAAE,SAAS;cAClB,KAAK,EAAE,KAAK;cACZ,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,CAAC;WAClD;OACF;MACD,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC;GACnD,CAAC,CACH,CAAA;EAED,wBAAwB,CAAC,GAAG,CAC1B,OAAO,EACP,IAAI,mBAAmB,CAAC,MAAM,EAAE;MAC9B,KAAK,EAAE;UACL;cACE,IAAI,EAAE,OAAO;cACb,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,OAAO;cACb,OAAO,EAAE,MAAM;cACf,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC;WAClC;UACD;cACE,IAAI,EAAE,UAAU;cAChB,OAAO,EAAE,KAAK;cACd,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,SAAS;WAChB;UACD;cACE,IAAI,EAAE,OAAO;cACb,OAAO,EAAE,GAAG;cACZ,KAAK,EAAE,KAAK;cACZ,IAAI,EAAE,IAAI;cACV,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,SAAS;cACf,OAAO,EAAE,CAAC;cACV,KAAK,EAAE,KAAK;cACZ,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,QAAQ;WACf;UACD;cACE,IAAI,EAAE,SAAS;cACf,OAAO,EAAE,EAAE;cACX,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,QAAQ;WACf;OACF;GACF,CAAC,CACH,CAAA;EAED,wBAAwB,CAAC,GAAG,CAC1B,MAAM,EACN,IAAI,mBAAmB,CAACA,cAAY,EAAE,MAAM,EAAE;MAC5C,KAAK,EAAE;UACL;cACE,IAAI,EAAE,cAAc;cACpB,OAAO,EAAE,KAAK;cACd,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,SAAS;WAChB;UACD;cACE,IAAI,EAAE,cAAc;cACpB,OAAO,EAAE,IAAI;cACb,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,QAAQ;cACd,IAAI,EAAE,SAAS;WAChB;UACD;cACE,IAAI,EAAE,UAAU;cAChB,OAAO,EAAE,IAAI;cACb,KAAK,EAAE,QAAQ;cACf,IAAI,EAAE,MAAM;cACZ,IAAI,EAAE,SAAS;WAChB;OACF;MACD,MAAM,EAAE;UACN,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE,UAAU,EAAE;UACzC,EAAE,IAAI,EAAE,gBAAgB,EAAE,IAAI,EAAE,UAAU,EAAE;OAC7C;GACF,CAAC,CACH,CAAA;;;ECzUD,SAAS,oBAAoB,CAAC,SAAc,EAAE,IAAY;EAE1D,CAAC;EAED;;;AAGA,WAAgB,aAAa,CAAC,IAAY;MACtC,OAAO,UAAU,SAAc;UAC3B,OAAO,oBAAoB,CAAC,AAAe,CAAC,CAAC;OAChD,CAAC;EACN,CAAC;EAED;AACA;MAAA;OAOC;MAAD,wBAAC;EAAD,CAAC,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}